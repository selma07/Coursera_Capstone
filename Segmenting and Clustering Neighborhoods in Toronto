{
    "cells": [
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Task 1 - Download data from Wikipedia page, create Dataframe, clean it, shape"
        },
        {
            "cell_type": "code",
            "execution_count": 1,
            "metadata": {},
            "outputs": [],
            "source": "#Download Libraries \nimport requests\nimport pandas as pd"
        },
        {
            "cell_type": "code",
            "execution_count": 2,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Regent Park, Harbourfront</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Manor, Lawrence Heights</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M7A</td>\n      <td>Downtown Toronto</td>\n      <td>Queen's Park, Ontario Provincial Government</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "  Postal Code           Borough                                 Neighborhood\n2         M3A        North York                                    Parkwoods\n3         M4A        North York                             Victoria Village\n4         M5A  Downtown Toronto                    Regent Park, Harbourfront\n5         M6A        North York             Lawrence Manor, Lawrence Heights\n6         M7A  Downtown Toronto  Queen's Park, Ontario Provincial Government"
                    },
                    "execution_count": 2,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#read HTML tables into a list of DataFrame objects, remove cells with a borough that is Not assigned\n\nwiki = 'https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M'\nwikipedia_page = requests.get(wiki)\n\ndf_raw = pd.read_html(wikipedia_page.content, header=0)[0]\ndf_new = df_raw[df_raw.Borough != 'Not assigned']\n\ndf_new.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 6,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n    </tr>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "Empty DataFrame\nColumns: [Postal Code, Borough, Neighborhood]\nIndex: []"
                    },
                    "execution_count": 6,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_new.loc[df_new.Neighborhood == 'Not assigned']"
        },
        {
            "cell_type": "code",
            "execution_count": 8,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>M3A</td>\n      <td>North York</td>\n      <td>Parkwoods</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M4A</td>\n      <td>North York</td>\n      <td>Victoria Village</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M5A</td>\n      <td>Downtown Toronto</td>\n      <td>Regent Park, Harbourfront</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M6A</td>\n      <td>North York</td>\n      <td>Lawrence Manor, Lawrence Heights</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M7A</td>\n      <td>Downtown Toronto</td>\n      <td>Queen's Park, Ontario Provincial Government</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue, Humber Valley Village</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Malvern, Rouge</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M3B</td>\n      <td>North York</td>\n      <td>Don Mills</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M4B</td>\n      <td>East York</td>\n      <td>Parkview Hill, Woodbine Gardens</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M5B</td>\n      <td>Downtown Toronto</td>\n      <td>Garden District, Ryerson</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "   Postal Code           Borough                                 Neighborhood\n2          M3A        North York                                    Parkwoods\n3          M4A        North York                             Victoria Village\n4          M5A  Downtown Toronto                    Regent Park, Harbourfront\n5          M6A        North York             Lawrence Manor, Lawrence Heights\n6          M7A  Downtown Toronto  Queen's Park, Ontario Provincial Government\n8          M9A         Etobicoke      Islington Avenue, Humber Valley Village\n9          M1B       Scarborough                               Malvern, Rouge\n11         M3B        North York                                    Don Mills\n12         M4B         East York              Parkview Hill, Woodbine Gardens\n13         M5B  Downtown Toronto                     Garden District, Ryerson"
                    },
                    "execution_count": 8,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_new.Neighborhood.replace('Not assigned',df_new.Borough,inplace=True)\ndf_new.head(10)"
        },
        {
            "cell_type": "code",
            "execution_count": 15,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Malvern, Rouge</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M1E</td>\n      <td>Scarborough</td>\n      <td>Guildwood, Morningside, West Hill</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M1G</td>\n      <td>Scarborough</td>\n      <td>Woburn</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M1H</td>\n      <td>Scarborough</td>\n      <td>Cedarbrae</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "  Postal Code      Borough                            Neighborhood\n0         M1B  Scarborough                          Malvern, Rouge\n1         M1C  Scarborough  Rouge Hill, Port Union, Highland Creek\n2         M1E  Scarborough       Guildwood, Morningside, West Hill\n3         M1G  Scarborough                                  Woburn\n4         M1H  Scarborough                               Cedarbrae"
                    },
                    "execution_count": 15,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_toronto = df_new.groupby(['Postal Code', 'Borough'])['Neighborhood'].apply(lambda x: ', '.join(x))\ndf_toronto = df_toronto.reset_index()\ndf_toronto.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 16,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(103, 3)"
                    },
                    "execution_count": 16,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_toronto.shape"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Task 2 - Part 2 latitude and the longitude coordinates of each neighborhood\u00b6"
        },
        {
            "cell_type": "code",
            "execution_count": 18,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M1B</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M1C</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M1E</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M1G</td>\n      <td>43.770992</td>\n      <td>-79.216917</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M1H</td>\n      <td>43.773136</td>\n      <td>-79.239476</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "  Postal Code   Latitude  Longitude\n0         M1B  43.806686 -79.194353\n1         M1C  43.784535 -79.160497\n2         M1E  43.763573 -79.188711\n3         M1G  43.770992 -79.216917\n4         M1H  43.773136 -79.239476"
                    },
                    "execution_count": 18,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "url = 'http://cocl.us/Geospatial_data'\ndf_geo=pd.read_csv(url)\ndf_geo.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 19,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(103, 3)"
                    },
                    "execution_count": 19,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_geo.shape\n"
        },
        {
            "cell_type": "code",
            "execution_count": 21,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "<bound method NDFrame.head of     Postal Code           Borough  \\\n0           M1B       Scarborough   \n1           M1C       Scarborough   \n2           M1E       Scarborough   \n3           M1G       Scarborough   \n4           M1H       Scarborough   \n5           M1J       Scarborough   \n6           M1K       Scarborough   \n7           M1L       Scarborough   \n8           M1M       Scarborough   \n9           M1N       Scarborough   \n10          M1P       Scarborough   \n11          M1R       Scarborough   \n12          M1S       Scarborough   \n13          M1T       Scarborough   \n14          M1V       Scarborough   \n15          M1W       Scarborough   \n16          M1X       Scarborough   \n17          M2H        North York   \n18          M2J        North York   \n19          M2K        North York   \n20          M2L        North York   \n21          M2M        North York   \n22          M2N        North York   \n23          M2P        North York   \n24          M2R        North York   \n25          M3A        North York   \n26          M3B        North York   \n27          M3C        North York   \n28          M3H        North York   \n29          M3J        North York   \n..          ...               ...   \n73          M6C              York   \n74          M6E              York   \n75          M6G  Downtown Toronto   \n76          M6H      West Toronto   \n77          M6J      West Toronto   \n78          M6K      West Toronto   \n79          M6L        North York   \n80          M6M              York   \n81          M6N              York   \n82          M6P      West Toronto   \n83          M6R      West Toronto   \n84          M6S      West Toronto   \n85          M7A  Downtown Toronto   \n86          M7R       Mississauga   \n87          M7Y      East Toronto   \n88          M8V         Etobicoke   \n89          M8W         Etobicoke   \n90          M8X         Etobicoke   \n91          M8Y         Etobicoke   \n92          M8Z         Etobicoke   \n93          M9A         Etobicoke   \n94          M9B         Etobicoke   \n95          M9C         Etobicoke   \n96          M9L        North York   \n97          M9M        North York   \n98          M9N              York   \n99          M9P         Etobicoke   \n100         M9R         Etobicoke   \n101         M9V         Etobicoke   \n102         M9W         Etobicoke   \n\n                                          Neighborhood   Latitude  Longitude  \n0                                       Malvern, Rouge  43.806686 -79.194353  \n1               Rouge Hill, Port Union, Highland Creek  43.784535 -79.160497  \n2                    Guildwood, Morningside, West Hill  43.763573 -79.188711  \n3                                               Woburn  43.770992 -79.216917  \n4                                            Cedarbrae  43.773136 -79.239476  \n5                                  Scarborough Village  43.744734 -79.239476  \n6          Kennedy Park, Ionview, East Birchmount Park  43.727929 -79.262029  \n7                      Golden Mile, Clairlea, Oakridge  43.711112 -79.284577  \n8      Cliffside, Cliffcrest, Scarborough Village West  43.716316 -79.239476  \n9                          Birch Cliff, Cliffside West  43.692657 -79.264848  \n10   Dorset Park, Wexford Heights, Scarborough Town...  43.757410 -79.273304  \n11                                   Wexford, Maryvale  43.750072 -79.295849  \n12                                           Agincourt  43.794200 -79.262029  \n13             Clarks Corners, Tam O'Shanter, Sullivan  43.781638 -79.304302  \n14   Milliken, Agincourt North, Steeles East, L'Amo...  43.815252 -79.284577  \n15                       Steeles West, L'Amoreaux West  43.799525 -79.318389  \n16                                         Upper Rouge  43.836125 -79.205636  \n17                                   Hillcrest Village  43.803762 -79.363452  \n18                        Fairview, Henry Farm, Oriole  43.778517 -79.346556  \n19                                     Bayview Village  43.786947 -79.385975  \n20                            York Mills, Silver Hills  43.757490 -79.374714  \n21                             Willowdale, Newtonbrook  43.789053 -79.408493  \n22                         Willowdale, Willowdale East  43.770120 -79.408493  \n23                                     York Mills West  43.752758 -79.400049  \n24                         Willowdale, Willowdale West  43.782736 -79.442259  \n25                                           Parkwoods  43.753259 -79.329656  \n26                                           Don Mills  43.745906 -79.352188  \n27                                           Don Mills  43.725900 -79.340923  \n28     Bathurst Manor, Wilson Heights, Downsview North  43.754328 -79.442259  \n29                     Northwood Park, York University  43.767980 -79.487262  \n..                                                 ...        ...        ...  \n73                                  Humewood-Cedarvale  43.693781 -79.428191  \n74                                 Caledonia-Fairbanks  43.689026 -79.453512  \n75                                            Christie  43.669542 -79.422564  \n76                        Dufferin, Dovercourt Village  43.669005 -79.442259  \n77                            Little Portugal, Trinity  43.647927 -79.419750  \n78        Brockton, Parkdale Village, Exhibition Place  43.636847 -79.428191  \n79            North Park, Maple Leaf Park, Upwood Park  43.713756 -79.490074  \n80    Del Ray, Mount Dennis, Keelsdale and Silverthorn  43.691116 -79.476013  \n81                       Runnymede, The Junction North  43.673185 -79.487262  \n82                       High Park, The Junction South  43.661608 -79.464763  \n83                              Parkdale, Roncesvalles  43.648960 -79.456325  \n84                                  Runnymede, Swansea  43.651571 -79.484450  \n85         Queen's Park, Ontario Provincial Government  43.662301 -79.389494  \n86               Canada Post Gateway Processing Centre  43.636966 -79.615819  \n87   Business reply mail Processing Centre, South C...  43.662744 -79.321558  \n88        New Toronto, Mimico South, Humber Bay Shores  43.605647 -79.501321  \n89                              Alderwood, Long Branch  43.602414 -79.543484  \n90       The Kingsway, Montgomery Road, Old Mill North  43.653654 -79.506944  \n91   Old Mill South, King's Mill Park, Sunnylea, Hu...  43.636258 -79.498509  \n92   Mimico NW, The Queensway West, South of Bloor,...  43.628841 -79.520999  \n93             Islington Avenue, Humber Valley Village  43.667856 -79.532242  \n94   West Deane Park, Princess Gardens, Martin Grov...  43.650943 -79.554724  \n95   Eringate, Bloordale Gardens, Old Burnhamthorpe...  43.643515 -79.577201  \n96                                       Humber Summit  43.756303 -79.565963  \n97                                    Humberlea, Emery  43.724766 -79.532242  \n98                                              Weston  43.706876 -79.518188  \n99                                           Westmount  43.696319 -79.532242  \n100  Kingsview Village, St. Phillips, Martin Grove ...  43.688905 -79.554724  \n101  South Steeles, Silverstone, Humbergate, Jamest...  43.739416 -79.588437  \n102                Northwest, West Humber - Clairville  43.706748 -79.594054  \n\n[103 rows x 5 columns]>"
                    },
                    "execution_count": 21,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "df_toronto = df_toronto.join(df_geo.set_index('Postal Code'), on='Postal Code')\ndf_toronto.head"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Task 3 Foursquere API to segment and cluster the neighborhoods of Toronto"
        },
        {
            "cell_type": "code",
            "execution_count": 22,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Solving environment: done\n\n# All requested packages already installed.\n\nThe geograpical coordinate of Toronto are 43.6534817, -79.3839347.\n"
                }
            ],
            "source": "!conda install -c conda-forge geocoder --yes\nimport geocoder\nfrom geopy.geocoders import Nominatim \n\naddress = 'Toronto, Ontario'\n\ngeolocator = Nominatim(user_agent=\"toronto_explorer\")\nlocation = geolocator.geocode(address)\nlatitude = location.latitude\nlongitude = location.longitude\nprint('The geograpical coordinate of Toronto are {}, {}.'.format(latitude, longitude))"
        },
        {
            "cell_type": "code",
            "execution_count": 26,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzNDgxNywtNzkuMzgzOTM0N10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfZGJlMjRmZTllNWNkNGVkYmFiNDlmMzFjZDFmMGYwYTQgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU2MDQ1NGNhNzY5OTQyYTk4MDY5ZDUyYjE1MGQwYTVhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA2Njg2Mjk5OTk5OTk2LC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNTliMjY1MTk4NWI0NDk4ODc0YjMxOWQxM2UzY2FlNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mODkwZmUzNmZiNGE0ZDJmOGNmYzk5ZjU2YzE0M2NkYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZjg5MGZlMzZmYjRhNGQyZjhjZmM5OWY1NmMxNDNjZGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hbHZlcm4sIFJvdWdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzU5YjI2NTE5ODViNDQ5ODg3NGIzMTlkMTNlM2NhZTYuc2V0Q29udGVudChodG1sX2Y4OTBmZTM2ZmI0YTRkMmY4Y2ZjOTlmNTZjMTQzY2RhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU2MDQ1NGNhNzY5OTQyYTk4MDY5ZDUyYjE1MGQwYTVhLmJpbmRQb3B1cChwb3B1cF9jNTliMjY1MTk4NWI0NDk4ODc0YjMxOWQxM2UzY2FlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZGE3NTc1OGRjYWY0MzcwOTFjZTI0ZTU5MjI3YTI3ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDUzNTEsLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMxNDgyZTM4M2Y1YjRhNDRiNzRmNzgzMjhhOWZhNWE3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M1MGFiYmI4ODE0MzRmMmViMDRkODU2MzYzNDAxNjg0ID0gJCgnPGRpdiBpZD0iaHRtbF9jNTBhYmJiODgxNDM0ZjJlYjA0ZDg1NjM2MzQwMTY4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um91Z2UgSGlsbCwgUG9ydCBVbmlvbiwgSGlnaGxhbmQgQ3JlZWssIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMTQ4MmUzODNmNWI0YTQ0Yjc0Zjc4MzI4YTlmYTVhNy5zZXRDb250ZW50KGh0bWxfYzUwYWJiYjg4MTQzNGYyZWIwNGQ4NTYzNjM0MDE2ODQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2RhNzU3NThkY2FmNDM3MDkxY2UyNGU1OTIyN2EyN2UuYmluZFBvcHVwKHBvcHVwXzMxNDgyZTM4M2Y1YjRhNDRiNzRmNzgzMjhhOWZhNWE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJkODgzNDQ4MzcyZjRkN2I5NzdiYTg2ZjVhNzJiYjE0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YWRlNDM1ZjhlYWE0YTMyOGNlNGQxOTNmYTI3MzViZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ZTlmOWQ2ZjdhOGI0NjJhYTA1ZTViMGEzOGYwYTUxZCA9ICQoJzxkaXYgaWQ9Imh0bWxfN2U5ZjlkNmY3YThiNDYyYWEwNWU1YjBhMzhmMGE1MWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkd1aWxkd29vZCwgTW9ybmluZ3NpZGUsIFdlc3QgSGlsbCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRhZGU0MzVmOGVhYTRhMzI4Y2U0ZDE5M2ZhMjczNWJkLnNldENvbnRlbnQoaHRtbF83ZTlmOWQ2ZjdhOGI0NjJhYTA1ZTViMGEzOGYwYTUxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZDg4MzQ0ODM3MmY0ZDdiOTc3YmE4NmY1YTcyYmIxNC5iaW5kUG9wdXAocG9wdXBfNGFkZTQzNWY4ZWFhNGEzMjhjZTRkMTkzZmEyNzM1YmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmIyZjEyMGMwOTkyNDIzZjg1YTI3NzYzYTNlOWQ2MTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNmNiYzA3NjVmOWI0OTc5OTBkOWEyZmI2OTFjZTNjMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MmVjYWQ2MzNkZjA0ZmIxYTIyNGU4MDRiMWFhNmZmZCA9ICQoJzxkaXYgaWQ9Imh0bWxfODJlY2FkNjMzZGYwNGZiMWEyMjRlODA0YjFhYTZmZmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I2Y2JjMDc2NWY5YjQ5Nzk5MGQ5YTJmYjY5MWNlM2MyLnNldENvbnRlbnQoaHRtbF84MmVjYWQ2MzNkZjA0ZmIxYTIyNGU4MDRiMWFhNmZmZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYjJmMTIwYzA5OTI0MjNmODVhMjc3NjNhM2U5ZDYxMS5iaW5kUG9wdXAocG9wdXBfYjZjYmMwNzY1ZjliNDk3OTkwZDlhMmZiNjkxY2UzYzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzg2ZjM1NDg4MzU2NDNmYTkxZDFlNWJjNDRkMDAyNmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzMxMzYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IyOTFhM2Q0MWU3NDRjNzY4YWZkNTc0ZTBlYTgzYzNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ0ZmE4NDc5NGYyYzRiZmQ4ZDAxNTM4MGZmZjE1NDI4ID0gJCgnPGRpdiBpZD0iaHRtbF80NGZhODQ3OTRmMmM0YmZkOGQwMTUzODBmZmYxNTQyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VkYXJicmFlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjI5MWEzZDQxZTc0NGM3NjhhZmQ1NzRlMGVhODNjM2Yuc2V0Q29udGVudChodG1sXzQ0ZmE4NDc5NGYyYzRiZmQ4ZDAxNTM4MGZmZjE1NDI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc4NmYzNTQ4ODM1NjQzZmE5MWQxZTViYzQ0ZDAwMjZkLmJpbmRQb3B1cChwb3B1cF9iMjkxYTNkNDFlNzQ0Yzc2OGFmZDU3NGUwZWE4M2MzZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNWEyZGM1NWYzZDM0M2JjYTA1YTI4NWUxZjg2M2M2NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NDczNDIsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FkNzNkYmZkOGVmNDRkOGRiNmJiOTJjYzdkNzkzMTliID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q2OGZiM2FlMjYwNTRjNmQ4N2YyNzZjM2UzZGJkZjhkID0gJCgnPGRpdiBpZD0iaHRtbF9kNjhmYjNhZTI2MDU0YzZkODdmMjc2YzNlM2RiZGY4ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2ggVmlsbGFnZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkNzNkYmZkOGVmNDRkOGRiNmJiOTJjYzdkNzkzMTliLnNldENvbnRlbnQoaHRtbF9kNjhmYjNhZTI2MDU0YzZkODdmMjc2YzNlM2RiZGY4ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNWEyZGM1NWYzZDM0M2JjYTA1YTI4NWUxZjg2M2M2Ni5iaW5kUG9wdXAocG9wdXBfYWQ3M2RiZmQ4ZWY0NGQ4ZGI2YmI5MmNjN2Q3OTMxOWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzY2ZmY2ODg2ZmVjNDY4NWE4YWUwMzNkNjYyNmVmMmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjc5MjkyLC03OS4yNjIwMjk0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZjM4ZTkxZTk0MDU0ODc2YTVmODVhMDY0NTdmMzQ2ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZmI3YTVkNzA2MWU0Mzc4ODAwODUwYmYzZGU3OTFlMSA9ICQoJzxkaXYgaWQ9Imh0bWxfY2ZiN2E1ZDcwNjFlNDM3ODgwMDg1MGJmM2RlNzkxZTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktlbm5lZHkgUGFyaywgSW9udmlldywgRWFzdCBCaXJjaG1vdW50IFBhcmssIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZjM4ZTkxZTk0MDU0ODc2YTVmODVhMDY0NTdmMzQ2ZS5zZXRDb250ZW50KGh0bWxfY2ZiN2E1ZDcwNjFlNDM3ODgwMDg1MGJmM2RlNzkxZTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzY2ZmY2ODg2ZmVjNDY4NWE4YWUwMzNkNjYyNmVmMmYuYmluZFBvcHVwKHBvcHVwX2NmMzhlOTFlOTQwNTQ4NzZhNWY4NWEwNjQ1N2YzNDZlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk2NWVkYzhmYmM1ZTRkY2E4YTkzMmFiMzExNGUzMGU2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExMTExNzAwMDAwMDA0LC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q0OGYxOTE1ZDVhNjQ2ZDlhZmFkMWM2ZDBjZjkxMGQ1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcyYjhkMDU1NTQ4NzQ3MTA4ODBmMWIyNmVmYmI3NjAzID0gJCgnPGRpdiBpZD0iaHRtbF83MmI4ZDA1NTU0ODc0NzEwODgwZjFiMjZlZmJiNzYwMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R29sZGVuIE1pbGUsIENsYWlybGVhLCBPYWtyaWRnZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q0OGYxOTE1ZDVhNjQ2ZDlhZmFkMWM2ZDBjZjkxMGQ1LnNldENvbnRlbnQoaHRtbF83MmI4ZDA1NTU0ODc0NzEwODgwZjFiMjZlZmJiNzYwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NjVlZGM4ZmJjNWU0ZGNhOGE5MzJhYjMxMTRlMzBlNi5iaW5kUG9wdXAocG9wdXBfZDQ4ZjE5MTVkNWE2NDZkOWFmYWQxYzZkMGNmOTEwZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmMyMDU1ZmE1YmNjNGQ5OThmZGQ5YzdmYmQ2NDk4Y2YgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTYzMTYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkwMjU3Yjg1YWMxODRiNmRiNWZlZThjOWJjYmNkYWI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkwZTc4MGQzMjY4YzRlNzNiMzI1NmI3YjFiMmQ2OTU2ID0gJCgnPGRpdiBpZD0iaHRtbF85MGU3ODBkMzI2OGM0ZTczYjMyNTZiN2IxYjJkNjk1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xpZmZzaWRlLCBDbGlmZmNyZXN0LCBTY2FyYm9yb3VnaCBWaWxsYWdlIFdlc3QsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MDI1N2I4NWFjMTg0YjZkYjVmZWU4YzliY2JjZGFiNC5zZXRDb250ZW50KGh0bWxfOTBlNzgwZDMyNjhjNGU3M2IzMjU2YjdiMWIyZDY5NTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmMyMDU1ZmE1YmNjNGQ5OThmZGQ5YzdmYmQ2NDk4Y2YuYmluZFBvcHVwKHBvcHVwXzkwMjU3Yjg1YWMxODRiNmRiNWZlZThjOWJjYmNkYWI0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRhOWMxNmI5OWNjMDQ1OTJhMWVkMmQ2YjhiOTI4NzY3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkyNjU3MDAwMDAwMDA0LC03OS4yNjQ4NDgxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZjYTQ1N2MwNTg1NDRlZTI4NTRhNGMyYTdiZWNkMWMyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JmYWNjODk5MTUzOTQ4Mzc4OTU1Y2UzM2NiZDIxNmMwID0gJCgnPGRpdiBpZD0iaHRtbF9iZmFjYzg5OTE1Mzk0ODM3ODk1NWNlMzNjYmQyMTZjMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsIENsaWZmc2lkZSBXZXN0LCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmNhNDU3YzA1ODU0NGVlMjg1NGE0YzJhN2JlY2QxYzIuc2V0Q29udGVudChodG1sX2JmYWNjODk5MTUzOTQ4Mzc4OTU1Y2UzM2NiZDIxNmMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRhOWMxNmI5OWNjMDQ1OTJhMWVkMmQ2YjhiOTI4NzY3LmJpbmRQb3B1cChwb3B1cF82Y2E0NTdjMDU4NTQ0ZWUyODU0YTRjMmE3YmVjZDFjMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wOWM1ZDRhZGE4ZDY0OWM4YjI5YWI2MTJjZWQ5MjI3OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsLTc5LjI3MzMwNDAwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E3OGVmZTFkZGZmMzQzNGI4MDE5NDY5ZjBjYjUwZjRjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MwZDA0YjU1YjIzMTQ0ZThhOGE0NTY2M2U5MmMyNjQ3ID0gJCgnPGRpdiBpZD0iaHRtbF9jMGQwNGI1NWIyMzE0NGU4YThhNDU2NjNlOTJjMjY0NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yc2V0IFBhcmssIFdleGZvcmQgSGVpZ2h0cywgU2NhcmJvcm91Z2ggVG93biBDZW50cmUsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNzhlZmUxZGRmZjM0MzRiODAxOTQ2OWYwY2I1MGY0Yy5zZXRDb250ZW50KGh0bWxfYzBkMDRiNTViMjMxNDRlOGE4YTQ1NjYzZTkyYzI2NDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDljNWQ0YWRhOGQ2NDljOGIyOWFiNjEyY2VkOTIyNzkuYmluZFBvcHVwKHBvcHVwX2E3OGVmZTFkZGZmMzQzNGI4MDE5NDY5ZjBjYjUwZjRjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JjYTE5N2Y2ZTU2NDRlNzI4ZjdkYjVkZmMzYzgwMTAxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUwMDcxNTAwMDAwMDA0LC03OS4yOTU4NDkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFkYTY2ZWI4YTgxYjQyNWJhMGJmZWFlYWEyMWFkNDVjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk2MzJlYmUyOWE2YzQxOTU5YTk3OTQ5N2Y5MGViYWZlID0gJCgnPGRpdiBpZD0iaHRtbF85NjMyZWJlMjlhNmM0MTk1OWE5Nzk0OTdmOTBlYmFmZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2V4Zm9yZCwgTWFyeXZhbGUsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZGE2NmViOGE4MWI0MjViYTBiZmVhZWFhMjFhZDQ1Yy5zZXRDb250ZW50KGh0bWxfOTYzMmViZTI5YTZjNDE5NTlhOTc5NDk3ZjkwZWJhZmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmNhMTk3ZjZlNTY0NGU3MjhmN2RiNWRmYzNjODAxMDEuYmluZFBvcHVwKHBvcHVwXzFkYTY2ZWI4YTgxYjQyNWJhMGJmZWFlYWEyMWFkNDVjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I5ZGQwZDJiYWFiODQwMTY4YzhhNTYwNmI4Yzg4Y2JiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk0MjAwMywtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGZmMjI5NWIyNjZiNDVkMTkyOGU0MDk3OTI3OWNjYjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjJiZGM0NWZjYmMyNDRkOWEzZThlMmM1ZDRiNTFhNWYgPSAkKCc8ZGl2IGlkPSJodG1sX2YyYmRjNDVmY2JjMjQ0ZDlhM2U4ZTJjNWQ0YjUxYTVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZmYyMjk1YjI2NmI0NWQxOTI4ZTQwOTc5Mjc5Y2NiNS5zZXRDb250ZW50KGh0bWxfZjJiZGM0NWZjYmMyNDRkOWEzZThlMmM1ZDRiNTFhNWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjlkZDBkMmJhYWI4NDAxNjhjOGE1NjA2YjhjODhjYmIuYmluZFBvcHVwKHBvcHVwXzRmZjIyOTViMjY2YjQ1ZDE5MjhlNDA5NzkyNzljY2I1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkyNmU1MjcwYWEyMDQzZThiNmJlYjFjMjZjY2UwZjQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgxNjM3NSwtNzkuMzA0MzAyMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NWY2M2VhOWE3YjY0MGJlOTA5NGJjMjFmZDEyZmRjZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wODFiMGUwNTJlYTI0NTcxYjQ5ZTVhZGE0MDM0NTIyMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMDgxYjBlMDUyZWEyNDU3MWI0OWU1YWRhNDAzNDUyMjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsYXJrcyBDb3JuZXJzLCBUYW0gTyYjMzk7U2hhbnRlciwgU3VsbGl2YW4sIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NWY2M2VhOWE3YjY0MGJlOTA5NGJjMjFmZDEyZmRjZi5zZXRDb250ZW50KGh0bWxfMDgxYjBlMDUyZWEyNDU3MWI0OWU1YWRhNDAzNDUyMjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTI2ZTUyNzBhYTIwNDNlOGI2YmViMWMyNmNjZTBmNDEuYmluZFBvcHVwKHBvcHVwXzQ1ZjYzZWE5YTdiNjQwYmU5MDk0YmMyMWZkMTJmZGNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkwNDAyOTUzZjU5ODQ1NGI5NWFiMWNlYTBlYjI2NjAzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODE1MjUyMiwtNzkuMjg0NTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMzc1NTRjMTZlOTc0NTE3OThhODdkMGZiZDQ2MmQxMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yOTM3OTRmY2VmOTg0OTQzOTg4YzUwOWQ2NzAzN2EwYSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjkzNzk0ZmNlZjk4NDk0Mzk4OGM1MDlkNjcwMzdhMGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1pbGxpa2VuLCBBZ2luY291cnQgTm9ydGgsIFN0ZWVsZXMgRWFzdCwgTCYjMzk7QW1vcmVhdXggRWFzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzNzU1NGMxNmU5NzQ1MTc5OGE4N2QwZmJkNDYyZDExLnNldENvbnRlbnQoaHRtbF8yOTM3OTRmY2VmOTg0OTQzOTg4YzUwOWQ2NzAzN2EwYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MDQwMjk1M2Y1OTg0NTRiOTVhYjFjZWEwZWIyNjYwMy5iaW5kUG9wdXAocG9wdXBfZTM3NTU0YzE2ZTk3NDUxNzk4YTg3ZDBmYmQ0NjJkMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDI3OWI3YjFlNzNmNDQzMDgzNDY1NGU3OWY2ZmRjZTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTk1MjUyMDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzY2N2Y0NGEwYjc1NDUxZDkxNjE0NmEwYTg1ZGQ5MDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjY4YWQ0MDEyNmFhNDM4YjgzNTE3YTRjNjViZGFhOTIgPSAkKCc8ZGl2IGlkPSJodG1sX2Y2OGFkNDAxMjZhYTQzOGI4MzUxN2E0YzY1YmRhYTkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGVlbGVzIFdlc3QsIEwmIzM5O0Ftb3JlYXV4IFdlc3QsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NjY3ZjQ0YTBiNzU0NTFkOTE2MTQ2YTBhODVkZDkwMS5zZXRDb250ZW50KGh0bWxfZjY4YWQ0MDEyNmFhNDM4YjgzNTE3YTRjNjViZGFhOTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDI3OWI3YjFlNzNmNDQzMDgzNDY1NGU3OWY2ZmRjZTYuYmluZFBvcHVwKHBvcHVwXzc2NjdmNDRhMGI3NTQ1MWQ5MTYxNDZhMGE4NWRkOTAxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MxYTg1ZDMxYTQ2OTQxMDNiYzIxNzE5NTQ5NTk1OWRhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODM2MTI0NzAwMDAwMDA2LC03OS4yMDU2MzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZTA1Mjg1MzljMDk0YmEwOWIyNDcwOTk1ZGM1ODI4ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NDg1ZTA1MmZkOGM0ZmZmOTA4MzU2NzFlNTg4ZjNkOSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDQ4NWUwNTJmZDhjNGZmZjkwODM1NjcxZTU4OGYzZDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlVwcGVyIFJvdWdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2UwNTI4NTM5YzA5NGJhMDliMjQ3MDk5NWRjNTgyOGUuc2V0Q29udGVudChodG1sXzQ0ODVlMDUyZmQ4YzRmZmY5MDgzNTY3MWU1ODhmM2Q5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MxYTg1ZDMxYTQ2OTQxMDNiYzIxNzE5NTQ5NTk1OWRhLmJpbmRQb3B1cChwb3B1cF8zZTA1Mjg1MzljMDk0YmEwOWIyNDcwOTk1ZGM1ODI4ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNmU0OGU0Y2MwZDM0ZDEwYmQxZjI5ZmY5ODVlMjI1OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwMzc2MjIsLTc5LjM2MzQ1MTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTZmNGE0OWEyNmY4NGVmM2IwMzVkODE0MjYzNWIyNTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGZlMDdhOWU5MjA1NDk0NTg5ODgyODQ1NmY4MjYwNDcgPSAkKCc8ZGl2IGlkPSJodG1sX2RmZTA3YTllOTIwNTQ5NDU4OTg4Mjg0NTZmODI2MDQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWxsY3Jlc3QgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTZmNGE0OWEyNmY4NGVmM2IwMzVkODE0MjYzNWIyNTMuc2V0Q29udGVudChodG1sX2RmZTA3YTllOTIwNTQ5NDU4OTg4Mjg0NTZmODI2MDQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U2ZTQ4ZTRjYzBkMzRkMTBiZDFmMjlmZjk4NWUyMjU4LmJpbmRQb3B1cChwb3B1cF8xNmY0YTQ5YTI2Zjg0ZWYzYjAzNWQ4MTQyNjM1YjI1Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNmJhN2Q2YWI3Mzk0OTJiODJjNGY0OTE0ZDA3OGVkNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3ODUxNzUsLTc5LjM0NjU1NTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2EyMDdmMDdhYTIwNGZiYmI2ZTZlMmY5ZDI0YjA0ZTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTkwNTU1ODMxYjk5NDNjYjhmZjI4NzMyY2Q1MTY5NWQgPSAkKCc8ZGl2IGlkPSJodG1sX2U5MDU1NTgzMWI5OTQzY2I4ZmYyODczMmNkNTE2OTVkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GYWlydmlldywgSGVucnkgRmFybSwgT3Jpb2xlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYTIwN2YwN2FhMjA0ZmJiYjZlNmUyZjlkMjRiMDRlNi5zZXRDb250ZW50KGh0bWxfZTkwNTU1ODMxYjk5NDNjYjhmZjI4NzMyY2Q1MTY5NWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTZiYTdkNmFiNzM5NDkyYjgyYzRmNDkxNGQwNzhlZDcuYmluZFBvcHVwKHBvcHVwXzNhMjA3ZjA3YWEyMDRmYmJiNmU2ZTJmOWQyNGIwNGU2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNhNTlkMDc1ZmFjMTQxZDg4ZGY0NWE1YTU2NTUzMTkzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg2OTQ3MywtNzkuMzg1OTc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RkY2YxNjVhZDY1OTQ1NzNhOWY5OGRiYTQ2OWM0NzNjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhYmExNzQ3MGQ5NDRjOTY5YjNhNWUzYjRhOWE2NTkyID0gJCgnPGRpdiBpZD0iaHRtbF9jYWJhMTc0NzBkOTQ0Yzk2OWIzYTVlM2I0YTlhNjU5MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF5dmlldyBWaWxsYWdlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZGNmMTY1YWQ2NTk0NTczYTlmOThkYmE0NjljNDczYy5zZXRDb250ZW50KGh0bWxfY2FiYTE3NDcwZDk0NGM5NjliM2E1ZTNiNGE5YTY1OTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2E1OWQwNzVmYWMxNDFkODhkZjQ1YTVhNTY1NTMxOTMuYmluZFBvcHVwKHBvcHVwX2RkY2YxNjVhZDY1OTQ1NzNhOWY5OGRiYTQ2OWM0NzNjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q4OWZhMzFjZDBiYjRiYzhiODgyYjA5MzU4MDUwMjhjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU3NDkwMiwtNzkuMzc0NzE0MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTIzNTQ3NGQyYjgxNDgzYTg5ZjFjMTgzOWE0NGEzMGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2E4NTdkMmY2OWFkNDlmODlkOTg4NDIxY2RhZDA1N2IgPSAkKCc8ZGl2IGlkPSJodG1sXzdhODU3ZDJmNjlhZDQ5Zjg5ZDk4ODQyMWNkYWQwNTdiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzLCBTaWx2ZXIgSGlsbHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EyMzU0NzRkMmI4MTQ4M2E4OWYxYzE4MzlhNDRhMzBlLnNldENvbnRlbnQoaHRtbF83YTg1N2QyZjY5YWQ0OWY4OWQ5ODg0MjFjZGFkMDU3Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kODlmYTMxY2QwYmI0YmM4Yjg4MmIwOTM1ODA1MDI4Yy5iaW5kUG9wdXAocG9wdXBfYTIzNTQ3NGQyYjgxNDgzYTg5ZjFjMTgzOWE0NGEzMGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTM1NzI2NjZjNGU3NGRhYTgwYTFjNTA3N2JhMTYyMzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODkwNTMsLTc5LjQwODQ5Mjc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAwNmQ4M2EzZDI3ZDQwYmM4YjRmNjJlNWQ4YTRiMTdkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI5ZDY3NmNhMTZkODQ4OWRhOWVjY2FiYWVkMTllYmE1ID0gJCgnPGRpdiBpZD0iaHRtbF8yOWQ2NzZjYTE2ZDg0ODlkYTllY2NhYmFlZDE5ZWJhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSwgTmV3dG9uYnJvb2ssIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAwNmQ4M2EzZDI3ZDQwYmM4YjRmNjJlNWQ4YTRiMTdkLnNldENvbnRlbnQoaHRtbF8yOWQ2NzZjYTE2ZDg0ODlkYTllY2NhYmFlZDE5ZWJhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MzU3MjY2NmM0ZTc0ZGFhODBhMWM1MDc3YmExNjIzMC5iaW5kUG9wdXAocG9wdXBfMDA2ZDgzYTNkMjdkNDBiYzhiNGY2MmU1ZDhhNGIxN2QpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWM4NDMzZGQyOTRhNGExMzhlNDUyMGZlZWE2YzRkNDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzAxMTk5LC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZjU1NWYwNGIyOWU0ZGMyYTllYjc5NGQ0MGNkODNmOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZWIwOTkwNGQ4ODA0OTQ2ODU3MDBkZDU0YWVlZDZjNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWViMDk5MDRkODgwNDk0Njg1NzAwZGQ1NGFlZWQ2YzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUsIFdpbGxvd2RhbGUgRWFzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2Y1NTVmMDRiMjllNGRjMmE5ZWI3OTRkNDBjZDgzZjkuc2V0Q29udGVudChodG1sXzFlYjA5OTA0ZDg4MDQ5NDY4NTcwMGRkNTRhZWVkNmM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VjODQzM2RkMjk0YTRhMTM4ZTQ1MjBmZWVhNmM0ZDQ3LmJpbmRQb3B1cChwb3B1cF9jZjU1NWYwNGIyOWU0ZGMyYTllYjc5NGQ0MGNkODNmOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYmFkNGQ2NmM5MDc0MTQ2ODA1Y2Y5MTY2NTgyMzc4YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1Mjc1ODI5OTk5OTk5NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMDdjMjg4YjdjNTg0ODlhYWMwYzFlYzg2OGZkYmE5ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYzY1OWM0YTM5OWU0NTUyODJjZGIwZDE2NThiYzFkZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZmM2NTljNGEzOTllNDU1MjgyY2RiMGQxNjU4YmMxZGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcmsgTWlsbHMgV2VzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTA3YzI4OGI3YzU4NDg5YWFjMGMxZWM4NjhmZGJhOWYuc2V0Q29udGVudChodG1sX2ZjNjU5YzRhMzk5ZTQ1NTI4MmNkYjBkMTY1OGJjMWRkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NiYWQ0ZDY2YzkwNzQxNDY4MDVjZjkxNjY1ODIzNzhiLmJpbmRQb3B1cChwb3B1cF9hMDdjMjg4YjdjNTg0ODlhYWMwYzFlYzg2OGZkYmE5Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wZTdmNjhiZjYyNjI0NjhjODRhOTAzMjNiYTY5MjNjZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MjczNjQsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmE1M2M4NWY1NTM2NDIzZDhiMWIwY2ZkNjllOWEyZGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzQ0M2U1YTY3YTYwNGIyMzliZGU1NjRlY2MyMWRkNGIgPSAkKCc8ZGl2IGlkPSJodG1sX2M0NDNlNWE2N2E2MDRiMjM5YmRlNTY0ZWNjMjFkZDRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlLCBXaWxsb3dkYWxlIFdlc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJhNTNjODVmNTUzNjQyM2Q4YjFiMGNmZDY5ZTlhMmRhLnNldENvbnRlbnQoaHRtbF9jNDQzZTVhNjdhNjA0YjIzOWJkZTU2NGVjYzIxZGQ0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wZTdmNjhiZjYyNjI0NjhjODRhOTAzMjNiYTY5MjNjZC5iaW5kUG9wdXAocG9wdXBfMmE1M2M4NWY1NTM2NDIzZDhiMWIwY2ZkNjllOWEyZGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGI0ZGE3MWU0YTZiNDk0OGEzMTc3MjM2YTg4Yjc1NGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTMyNTg2LC03OS4zMjk2NTY1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk1ODc5ZjI2MDYyYTQ4YmVhYjllZjU3ZmYzYWIzYmE5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxYmVmODJiNGMxNzQ1ZGQ4YjVhOGZjMjA0ZmFiYmYzID0gJCgnPGRpdiBpZD0iaHRtbF9jMWJlZjgyYjRjMTc0NWRkOGI1YThmYzIwNGZhYmJmMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3dvb2RzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NTg3OWYyNjA2MmE0OGJlYWI5ZWY1N2ZmM2FiM2JhOS5zZXRDb250ZW50KGh0bWxfYzFiZWY4MmI0YzE3NDVkZDhiNWE4ZmMyMDRmYWJiZjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGI0ZGE3MWU0YTZiNDk0OGEzMTc3MjM2YTg4Yjc1NGUuYmluZFBvcHVwKHBvcHVwXzk1ODc5ZjI2MDYyYTQ4YmVhYjllZjU3ZmYzYWIzYmE5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzcyNWEzZDhiNTFjZjRiYzA5ZjY5ODRkZGY1NDAxNzJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ1OTA1Nzk5OTk5OTk2LC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQ1MzZmZDk1YTQ0NDlkZDkwZDZlYTEzMmQxM2JkZDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2ExY2Q2NmZmNWIzNDY3YTg5MmQ4YTBiZGQ2YTA2NTYgPSAkKCc8ZGl2IGlkPSJodG1sXzdhMWNkNjZmZjViMzQ2N2E4OTJkOGEwYmRkNmEwNjU2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb24gTWlsbHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY0NTM2ZmQ5NWE0NDQ5ZGQ5MGQ2ZWExMzJkMTNiZGQ0LnNldENvbnRlbnQoaHRtbF83YTFjZDY2ZmY1YjM0NjdhODkyZDhhMGJkZDZhMDY1Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MjVhM2Q4YjUxY2Y0YmMwOWY2OTg0ZGRmNTQwMTcyZC5iaW5kUG9wdXAocG9wdXBfNjQ1MzZmZDk1YTQ0NDlkZDkwZDZlYTEzMmQxM2JkZDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTQ3ODkwY2ViZTRlNDcxYzg4MWUzZjYyYjgyOTZlMTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4OTk3MDAwMDAwMSwtNzkuMzQwOTIzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYxZTJiYWZhMjdkYzQ3MjhhN2NkYzk5ZmU2NzhmMTdmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkyMTRlMTM5ZTg5YjQ1ZjE4Mzc0YWY1YmRlOGM5MjM4ID0gJCgnPGRpdiBpZD0iaHRtbF85MjE0ZTEzOWU4OWI0NWYxODM3NGFmNWJkZThjOTIzOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MWUyYmFmYTI3ZGM0NzI4YTdjZGM5OWZlNjc4ZjE3Zi5zZXRDb250ZW50KGh0bWxfOTIxNGUxMzllODliNDVmMTgzNzRhZjViZGU4YzkyMzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTQ3ODkwY2ViZTRlNDcxYzg4MWUzZjYyYjgyOTZlMTcuYmluZFBvcHVwKHBvcHVwXzYxZTJiYWZhMjdkYzQ3MjhhN2NkYzk5ZmU2NzhmMTdmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2Y2RjNWU1NGQ2ZjQzNWU4ZmI2YjMyYjM4NTRhYzMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU0MzI4MywtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YmI3MjM2Y2EwNjE0OWU1OGI3N2E5M2I0ZGJmNzUyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYTdjYTJjMmVlODg0OGQyYTM2NjRlNGZlYTI0NDk5YiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGE3Y2EyYzJlZTg4NDhkMmEzNjY0ZTRmZWEyNDQ5OWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhdGh1cnN0IE1hbm9yLCBXaWxzb24gSGVpZ2h0cywgRG93bnN2aWV3IE5vcnRoLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82YmI3MjM2Y2EwNjE0OWU1OGI3N2E5M2I0ZGJmNzUyOC5zZXRDb250ZW50KGh0bWxfZGE3Y2EyYzJlZTg4NDhkMmEzNjY0ZTRmZWEyNDQ5OWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZjZGM1ZTU0ZDZmNDM1ZThmYjZiMzJiMzg1NGFjMzIuYmluZFBvcHVwKHBvcHVwXzZiYjcyMzZjYTA2MTQ5ZTU4Yjc3YTkzYjRkYmY3NTI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI1MmM3ZGEzZmQ2YTQ3YjE5YTVhMzNiMmM4NDM1N2U0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzY3OTgwMywtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzU1N2EwNDE3YmUzNDE0MjkzN2FlZWY4MzVmN2VhYjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzYyZDQ4MzRjNWI4NDZiODk0YjhhOWMzZDI1MGE5ZTQgPSAkKCc8ZGl2IGlkPSJodG1sXzM2MmQ0ODM0YzViODQ2Yjg5NGI4YTljM2QyNTBhOWU0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyaywgWW9yayBVbml2ZXJzaXR5LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NTU3YTA0MTdiZTM0MTQyOTM3YWVlZjgzNWY3ZWFiNy5zZXRDb250ZW50KGh0bWxfMzYyZDQ4MzRjNWI4NDZiODk0YjhhOWMzZDI1MGE5ZTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjUyYzdkYTNmZDZhNDdiMTlhNWEzM2IyYzg0MzU3ZTQuYmluZFBvcHVwKHBvcHVwXzc1NTdhMDQxN2JlMzQxNDI5MzdhZWVmODM1ZjdlYWI3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFhN2QxYjRlZDdhOTRiYmE5N2MxN2VmZWEwNDNhNWM2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MGJjYTZiMDQ0MDk0YzJhYTM2MGY4N2RiODJjNzgzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MjRlZmZiMTdhNTA0OGE0YmZkZGUwZjJiNDk1MjFkZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDI0ZWZmYjE3YTUwNDhhNGJmZGRlMGYyYjQ5NTIxZGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODBiY2E2YjA0NDA5NGMyYWEzNjBmODdkYjgyYzc4MzAuc2V0Q29udGVudChodG1sXzQyNGVmZmIxN2E1MDQ4YTRiZmRkZTBmMmI0OTUyMWRlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFhN2QxYjRlZDdhOTRiYmE5N2MxN2VmZWEwNDNhNWM2LmJpbmRQb3B1cChwb3B1cF84MGJjYTZiMDQ0MDk0YzJhYTM2MGY4N2RiODJjNzgzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYTg5NmNmN2U2MGQ0ZDU2YjY3ZmEyZmM5OWU0NGFmYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczOTAxNDYsLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTlmZjAzNzJkOGM3NDcxMjliY2U3N2U0OTYzMmRmMDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzViNDAyNGJhYjVmNGI5NWE2ZDY4NTM5MjVlYzA3ZjYgPSAkKCc8ZGl2IGlkPSJodG1sX2M1YjQwMjRiYWI1ZjRiOTVhNmQ2ODUzOTI1ZWMwN2Y2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE5ZmYwMzcyZDhjNzQ3MTI5YmNlNzdlNDk2MzJkZjA2LnNldENvbnRlbnQoaHRtbF9jNWI0MDI0YmFiNWY0Yjk1YTZkNjg1MzkyNWVjMDdmNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYTg5NmNmN2U2MGQ0ZDU2YjY3ZmEyZmM5OWU0NGFmYy5iaW5kUG9wdXAocG9wdXBfMTlmZjAzNzJkOGM3NDcxMjliY2U3N2U0OTYzMmRmMDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODZiZDg2ODVjNTg1NDM1MmJhNDBjYTlmMWQ0YjE5ZWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjg0OTY0LC03OS40OTU2OTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mY2U2MWJkMWJkYTU0YzgzYWFjMDk1NzNlZTRmNGY3NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMTZjODY3NjhiMmM0Zjk3YTRjMjhlZGQwYTc4M2Y5NiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTE2Yzg2NzY4YjJjNGY5N2E0YzI4ZWRkMGE3ODNmOTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmNlNjFiZDFiZGE1NGM4M2FhYzA5NTczZWU0ZjRmNzQuc2V0Q29udGVudChodG1sX2UxNmM4Njc2OGIyYzRmOTdhNGMyOGVkZDBhNzgzZjk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg2YmQ4Njg1YzU4NTQzNTJiYTQwY2E5ZjFkNGIxOWVmLmJpbmRQb3B1cChwb3B1cF9mY2U2MWJkMWJkYTU0YzgzYWFjMDk1NzNlZTRmNGY3NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wOTM3OGRlMzA0YWI0YzYwOTg4NGE0ZDNmNDViOWJmNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIwYTY3NDcwNDYzNTRmNDM4YjhjYTBhNTQzYTlmMWFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAzYzQ2ZThhMTE2ZjQxMmRiZjE3YmI5MmU5YTIyNWI0ID0gJCgnPGRpdiBpZD0iaHRtbF8wM2M0NmU4YTExNmY0MTJkYmYxN2JiOTJlOWEyMjViNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMGE2NzQ3MDQ2MzU0ZjQzOGI4Y2EwYTU0M2E5ZjFhYi5zZXRDb250ZW50KGh0bWxfMDNjNDZlOGExMTZmNDEyZGJmMTdiYjkyZTlhMjI1YjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDkzNzhkZTMwNGFiNGM2MDk4ODRhNGQzZjQ1YjliZjUuYmluZFBvcHVwKHBvcHVwXzIwYTY3NDcwNDYzNTRmNDM4YjhjYTBhNTQzYTlmMWFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllOWE1M2JlOGI2NzRjNWViNWRkMTMwNzUxN2QzYjM2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODgyMjk5OTk5OTk1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zMmRhYjYwNTVlZTA0ZjhhODcwZGJkZDlmNDcwMWE2YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMTY0ODgyYzcxMDE0N2I1OTdlOWRjNWE0MWM4ODMyNiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjE2NDg4MmM3MTAxNDdiNTk3ZTlkYzVhNDFjODgzMjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpY3RvcmlhIFZpbGxhZ2UsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMyZGFiNjA1NWVlMDRmOGE4NzBkYmRkOWY0NzAxYTZhLnNldENvbnRlbnQoaHRtbF9iMTY0ODgyYzcxMDE0N2I1OTdlOWRjNWE0MWM4ODMyNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTlhNTNiZThiNjc0YzVlYjVkZDEzMDc1MTdkM2IzNi5iaW5kUG9wdXAocG9wdXBfMzJkYWI2MDU1ZWUwNGY4YTg3MGRiZGQ5ZjQ3MDFhNmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTQ3YWY4MTJmNGYyNGFhZGJiMTQyZTkxNzIwNTNkODkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDYzOTcyLC03OS4zMDk5MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGU2ODE2NzIwZGFhNDg1NTk4OTFmMWVjNWQ1OTFkODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTAzM2ZjYWU2OTI1NDk2ZDkyOGIxMzgzMTBmNWRhZTcgPSAkKCc8ZGl2IGlkPSJodG1sX2EwMzNmY2FlNjkyNTQ5NmQ5MjhiMTM4MzEwZjVkYWU3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrdmlldyBIaWxsLCBXb29kYmluZSBHYXJkZW5zLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBlNjgxNjcyMGRhYTQ4NTU5ODkxZjFlYzVkNTkxZDg1LnNldENvbnRlbnQoaHRtbF9hMDMzZmNhZTY5MjU0OTZkOTI4YjEzODMxMGY1ZGFlNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xNDdhZjgxMmY0ZjI0YWFkYmIxNDJlOTE3MjA1M2Q4OS5iaW5kUG9wdXAocG9wdXBfMGU2ODE2NzIwZGFhNDg1NTk4OTFmMWVjNWQ1OTFkODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM0YzNkMjA0YzZlNGY5OGFkNGJjZmVjZjRlYjMxZjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWRkMjBhZTM3M2M1NDViYmE0ZTI1Njg0ZGI2YTAxNzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmIzNmI0ZjJjODllNDNlZmI4OGVlNmU0OWI1Y2I5YzIgPSAkKCc8ZGl2IGlkPSJodG1sXzJiMzZiNGYyYzg5ZTQzZWZiODhlZTZlNDliNWNiOWMyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlkZDIwYWUzNzNjNTQ1YmJhNGUyNTY4NGRiNmEwMTcxLnNldENvbnRlbnQoaHRtbF8yYjM2YjRmMmM4OWU0M2VmYjg4ZWU2ZTQ5YjVjYjljMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMzRjM2QyMDRjNmU0Zjk4YWQ0YmNmZWNmNGViMzFmNi5iaW5kUG9wdXAocG9wdXBfOWRkMjBhZTM3M2M1NDViYmE0ZTI1Njg0ZGI2YTAxNzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGJlNDQ0MmQ1MWY4NDQ0MGI4YTMwODMwZjdhMGY5ZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NGM1ZDRiOWQzNzk0NDFjODE4ZTk2Nzk4ZmUzNzkyNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81NTc4MmJkMTBlNjM0MDYxOTg3MDk5ODU5YjM1MDE2ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNTU3ODJiZDEwZTYzNDA2MTk4NzA5OTg1OWIzNTAxNmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0YzVkNGI5ZDM3OTQ0MWM4MThlOTY3OThmZTM3OTI3LnNldENvbnRlbnQoaHRtbF81NTc4MmJkMTBlNjM0MDYxOTg3MDk5ODU5YjM1MDE2ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kYmU0NDQyZDUxZjg0NDQwYjhhMzA4MzBmN2EwZjlkNi5iaW5kUG9wdXAocG9wdXBfNDRjNWQ0YjlkMzc5NDQxYzgxOGU5Njc5OGZlMzc5MjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGI5NjE3YTQ3YmYyNDA0NThkM2RiZDM3NTBlMzM1YmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDkwNjA0LC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgyM2E4Y2VmYmY5YjQ1NmI4NzUzNmNkNTk2ZDlhZWJiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlmY2UwYzE1Y2Y1MjRiODFiMWUwZDg5ZTU4YzRjMTE1ID0gJCgnPGRpdiBpZD0iaHRtbF85ZmNlMGMxNWNmNTI0YjgxYjFlMGQ4OWU1OGM0YzExNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhc2lkZSwgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MjNhOGNlZmJmOWI0NTZiODc1MzZjZDU5NmQ5YWViYi5zZXRDb250ZW50KGh0bWxfOWZjZTBjMTVjZjUyNGI4MWIxZTBkODllNThjNGMxMTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGI5NjE3YTQ3YmYyNDA0NThkM2RiZDM3NTBlMzM1YmUuYmluZFBvcHVwKHBvcHVwXzgyM2E4Y2VmYmY5YjQ1NmI4NzUzNmNkNTk2ZDlhZWJiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMwZDhmNzNjMTY0ZjRmZTNhZjEyODNlYTNiNWU0MzRhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA1MzY4OSwtNzkuMzQ5MzcxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2VmNDc0MDIxMzg4NGM1OWI5YzhjMGIwNWM4ODhkZmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODQzN2QxMjYzNDRmNDFmNjhiNzBiM2I3NmNkOTY3ZWEgPSAkKCc8ZGl2IGlkPSJodG1sXzg0MzdkMTI2MzQ0ZjQxZjY4YjcwYjNiNzZjZDk2N2VhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaG9ybmNsaWZmZSBQYXJrLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdlZjQ3NDAyMTM4ODRjNTliOWM4YzBiMDVjODg4ZGZkLnNldENvbnRlbnQoaHRtbF84NDM3ZDEyNjM0NGY0MWY2OGI3MGIzYjc2Y2Q5NjdlYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMGQ4ZjczYzE2NGY0ZmUzYWYxMjgzZWEzYjVlNDM0YS5iaW5kUG9wdXAocG9wdXBfN2VmNDc0MDIxMzg4NGM1OWI5YzhjMGIwNWM4ODhkZmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2JmOWZhYmE5Yzc5NGExNThlNzBhNDU2ODY4NDg5NWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTc1NjlkMDFlZmZjNGE2YmJkNWYxZGFhOTQ0YjdlZWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmRhZTA1ZTA0MzQ2NGFkNWEwMWI2Yjc3Yjg4ZmI4ZWYgPSAkKCc8ZGl2IGlkPSJodG1sX2ZkYWUwNWUwNDM0NjRhZDVhMDFiNmI3N2I4OGZiOGVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG8sIEJyb2FkdmlldyBOb3J0aCAoT2xkIEVhc3QgWW9yayksIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTc1NjlkMDFlZmZjNGE2YmJkNWYxZGFhOTQ0YjdlZWQuc2V0Q29udGVudChodG1sX2ZkYWUwNWUwNDM0NjRhZDVhMDFiNmI3N2I4OGZiOGVmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNiZjlmYWJhOWM3OTRhMTU4ZTcwYTQ1Njg2ODQ4OTVlLmJpbmRQb3B1cChwb3B1cF85NzU2OWQwMWVmZmM0YTZiYmQ1ZjFkYWE5NDRiN2VlZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYjI4YWM3MGU5ZjY0ZTkzOWFmMzI5NjNkMzI1OTI0MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU1NzEsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMDBiMTdiNTczYTg0NjVmYWRkZmY4ZDc0ODZlMWM3NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82M2M3MTk5NDEyODA0NjY2OGJhMWMwYWViNDljODc2YSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjNjNzE5OTQxMjgwNDY2NjhiYTFjMGFlYjQ5Yzg3NmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBEYW5mb3J0aCBXZXN0LCBSaXZlcmRhbGUsIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTAwYjE3YjU3M2E4NDY1ZmFkZGZmOGQ3NDg2ZTFjNzUuc2V0Q29udGVudChodG1sXzYzYzcxOTk0MTI4MDQ2NjY4YmExYzBhZWI0OWM4NzZhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NiMjhhYzcwZTlmNjRlOTM5YWYzMjk2M2QzMjU5MjQzLmJpbmRQb3B1cChwb3B1cF9lMDBiMTdiNTczYTg0NjVmYWRkZmY4ZDc0ODZlMWM3NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNTM0NjM1ZWE3NTA0OTUzOTNmMDJhOWZhYjMwYThiZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2ODk5ODUsLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q5YmNiN2EyNzhlNzQ4MzY4M2JmMWQ2MDAyNWNlMDdjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EzZjFjY2NiMWJhMTRmNDBiY2E0M2Y4ZDI4NzhiNTYyID0gJCgnPGRpdiBpZD0iaHRtbF9hM2YxY2NjYjFiYTE0ZjQwYmNhNDNmOGQyODc4YjU2MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SW5kaWEgQmF6YWFyLCBUaGUgQmVhY2hlcyBXZXN0LCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q5YmNiN2EyNzhlNzQ4MzY4M2JmMWQ2MDAyNWNlMDdjLnNldENvbnRlbnQoaHRtbF9hM2YxY2NjYjFiYTE0ZjQwYmNhNDNmOGQyODc4YjU2Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNTM0NjM1ZWE3NTA0OTUzOTNmMDJhOWZhYjMwYThiZi5iaW5kUG9wdXAocG9wdXBfZDliY2I3YTI3OGU3NDgzNjgzYmYxZDYwMDI1Y2UwN2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjg3ZTNjMDVmZjZjNDBjMjgzOTlmNWI4MTI4ODFjZGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWY2NThkNDdkNGNhNGI0ZGEyNDhlMGY2YzYyNGExYTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTAyZmFhZDQ4YzBlNDMzYjliMzYzODVhYjAwZmQ2MmMgPSAkKCc8ZGl2IGlkPSJodG1sXzEwMmZhYWQ0OGMwZTQzM2I5YjM2Mzg1YWIwMGZkNjJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdHVkaW8gRGlzdHJpY3QsIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWY2NThkNDdkNGNhNGI0ZGEyNDhlMGY2YzYyNGExYTcuc2V0Q29udGVudChodG1sXzEwMmZhYWQ0OGMwZTQzM2I5YjM2Mzg1YWIwMGZkNjJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I4N2UzYzA1ZmY2YzQwYzI4Mzk5ZjViODEyODgxY2RkLmJpbmRQb3B1cChwb3B1cF81ZjY1OGQ0N2Q0Y2E0YjRkYTI0OGUwZjZjNjI0YTFhNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMjU0M2RmYzE3NjQ0OWQ2OGQ2ZTljNjU3MmNiNjM0ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODAyMDUsLTc5LjM4ODc5MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2QyNzcyN2UwZjQ2NGQ5ODhmZDQxZGFhZTgxNDU0M2QgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWY4NGRmZGFhNTdhNDM3YmJkY2UyZWYwMGJhZGQ4OWIgPSAkKCc8ZGl2IGlkPSJodG1sX2FmODRkZmRhYTU3YTQzN2JiZGNlMmVmMDBiYWRkODliIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdkMjc3MjdlMGY0NjRkOTg4ZmQ0MWRhYWU4MTQ1NDNkLnNldENvbnRlbnQoaHRtbF9hZjg0ZGZkYWE1N2E0MzdiYmRjZTJlZjAwYmFkZDg5Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMjU0M2RmYzE3NjQ0OWQ2OGQ2ZTljNjU3MmNiNjM0Zi5iaW5kUG9wdXAocG9wdXBfN2QyNzcyN2UwZjQ2NGQ5ODhmZDQxZGFhZTgxNDU0M2QpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDUzNTZmNzI0MTFmNDg4NGExN2JjN2M4Y2IxYmRiNjQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTI3NTExLC03OS4zOTAxOTc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IzMzUzNTI4YWFhOTQwNTg5MmFiMGI1ZDBkMDUyMzZiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EwNDA2Y2E1YTZmNDQyYTk5OTAwNWQxZTE3OTExNzg4ID0gJCgnPGRpdiBpZD0iaHRtbF9hMDQwNmNhNWE2ZjQ0MmE5OTkwMDVkMWUxNzkxMTc4OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSBOb3J0aCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMzM1MzUyOGFhYTk0MDU4OTJhYjBiNWQwZDA1MjM2Yi5zZXRDb250ZW50KGh0bWxfYTA0MDZjYTVhNmY0NDJhOTk5MDA1ZDFlMTc5MTE3ODgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDUzNTZmNzI0MTFmNDg4NGExN2JjN2M4Y2IxYmRiNjQuYmluZFBvcHVwKHBvcHVwX2IzMzUzNTI4YWFhOTQwNTg5MmFiMGI1ZDBkMDUyMzZiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc2ZDU3ZWZkMzU5ZjQ1MmJiMmU0ZTNhYzBkNzAzODg4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmNkNWY3Y2UzNGRhNDVjMmEwYzgxY2EyMWIxNWJjOGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmI0ZTI4Njg0ZWZmNGUxZmExODJhNzg4ODgxMGVlNTUgPSAkKCc8ZGl2IGlkPSJodG1sXzJiNGUyODY4NGVmZjRlMWZhMTgyYTc4ODg4MTBlZTU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QsIExhd3JlbmNlIFBhcmssIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmNkNWY3Y2UzNGRhNDVjMmEwYzgxY2EyMWIxNWJjOGUuc2V0Q29udGVudChodG1sXzJiNGUyODY4NGVmZjRlMWZhMTgyYTc4ODg4MTBlZTU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc2ZDU3ZWZkMzU5ZjQ1MmJiMmU0ZTNhYzBkNzAzODg4LmJpbmRQb3B1cChwb3B1cF9iY2Q1ZjdjZTM0ZGE0NWMyYTBjODFjYTIxYjE1YmM4ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lODQ0MjVlNGZmZWE0ZTBhYmY4NjJjNjBlZjk4ZmVhMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNDMyNDQsLTc5LjM4ODc5MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDZjMzNmY2YxOWRhNDUwM2I3ODM3OTQxMWY0NGViZTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmI4YmRjZDI0ODlmNDVmZmI4NzY5YzQ1MWM2ODgyMGUgPSAkKCc8ZGl2IGlkPSJodG1sXzZiOGJkY2QyNDg5ZjQ1ZmZiODc2OWM0NTFjNjg4MjBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ2YzMzZmNmMTlkYTQ1MDNiNzgzNzk0MTFmNDRlYmU3LnNldENvbnRlbnQoaHRtbF82YjhiZGNkMjQ4OWY0NWZmYjg3NjljNDUxYzY4ODIwZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lODQ0MjVlNGZmZWE0ZTBhYmY4NjJjNjBlZjk4ZmVhMy5iaW5kUG9wdXAocG9wdXBfNDZjMzNmY2YxOWRhNDUwM2I3ODM3OTQxMWY0NGViZTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDg2MWVhMmQ0ZmZlNGZmZTg0Y2MzODAwZWY3NGE4MjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk1NzQzLC03OS4zODMxNTk5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZDkwNDNkYWQwYmY0OWI0Yjc3MGQxNGQxMjc3ZTc2MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYTU1YjcwYjUyOTg0YjgyYmQyNTY2NTk4ZTU1OGYxNiA9ICQoJzxkaXYgaWQ9Imh0bWxfY2E1NWI3MGI1Mjk4NGI4MmJkMjU2NjU5OGU1NThmMTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1vb3JlIFBhcmssIFN1bW1lcmhpbGwgRWFzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZDkwNDNkYWQwYmY0OWI0Yjc3MGQxNGQxMjc3ZTc2MS5zZXRDb250ZW50KGh0bWxfY2E1NWI3MGI1Mjk4NGI4MmJkMjU2NjU5OGU1NThmMTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDg2MWVhMmQ0ZmZlNGZmZTg0Y2MzODAwZWY3NGE4MjIuYmluZFBvcHVwKHBvcHVwXzVkOTA0M2RhZDBiZjQ5YjRiNzcwZDE0ZDEyNzdlNzYxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZlOGEwZWI1ZDE0NzQzNWE5MTEzOWUzZmM4YjE5ZTZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg2NDEyMjk5OTk5OTksLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjI1ZWU0YjRlODllNDEwNWIyN2FjMGFiNDViYjdhNWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjk4Mzc4MzFhY2VhNDAzZDljMTcwNmI0ZWRiNjFmZjUgPSAkKCc8ZGl2IGlkPSJodG1sXzI5ODM3ODMxYWNlYTQwM2Q5YzE3MDZiNGVkYjYxZmY1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdW1tZXJoaWxsIFdlc3QsIFJhdGhuZWxseSwgU291dGggSGlsbCwgRm9yZXN0IEhpbGwgU0UsIERlZXIgUGFyaywgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMjVlZTRiNGU4OWU0MTA1YjI3YWMwYWI0NWJiN2E1YS5zZXRDb250ZW50KGh0bWxfMjk4Mzc4MzFhY2VhNDAzZDljMTcwNmI0ZWRiNjFmZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmU4YTBlYjVkMTQ3NDM1YTkxMTM5ZTNmYzhiMTllNmQuYmluZFBvcHVwKHBvcHVwX2IyNWVlNGI0ZTg5ZTQxMDViMjdhYzBhYjQ1YmI3YTVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4YjcwNjFkZDE1MTQyYjA4YzVlMjk1MjhiYjlmYjdmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc5NTYyNiwtNzkuMzc3NTI5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTZlOWZkNzg3ODgwNDdhMmI3ZjA4YTFmMDlkMTY2ZGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2RhMjNjZjM4YzhjNDgzMjliYjllMzAyOTkxNGRlMDkgPSAkKCc8ZGl2IGlkPSJodG1sX2NkYTIzY2YzOGM4YzQ4MzI5YmI5ZTMwMjk5MTRkZTA5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3NlZGFsZSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTZlOWZkNzg3ODgwNDdhMmI3ZjA4YTFmMDlkMTY2ZGYuc2V0Q29udGVudChodG1sX2NkYTIzY2YzOGM4YzQ4MzI5YmI5ZTMwMjk5MTRkZTA5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4YjcwNjFkZDE1MTQyYjA4YzVlMjk1MjhiYjlmYjdmLmJpbmRQb3B1cChwb3B1cF8xNmU5ZmQ3ODc4ODA0N2EyYjdmMDhhMWYwOWQxNjZkZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MzQzZDVlMGVhNzQ0ZWRlOGE2ZDIyOGIyNjNiZjkzOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Nzk2NywtNzkuMzY3Njc1M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NWIyNDA0NjE5YjI0MWY2YTdlODkzMTQwZDllNzNkMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81Yzc4ZmY2MThhMmU0NzhjYjJkZGVkYjY4NTMyNWUxNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNWM3OGZmNjE4YTJlNDc4Y2IyZGRlZGI2ODUzMjVlMTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0LiBKYW1lcyBUb3duLCBDYWJiYWdldG93biwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTViMjQwNDYxOWIyNDFmNmE3ZTg5MzE0MGQ5ZTczZDMuc2V0Q29udGVudChodG1sXzVjNzhmZjYxOGEyZTQ3OGNiMmRkZWRiNjg1MzI1ZTE0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzczNDNkNWUwZWE3NDRlZGU4YTZkMjI4YjI2M2JmOTM5LmJpbmRQb3B1cChwb3B1cF85NWIyNDA0NjE5YjI0MWY2YTdlODkzMTQwZDllNzNkMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOTA4ZDljNzE0Mjk0ZmQ0YjE3NGJhY2ZjMWIwNmY3NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NTg1OTksLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZkNzA4Mjg2NTdmMjQwNWY5YmNhMTU1YzMxNTQ0ZDdjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJiZjIxZjgyYTNiYzQxNGE4MzA4NDA0ZTVkMDIzOTNlID0gJCgnPGRpdiBpZD0iaHRtbF8yYmYyMWY4MmEzYmM0MTRhODMwODQwNGU1ZDAyMzkzZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2h1cmNoIGFuZCBXZWxsZXNsZXksIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkNzA4Mjg2NTdmMjQwNWY5YmNhMTU1YzMxNTQ0ZDdjLnNldENvbnRlbnQoaHRtbF8yYmYyMWY4MmEzYmM0MTRhODMwODQwNGU1ZDAyMzkzZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mOTA4ZDljNzE0Mjk0ZmQ0YjE3NGJhY2ZjMWIwNmY3NC5iaW5kUG9wdXAocG9wdXBfNmQ3MDgyODY1N2YyNDA1ZjliY2ExNTVjMzE1NDRkN2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTdjNzUzMmMwYWVlNDBjMDg1YjFkMWRkMzg5ZjA5YzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTQyNTk5LC03OS4zNjA2MzU5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FhZjZhNjYwMzE4OTQzYzhiMWZiODE1YmVkNTA4M2MxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JmNzU4OTljY2EyNjRhYjlhY2JjOGU0NjVjMTM2YWU0ID0gJCgnPGRpdiBpZD0iaHRtbF9iZjc1ODk5Y2NhMjY0YWI5YWNiYzhlNDY1YzEzNmFlNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVnZW50IFBhcmssIEhhcmJvdXJmcm9udCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWFmNmE2NjAzMTg5NDNjOGIxZmI4MTViZWQ1MDgzYzEuc2V0Q29udGVudChodG1sX2JmNzU4OTljY2EyNjRhYjlhY2JjOGU0NjVjMTM2YWU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU3Yzc1MzJjMGFlZTQwYzA4NWIxZDFkZDM4OWYwOWM3LmJpbmRQb3B1cChwb3B1cF9hYWY2YTY2MDMxODk0M2M4YjFmYjgxNWJlZDUwODNjMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNzZlNWYyZTI0MWE0MTRmYjRmMmVkZTA1NjQ5YWU5YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsLTc5LjM3ODkzNzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NhYzU2NzRjOGNjNjQ3ZTA5N2YwNzU4ZDY5ODUzZmVlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcwZDY5YTk1NDRjZTQ2MmVhY2UwZjljZjNlZDcyYzcxID0gJCgnPGRpdiBpZD0iaHRtbF83MGQ2OWE5NTQ0Y2U0NjJlYWNlMGY5Y2YzZWQ3MmM3MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2FyZGVuIERpc3RyaWN0LCBSeWVyc29uLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jYWM1Njc0YzhjYzY0N2UwOTdmMDc1OGQ2OTg1M2ZlZS5zZXRDb250ZW50KGh0bWxfNzBkNjlhOTU0NGNlNDYyZWFjZTBmOWNmM2VkNzJjNzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjc2ZTVmMmUyNDFhNDE0ZmI0ZjJlZGUwNTY0OWFlOWIuYmluZFBvcHVwKHBvcHVwX2NhYzU2NzRjOGNjNjQ3ZTA5N2YwNzU4ZDY5ODUzZmVlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U0ZmVhNjUzMTFmMDQ1YzViNDFiODlkNDY4Mjc5MTQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUxNDkzOSwtNzkuMzc1NDE3OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80OWU4ZDNkZjc0YjI0ZjFmYjJlMzk4ZGY3NTc4Y2VmZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOWFiODhiODgzYWY0MWEzYTQ4ODMwM2ExOGM2OGY0NyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzlhYjg4Yjg4M2FmNDFhM2E0ODgzMDNhMThjNjhmNDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0LiBKYW1lcyBUb3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80OWU4ZDNkZjc0YjI0ZjFmYjJlMzk4ZGY3NTc4Y2VmZi5zZXRDb250ZW50KGh0bWxfYzlhYjg4Yjg4M2FmNDFhM2E0ODgzMDNhMThjNjhmNDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTRmZWE2NTMxMWYwNDVjNWI0MWI4OWQ0NjgyNzkxNDMuYmluZFBvcHVwKHBvcHVwXzQ5ZThkM2RmNzRiMjRmMWZiMmUzOThkZjc1NzhjZWZmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFmZWFiN2UxYWMwZDQxZWQ4YzYyM2NjNGMyYmI4ZWM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ0NzcwNzk5OTk5OTk2LC03OS4zNzMzMDY0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IxZWVlMzY4ODczMTQ4MjJiMDM5YjE0ZDEwODNlZjMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ0N2ExOWZlZTUyYzQyNDU4Mzk5YTI1NDJlYTdhMWQzID0gJCgnPGRpdiBpZD0iaHRtbF80NDdhMTlmZWU1MmM0MjQ1ODM5OWEyNTQyZWE3YTFkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVyY3p5IFBhcmssIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IxZWVlMzY4ODczMTQ4MjJiMDM5YjE0ZDEwODNlZjMwLnNldENvbnRlbnQoaHRtbF80NDdhMTlmZWU1MmM0MjQ1ODM5OWEyNTQyZWE3YTFkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZmVhYjdlMWFjMGQ0MWVkOGM2MjNjYzRjMmJiOGVjNS5iaW5kUG9wdXAocG9wdXBfYjFlZWUzNjg4NzMxNDgyMmIwMzliMTRkMTA4M2VmMzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWIyNTlhYjZlM2NkNDY4NzllODE2Y2RiYjkzYTQ3NWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTc5NTI0LC03OS4zODczODI2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcwYWFlOGFjOTk0MTRjYjJiNjhkNzYzOTMwMTE0NzNlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlhYzEwNTQxNDNhMjQ5M2Q5Y2Q2MGIxMGYyMjAxNjUwID0gJCgnPGRpdiBpZD0iaHRtbF85YWMxMDU0MTQzYTI0OTNkOWNkNjBiMTBmMjIwMTY1MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBCYXkgU3RyZWV0LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MGFhZThhYzk5NDE0Y2IyYjY4ZDc2MzkzMDExNDczZS5zZXRDb250ZW50KGh0bWxfOWFjMTA1NDE0M2EyNDkzZDljZDYwYjEwZjIyMDE2NTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWIyNTlhYjZlM2NkNDY4NzllODE2Y2RiYjkzYTQ3NWIuYmluZFBvcHVwKHBvcHVwXzcwYWFlOGFjOTk0MTRjYjJiNjhkNzYzOTMwMTE0NzNlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU0MTM1NDU4NTBkODRmNzY5MWIzODU4NGZkZDE1OTM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwNTcxMjAwMDAwMDEsLTc5LjM4NDU2NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjViZjhmMTRhNjZkNDRiY2FjNWY1NGVmYTkyN2I3MGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTQwNzhhMjRlNDI3NDU4ZTlhOTdhN2ZlYjI0MjNlZDkgPSAkKCc8ZGl2IGlkPSJodG1sXzE0MDc4YTI0ZTQyNzQ1OGU5YTk3YTdmZWIyNDIzZWQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SaWNobW9uZCwgQWRlbGFpZGUsIEtpbmcsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1YmY4ZjE0YTY2ZDQ0YmNhYzVmNTRlZmE5MjdiNzBmLnNldENvbnRlbnQoaHRtbF8xNDA3OGEyNGU0Mjc0NThlOWE5N2E3ZmViMjQyM2VkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81NDEzNTQ1ODUwZDg0Zjc2OTFiMzg1ODRmZGQxNTkzNy5iaW5kUG9wdXAocG9wdXBfYjViZjhmMTRhNjZkNDRiY2FjNWY1NGVmYTkyN2I3MGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDU5MjRjM2VjNTU4NDc0NjlmY2NiYzMwOGZhMTBiZGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDA4MTU3LC03OS4zODE3NTIyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNzE2MzNhMWVlMTE0MmMwYjhkOTEwOWEwNmE0Y2JkYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZjcwYTI3ODA5ZmQ0ZGYyODMyNjgwY2MyNjBmZDUwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWY3MGEyNzgwOWZkNGRmMjgzMjY4MGNjMjYwZmQ1MDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvdXJmcm9udCBFYXN0LCBVbmlvbiBTdGF0aW9uLCBUb3JvbnRvIElzbGFuZHMsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M3MTYzM2ExZWUxMTQyYzBiOGQ5MTA5YTA2YTRjYmRhLnNldENvbnRlbnQoaHRtbF8xZjcwYTI3ODA5ZmQ0ZGYyODMyNjgwY2MyNjBmZDUwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NTkyNGMzZWM1NTg0NzQ2OWZjY2JjMzA4ZmExMGJkYS5iaW5kUG9wdXAocG9wdXBfYzcxNjMzYTFlZTExNDJjMGI4ZDkxMDlhMDZhNGNiZGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTE1MjE3MDY0OTM5NGUyNGFjYWEwM2FlMTI2YTkxNzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDcxNzY4LC03OS4zODE1NzY0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjhlMzA5YmEzNWI0ZDcwODAzMDk4YWQxMTliYmM0NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZTRkYmRhOThmYjA0Y2U5YWNlMGNjZWI0MTE0MjM4NyA9ICQoJzxkaXYgaWQ9Imh0bWxfMGU0ZGJkYTk4ZmIwNGNlOWFjZTBjY2ViNDExNDIzODciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRvcm9udG8gRG9taW5pb24gQ2VudHJlLCBEZXNpZ24gRXhjaGFuZ2UsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JiOGUzMDliYTM1YjRkNzA4MDMwOThhZDExOWJiYzQ2LnNldENvbnRlbnQoaHRtbF8wZTRkYmRhOThmYjA0Y2U5YWNlMGNjZWI0MTE0MjM4Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MTUyMTcwNjQ5Mzk0ZTI0YWNhYTAzYWUxMjZhOTE3OS5iaW5kUG9wdXAocG9wdXBfYmI4ZTMwOWJhMzViNGQ3MDgwMzA5OGFkMTE5YmJjNDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2Y2YmI3OTY4OWRhNDRhNmI5ODQ5MzQ0OTVjNDJkYmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYjExM2RiMjNmMjQ0YzFiOTQ0MTJkNDZiYzczYzViMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jZDI4NTU5ZDJiMmM0YzZlYjNmMDBlNzk0ZmFlNDYyMyA9ICQoJzxkaXYgaWQ9Imh0bWxfY2QyODU1OWQyYjJjNGM2ZWIzZjAwZTc5NGZhZTQ2MjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvbW1lcmNlIENvdXJ0LCBWaWN0b3JpYSBIb3RlbCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmIxMTNkYjIzZjI0NGMxYjk0NDEyZDQ2YmM3M2M1YjAuc2V0Q29udGVudChodG1sX2NkMjg1NTlkMmIyYzRjNmViM2YwMGU3OTRmYWU0NjIzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNmNmJiNzk2ODlkYTQ0YTZiOTg0OTM0NDk1YzQyZGJmLmJpbmRQb3B1cChwb3B1cF9mYjExM2RiMjNmMjQ0YzFiOTQ0MTJkNDZiYzczYzViMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZDJmODg0MGYzZWM0N2U5OTMzNTJiY2FkNzM4MmM3MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczMzI4MjUsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGFhYTE5OTZmNjY2NGYxMDhjOWE5MGM1Y2Q0ZDA1MTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjllNDI4MjczMTRmNDFkNmFkOWVmZThmNDA1YmE2NmQgPSAkKCc8ZGl2IGlkPSJodG1sX2I5ZTQyODI3MzE0ZjQxZDZhZDllZmU4ZjQwNWJhNjZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWRmb3JkIFBhcmssIExhd3JlbmNlIE1hbm9yIEVhc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RhYWExOTk2ZjY2NjRmMTA4YzlhOTBjNWNkNGQwNTE2LnNldENvbnRlbnQoaHRtbF9iOWU0MjgyNzMxNGY0MWQ2YWQ5ZWZlOGY0MDViYTY2ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZDJmODg0MGYzZWM0N2U5OTMzNTJiY2FkNzM4MmM3MC5iaW5kUG9wdXAocG9wdXBfZGFhYTE5OTZmNjY2NGYxMDhjOWE5MGM1Y2Q0ZDA1MTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM3NGM0ZjBiZDBlNDZkOWFiMzBjMzcyZjk4YmNmNDQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTE2OTQ4LC03OS40MTY5MzU1OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jODM4ZTIwNmQ0ZWM0MzdkYWQzYjVkMDhmZDM4YmZlZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMjczMDZjN2UyODQ0YThkYWEyYTlkNmVhNTcxZjM2YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDI3MzA2YzdlMjg0NGE4ZGFhMmE5ZDZlYTU3MWYzNmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VsYXduLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M4MzhlMjA2ZDRlYzQzN2RhZDNiNWQwOGZkMzhiZmVmLnNldENvbnRlbnQoaHRtbF8wMjczMDZjN2UyODQ0YThkYWEyYTlkNmVhNTcxZjM2Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMzc0YzRmMGJkMGU0NmQ5YWIzMGMzNzJmOThiY2Y0NC5iaW5kUG9wdXAocG9wdXBfYzgzOGUyMDZkNGVjNDM3ZGFkM2I1ZDA4ZmQzOGJmZWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGYwZTkzZDYxZDk1NDMzNzhjYTMzMzRkZjFhNGMzZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTY5NDc2LC03OS40MTEzMDcyMDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYjE4NDMwOWEwMzM0Mjc2ODJiZTdmYjgwODZjZjU1ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYjIzMzViOGZiNDE0ZmJhOGMxMzU1ZWE4Yzk5ODVmNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWIyMzM1YjhmYjQxNGZiYThjMTM1NWVhOGM5OTg1ZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZvcmVzdCBIaWxsIE5vcnRoICZhbXA7IFdlc3QsIEZvcmVzdCBIaWxsIFJvYWQgUGFyaywgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYjE4NDMwOWEwMzM0Mjc2ODJiZTdmYjgwODZjZjU1Zi5zZXRDb250ZW50KGh0bWxfZWIyMzM1YjhmYjQxNGZiYThjMTM1NWVhOGM5OTg1ZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGYwZTkzZDYxZDk1NDMzNzhjYTMzMzRkZjFhNGMzZDYuYmluZFBvcHVwKHBvcHVwX2FiMTg0MzA5YTAzMzQyNzY4MmJlN2ZiODA4NmNmNTVmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NlNDE4MThjMmI1ZDQxZjJiYTdkOWExNjcyZTY2ZGRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcyNzA5NywtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODQxYzIyNmE0ZjdmNDIzNmIxNmIxNWFhYjc4ZTNhMzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODc3NmZmM2MxNGMzNDFmMzhmYTM2NzA0ZDUyMjYzZDIgPSAkKCc8ZGl2IGlkPSJodG1sXzg3NzZmZjNjMTRjMzQxZjM4ZmEzNjcwNGQ1MjI2M2QyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQW5uZXgsIE5vcnRoIE1pZHRvd24sIFlvcmt2aWxsZSwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NDFjMjI2YTRmN2Y0MjM2YjE2YjE1YWFiNzhlM2EzNS5zZXRDb250ZW50KGh0bWxfODc3NmZmM2MxNGMzNDFmMzhmYTM2NzA0ZDUyMjYzZDIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2U0MTgxOGMyYjVkNDFmMmJhN2Q5YTE2NzJlNjZkZGYuYmluZFBvcHVwKHBvcHVwXzg0MWMyMjZhNGY3ZjQyMzZiMTZiMTVhYWI3OGUzYTM1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ0ZmMyZWZlNmE3YzQyMGJiNTgzOWIwMWFlMDYwODVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lOGE1YmFlNmRjNTA0NmZlOTkzMjQ4YjQwYTM3YTc2NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84Njk3OTRkMTFjNTU0ZmY5ODgwMTJmYTJmYWY5ZTA5ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfODY5Nzk0ZDExYzU1NGZmOTg4MDEyZmEyZmFmOWUwOWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlVuaXZlcnNpdHkgb2YgVG9yb250bywgSGFyYm9yZCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZThhNWJhZTZkYzUwNDZmZTk5MzI0OGI0MGEzN2E3NjQuc2V0Q29udGVudChodG1sXzg2OTc5NGQxMWM1NTRmZjk4ODAxMmZhMmZhZjllMDlmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ0ZmMyZWZlNmE3YzQyMGJiNTgzOWIwMWFlMDYwODVmLmJpbmRQb3B1cChwb3B1cF9lOGE1YmFlNmRjNTA0NmZlOTkzMjQ4YjQwYTM3YTc2NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNzUyZDhhMDI2ZTc0YTlmYTE0ODlmMThlMWE0ODA4MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzIwNTcsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGU3NzNlZjE3NWZhNGJiYWExZWZkZDBhNzk0ZWM0NmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTJiYjg3OGY4NTk1NDEyMGFhMTQyNDI5ZDdlMjZkZGEgPSAkKCc8ZGl2IGlkPSJodG1sXzUyYmI4NzhmODU5NTQxMjBhYTE0MjQyOWQ3ZTI2ZGRhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LZW5zaW5ndG9uIE1hcmtldCwgQ2hpbmF0b3duLCBHcmFuZ2UgUGFyaywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGU3NzNlZjE3NWZhNGJiYWExZWZkZDBhNzk0ZWM0NmIuc2V0Q29udGVudChodG1sXzUyYmI4NzhmODU5NTQxMjBhYTE0MjQyOWQ3ZTI2ZGRhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E3NTJkOGEwMjZlNzRhOWZhMTQ4OWYxOGUxYTQ4MDgxLmJpbmRQb3B1cChwb3B1cF80ZTc3M2VmMTc1ZmE0YmJhYTFlZmRkMGE3OTRlYzQ2Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMzI5ZTkzZDBjZTU0NjgzOTA4MzI4ZjM3ZDEzNTk0NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODk0NjcsLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjdjMWZiNmEzM2NlNDViNzgwNDg1ZGI3OGUyZWQwZmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWFhYmZjZDRjMDBjNGFiN2FhMjBmNjg5ZTRiNjkyYjggPSAkKCc8ZGl2IGlkPSJodG1sX2FhYWJmY2Q0YzAwYzRhYjdhYTIwZjY4OWU0YjY5MmI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DTiBUb3dlciwgS2luZyBhbmQgU3BhZGluYSwgUmFpbHdheSBMYW5kcywgSGFyYm91cmZyb250IFdlc3QsIEJhdGh1cnN0IFF1YXksIFNvdXRoIE5pYWdhcmEsIElzbGFuZCBhaXJwb3J0LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82N2MxZmI2YTMzY2U0NWI3ODA0ODVkYjc4ZTJlZDBmYy5zZXRDb250ZW50KGh0bWxfYWFhYmZjZDRjMDBjNGFiN2FhMjBmNjg5ZTRiNjkyYjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjMyOWU5M2QwY2U1NDY4MzkwODMyOGYzN2QxMzU5NDQuYmluZFBvcHVwKHBvcHVwXzY3YzFmYjZhMzNjZTQ1Yjc4MDQ4NWRiNzhlMmVkMGZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM1ZmZmNTg4ZjdhYzRjZWU5N2Y3ZjM4Njg3YmVlNjJmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2NDM1MiwtNzkuMzc0ODQ1OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTY3MmI1ODk2YmZiNDZhNThkZTExMDE4ZWM0MTU4NDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGQwMjMzMWEyY2MyNDA0MGI2YWY1YWE4NDJlYzZjM2MgPSAkKCc8ZGl2IGlkPSJodG1sX2RkMDIzMzFhMmNjMjQwNDBiNmFmNWFhODQyZWM2YzNjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG4gQSBQTyBCb3hlcywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTY3MmI1ODk2YmZiNDZhNThkZTExMDE4ZWM0MTU4NDkuc2V0Q29udGVudChodG1sX2RkMDIzMzFhMmNjMjQwNDBiNmFmNWFhODQyZWM2YzNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM1ZmZmNTg4ZjdhYzRjZWU5N2Y3ZjM4Njg3YmVlNjJmLmJpbmRQb3B1cChwb3B1cF9lNjcyYjU4OTZiZmI0NmE1OGRlMTEwMThlYzQxNTg0OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lNjE1ZjA1NGVhMGQ0MWY2YWQyYjJmNDQzNzhjMWMzYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODQyOTIsLTc5LjM4MjI4MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWFkYmI2OGQ3YmU5NDUzOWE5NjliZTE4ZjQ4NGFlMDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2IwYzllOTc1ZWRhNDc3OTgxOWM5YzRjNDlmMGExY2EgPSAkKCc8ZGl2IGlkPSJodG1sXzdiMGM5ZTk3NWVkYTQ3Nzk4MTljOWM0YzQ5ZjBhMWNhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaXJzdCBDYW5hZGlhbiBQbGFjZSwgVW5kZXJncm91bmQgY2l0eSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWFkYmI2OGQ3YmU5NDUzOWE5NjliZTE4ZjQ4NGFlMDIuc2V0Q29udGVudChodG1sXzdiMGM5ZTk3NWVkYTQ3Nzk4MTljOWM0YzQ5ZjBhMWNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U2MTVmMDU0ZWEwZDQxZjZhZDJiMmY0NDM3OGMxYzNiLmJpbmRQb3B1cChwb3B1cF81YWRiYjY4ZDdiZTk0NTM5YTk2OWJlMThmNDg0YWUwMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mODM5MGQ1ZjJkODc0ZDhkODdmYzVmYjAyYTUzZmE0YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxODUxNzk5OTk5OTk5NiwtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmM2NjljMzFiOGM3NDI2MGI5NTBkZTUzZjQ4ZDViYjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmMyZTI0NmQzNzU0NDU0NGEwMTFlMzliYTc0NzQxMWYgPSAkKCc8ZGl2IGlkPSJodG1sXzZjMmUyNDZkMzc1NDQ1NDRhMDExZTM5YmE3NDc0MTFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXdyZW5jZSBNYW5vciwgTGF3cmVuY2UgSGVpZ2h0cywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmM2NjljMzFiOGM3NDI2MGI5NTBkZTUzZjQ4ZDViYjcuc2V0Q29udGVudChodG1sXzZjMmUyNDZkMzc1NDQ1NDRhMDExZTM5YmE3NDc0MTFmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y4MzkwZDVmMmQ4NzRkOGQ4N2ZjNWZiMDJhNTNmYTRhLmJpbmRQb3B1cChwb3B1cF9iYzY2OWMzMWI4Yzc0MjYwYjk1MGRlNTNmNDhkNWJiNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wY2VlY2Q2YjIxYjU0YzY5OTZkNTJhMWIxZmExYTcwZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywtNzkuNDQ1MDcyNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODA4OGM0MTdhYzc1NDU2YWIwMDQ4MTgzYTA5MjkzZDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWNiZTFhYjBkOWMyNDBjNWJlN2NjMTIwYWI1MWQ4ZGYgPSAkKCc8ZGl2IGlkPSJodG1sX2FjYmUxYWIwZDljMjQwYzViZTdjYzEyMGFiNTFkOGRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm4sIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwODhjNDE3YWM3NTQ1NmFiMDA0ODE4M2EwOTI5M2Q1LnNldENvbnRlbnQoaHRtbF9hY2JlMWFiMGQ5YzI0MGM1YmU3Y2MxMjBhYjUxZDhkZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wY2VlY2Q2YjIxYjU0YzY5OTZkNTJhMWIxZmExYTcwZC5iaW5kUG9wdXAocG9wdXBfODA4OGM0MTdhYzc1NDU2YWIwMDQ4MTgzYTA5MjkzZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzYzNjcyN2Q2MTY5NDZlY2EwNzg2ZGYxZjNkOGI3N2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NWRiMTg0NDE3YjM0Y2Y3OTA1MGIyOTI0ZWY0NGZhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMzY5N2E5YTFlYjk0OGVlODgyMjkzN2QzOTY1ZDI1ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZDM2OTdhOWExZWI5NDhlZTg4MjI5MzdkMzk2NWQyNWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWV3b29kLUNlZGFydmFsZSwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDVkYjE4NDQxN2IzNGNmNzkwNTBiMjkyNGVmNDRmYWEuc2V0Q29udGVudChodG1sX2QzNjk3YTlhMWViOTQ4ZWU4ODIyOTM3ZDM5NjVkMjVmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M2MzY3MjdkNjE2OTQ2ZWNhMDc4NmRmMWYzZDhiNzdlLmJpbmRQb3B1cChwb3B1cF80NWRiMTg0NDE3YjM0Y2Y3OTA1MGIyOTI0ZWY0NGZhYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lM2UyM2IxODNkODU0NjVhYTdjOWM1YTNmMmExYWE1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTAyNTYsLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jYWU3NWI2ODQ3ZDY0MzhkODUzYzhjMTJjYWRkYTRkMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MDU1NDI3MDYzYWM0MWZlYjQ1NGQxZDY1ODZiYWI2ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDA1NTQyNzA2M2FjNDFmZWI0NTRkMWQ2NTg2YmFiNmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGVkb25pYS1GYWlyYmFua3MsIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NhZTc1YjY4NDdkNjQzOGQ4NTNjOGMxMmNhZGRhNGQzLnNldENvbnRlbnQoaHRtbF80MDU1NDI3MDYzYWM0MWZlYjQ1NGQxZDY1ODZiYWI2ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lM2UyM2IxODNkODU0NjVhYTdjOWM1YTNmMmExYWE1NS5iaW5kUG9wdXAocG9wdXBfY2FlNzViNjg0N2Q2NDM4ZDg1M2M4YzEyY2FkZGE0ZDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDdmZTMyOTJkYmY4NGQ1NDhkM2ZlMTQ0OTI3MGUxNDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njk1NDIsLTc5LjQyMjU2MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGFmMDZmZmRiOGY1NGNlMjk1OTkwMzU5M2M2OTY5MjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjZlN2VjZDZjMzY5NDI0NzljY2VjMzAwOGYwNzVmMzkgPSAkKCc8ZGl2IGlkPSJodG1sX2Y2ZTdlY2Q2YzM2OTQyNDc5Y2NlYzMwMDhmMDc1ZjM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHJpc3RpZSwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGFmMDZmZmRiOGY1NGNlMjk1OTkwMzU5M2M2OTY5Mjcuc2V0Q29udGVudChodG1sX2Y2ZTdlY2Q2YzM2OTQyNDc5Y2NlYzMwMDhmMDc1ZjM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ3ZmUzMjkyZGJmODRkNTQ4ZDNmZTE0NDkyNzBlMTQxLmJpbmRQb3B1cChwb3B1cF8wYWYwNmZmZGI4ZjU0Y2UyOTU5OTAzNTkzYzY5NjkyNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NjE5MzczZGNkMTQ0MGUwOTBhZWQwMjFhODFmNDEyNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTAwNTEwMDAwMDAxLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y5NTEwNmEwZTg0NDQ2MTFhMTYwZmZjZThjNzkzY2M5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1N2EwOTQxNzUyMTRjMGNhYzBkN2U2MDcyYWQ4MGI1ID0gJCgnPGRpdiBpZD0iaHRtbF9iNTdhMDk0MTc1MjE0YzBjYWMwZDdlNjA3MmFkODBiNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RHVmZmVyaW4sIERvdmVyY291cnQgVmlsbGFnZSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mOTUxMDZhMGU4NDQ0NjExYTE2MGZmY2U4Yzc5M2NjOS5zZXRDb250ZW50KGh0bWxfYjU3YTA5NDE3NTIxNGMwY2FjMGQ3ZTYwNzJhZDgwYjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDYxOTM3M2RjZDE0NDBlMDkwYWVkMDIxYTgxZjQxMjYuYmluZFBvcHVwKHBvcHVwX2Y5NTEwNmEwZTg0NDQ2MTFhMTYwZmZjZThjNzkzY2M5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY3ODNmYTM4YzRjYjQyNDdiYzNiMWY4NGJlZmI0Yjc4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3OTI2NzAwMDAwMDA2LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc5NGFiYmI5M2I5ZDRhMzJiNWNjMmZkZmRhYTc4ZjEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI3ZGQxMzM3NGYyYTRjZDA4NjI0M2IzOTk5MDUxNjMxID0gJCgnPGRpdiBpZD0iaHRtbF8yN2RkMTMzNzRmMmE0Y2QwODYyNDNiMzk5OTA1MTYzMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGl0dGxlIFBvcnR1Z2FsLCBUcmluaXR5LCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc5NGFiYmI5M2I5ZDRhMzJiNWNjMmZkZmRhYTc4ZjEyLnNldENvbnRlbnQoaHRtbF8yN2RkMTMzNzRmMmE0Y2QwODYyNDNiMzk5OTA1MTYzMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NzgzZmEzOGM0Y2I0MjQ3YmMzYjFmODRiZWZiNGI3OC5iaW5kUG9wdXAocG9wdXBfNzk0YWJiYjkzYjlkNGEzMmI1Y2MyZmRmZGFhNzhmMTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTI0NWQ3OWUxZDIxNDFhNDhjMTNmOGY3ZDliNWMxNDkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMTdkZDMxYTk4YmY0ZTYyOTY4Y2U4MDBlNWQwZDlmNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYmQxN2NlMWVkYTc0ZDk4OTI4MmI2YzI3OGZlZWQ2MiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmJkMTdjZTFlZGE3NGQ5ODkyODJiNmMyNzhmZWVkNjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyb2NrdG9uLCBQYXJrZGFsZSBWaWxsYWdlLCBFeGhpYml0aW9uIFBsYWNlLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAxN2RkMzFhOThiZjRlNjI5NjhjZTgwMGU1ZDBkOWY2LnNldENvbnRlbnQoaHRtbF8yYmQxN2NlMWVkYTc0ZDk4OTI4MmI2YzI3OGZlZWQ2Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hMjQ1ZDc5ZTFkMjE0MWE0OGMxM2Y4ZjdkOWI1YzE0OS5iaW5kUG9wdXAocG9wdXBfMDE3ZGQzMWE5OGJmNGU2Mjk2OGNlODAwZTVkMGQ5ZjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWMwNjNiY2YwNDRmNDhhMDlkNTcwY2IzOWE5Yzk0MTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTM3NTYyMDAwMDAwMDYsLTc5LjQ5MDA3MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODBlMzNmNGZmZmQwNGJjMzk5MDRiNjY2ZTllZTE3NTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmU2MGJhZTM2OTk1NDRmYTkzMzFjMjA4M2M5YjU2NDggPSAkKCc8ZGl2IGlkPSJodG1sXzJlNjBiYWUzNjk5NTQ0ZmE5MzMxYzIwODNjOWI1NjQ4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBQYXJrLCBNYXBsZSBMZWFmIFBhcmssIFVwd29vZCBQYXJrLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MGUzM2Y0ZmZmZDA0YmMzOTkwNGI2NjZlOWVlMTc1OS5zZXRDb250ZW50KGh0bWxfMmU2MGJhZTM2OTk1NDRmYTkzMzFjMjA4M2M5YjU2NDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWMwNjNiY2YwNDRmNDhhMDlkNTcwY2IzOWE5Yzk0MTUuYmluZFBvcHVwKHBvcHVwXzgwZTMzZjRmZmZkMDRiYzM5OTA0YjY2NmU5ZWUxNzU5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgwY2MyYjNjMGExNjQzY2FiNzJhMDRjZmVkMmMyOGUwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkxMTE1OCwtNzkuNDc2MDEzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTJjMjk4ZTBjMzliNDg5ZWIzNDc1NGVjNjJjNGQ5Y2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWUxMzRlYzRmNjVjNDg3YTgyYzc3MjhlMjJhYWE1YjEgPSAkKCc8ZGl2IGlkPSJodG1sX2FlMTM0ZWM0ZjY1YzQ4N2E4MmM3NzI4ZTIyYWFhNWIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EZWwgUmF5LCBNb3VudCBEZW5uaXMsIEtlZWxzZGFsZSBhbmQgU2lsdmVydGhvcm4sIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUyYzI5OGUwYzM5YjQ4OWViMzQ3NTRlYzYyYzRkOWNjLnNldENvbnRlbnQoaHRtbF9hZTEzNGVjNGY2NWM0ODdhODJjNzcyOGUyMmFhYTViMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MGNjMmIzYzBhMTY0M2NhYjcyYTA0Y2ZlZDJjMjhlMC5iaW5kUG9wdXAocG9wdXBfNTJjMjk4ZTBjMzliNDg5ZWIzNDc1NGVjNjJjNGQ5Y2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTNkYzI5ZGU3MmQ2NGZkOWJjOTczNjE1YmU5NmQzYTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzMxODUyOTk5OTk5OSwtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2I0ZDRmMjE2MTgwNGQ0N2E1ZmQxM2RlNWMxZGQ5MmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTQ4ZTM4MGU4MjA0NDRjY2FlZTEyNTM0M2M5NTY5ZDMgPSAkKCc8ZGl2IGlkPSJodG1sXzE0OGUzODBlODIwNDQ0Y2NhZWUxMjUzNDNjOTU2OWQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SdW5ueW1lZGUsIFRoZSBKdW5jdGlvbiBOb3J0aCwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2I0ZDRmMjE2MTgwNGQ0N2E1ZmQxM2RlNWMxZGQ5MmYuc2V0Q29udGVudChodG1sXzE0OGUzODBlODIwNDQ0Y2NhZWUxMjUzNDNjOTU2OWQzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEzZGMyOWRlNzJkNjRmZDliYzk3MzYxNWJlOTZkM2E4LmJpbmRQb3B1cChwb3B1cF9jYjRkNGYyMTYxODA0ZDQ3YTVmZDEzZGU1YzFkZDkyZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMjhlMjJlZDBjODY0ZWE0YjljMWI3YTg2YjBmMDRjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MTYwODMsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRkZTY0MWNhZmFlNjQzMjg5MzY0OWNjNTBlNGYyZDYwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVkYjI3MWUzOTkyMDQ2ZjU5ODBkODMwNGZkZTJlNTE3ID0gJCgnPGRpdiBpZD0iaHRtbF81ZGIyNzFlMzk5MjA0NmY1OTgwZDgzMDRmZGUyZTUxNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlnaCBQYXJrLCBUaGUgSnVuY3Rpb24gU291dGgsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGRlNjQxY2FmYWU2NDMyODkzNjQ5Y2M1MGU0ZjJkNjAuc2V0Q29udGVudChodG1sXzVkYjI3MWUzOTkyMDQ2ZjU5ODBkODMwNGZkZTJlNTE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2IyOGUyMmVkMGM4NjRlYTRiOWMxYjdhODZiMGYwNGM1LmJpbmRQb3B1cChwb3B1cF80ZGU2NDFjYWZhZTY0MzI4OTM2NDljYzUwZTRmMmQ2MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82M2Y0MzkxNzA3ZmE0M2Y0YjUwNDUwNjUwOGYxZjIyMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMmQyMmZmZDQ0ZDQ0YjZlOTMwNmRkYjY0NDk4YzRiYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNDNhMzFkOGY2ZDI0ZTRlYmYwNmQwMzY4N2I5NmNmYyA9ICQoJzxkaXYgaWQ9Imh0bWxfYTQzYTMxZDhmNmQyNGU0ZWJmMDZkMDM2ODdiOTZjZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmtkYWxlLCBSb25jZXN2YWxsZXMsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDJkMjJmZmQ0NGQ0NGI2ZTkzMDZkZGI2NDQ5OGM0YmEuc2V0Q29udGVudChodG1sX2E0M2EzMWQ4ZjZkMjRlNGViZjA2ZDAzNjg3Yjk2Y2ZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzYzZjQzOTE3MDdmYTQzZjRiNTA0NTA2NTA4ZjFmMjIzLmJpbmRQb3B1cChwb3B1cF8wMmQyMmZmZDQ0ZDQ0YjZlOTMwNmRkYjY0NDk4YzRiYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMDBmYWU5NWE5MjQ0YjM0OWVjYjI3M2U3MWJhM2IyNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTU3MDYsLTc5LjQ4NDQ0OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTk2NmVjNTg1NjZkNDkzOGEzNzkyNDMzNTAyOWMxODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTkwNDIwNzExZDJjNDRiZTkxMmY0NGY1YWUwOWU4NzMgPSAkKCc8ZGl2IGlkPSJodG1sX2U5MDQyMDcxMWQyYzQ0YmU5MTJmNDRmNWFlMDllODczIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SdW5ueW1lZGUsIFN3YW5zZWEsIFdlc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTk2NmVjNTg1NjZkNDkzOGEzNzkyNDMzNTAyOWMxODUuc2V0Q29udGVudChodG1sX2U5MDQyMDcxMWQyYzQ0YmU5MTJmNDRmNWFlMDllODczKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwMGZhZTk1YTkyNDRiMzQ5ZWNiMjczZTcxYmEzYjI3LmJpbmRQb3B1cChwb3B1cF9lOTY2ZWM1ODU2NmQ0OTM4YTM3OTI0MzM1MDI5YzE4NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mYjE5NTJiYTEyMzk0ODgwOGJiN2ZmZTA4YmUxOTkwOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjMwMTUsLTc5LjM4OTQ5MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjEwYzAxMjhhMmJjNGU3MGIwZjlhMGZmYjJmMDljZjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzc2OGI0YzM5YTE1NDVmMmE3NWI3Y2VhZmM4YjlhMDAgPSAkKCc8ZGl2IGlkPSJodG1sXzM3NjhiNGMzOWExNTQ1ZjJhNzViN2NlYWZjOGI5YTAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5RdWVlbiYjMzk7cyBQYXJrLCBPbnRhcmlvIFByb3ZpbmNpYWwgR292ZXJubWVudCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjEwYzAxMjhhMmJjNGU3MGIwZjlhMGZmYjJmMDljZjcuc2V0Q29udGVudChodG1sXzM3NjhiNGMzOWExNTQ1ZjJhNzViN2NlYWZjOGI5YTAwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZiMTk1MmJhMTIzOTQ4ODA4YmI3ZmZlMDhiZTE5OTA4LmJpbmRQb3B1cChwb3B1cF82MTBjMDEyOGEyYmM0ZTcwYjBmOWEwZmZiMmYwOWNmNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NDM5MjA0YzZhMzI0MTFjOWMxZjI4YWI1MTU4N2I3OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjk2NTYsLTc5LjYxNTgxODk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAxMDNkYTdmMmQyYjRmODU5NDZjNjNiNjBhN2VkZGU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U5YWVkOTc1MDkzYjQzMTBiN2JkOTJjM2QzMWZlNzM5ID0gJCgnPGRpdiBpZD0iaHRtbF9lOWFlZDk3NTA5M2I0MzEwYjdiZDkyYzNkMzFmZTczOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FuYWRhIFBvc3QgR2F0ZXdheSBQcm9jZXNzaW5nIENlbnRyZSwgTWlzc2lzc2F1Z2E8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAxMDNkYTdmMmQyYjRmODU5NDZjNjNiNjBhN2VkZGU0LnNldENvbnRlbnQoaHRtbF9lOWFlZDk3NTA5M2I0MzEwYjdiZDkyYzNkMzFmZTczOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NDM5MjA0YzZhMzI0MTFjOWMxZjI4YWI1MTU4N2I3OC5iaW5kUG9wdXAocG9wdXBfMDEwM2RhN2YyZDJiNGY4NTk0NmM2M2I2MGE3ZWRkZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTM3MGRhOWE5NTRhNGNjMzlmMDc4NzFkODZiNjdmYTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODI1MTg2NjQ4MTQ1NDY1NDgxNzE3ZDI4NmMxOWJmOTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2IzZTg4ZGIwZWY2NDkwMTg3NzAwYzI2ZWE3NmM1NTIgPSAkKCc8ZGl2IGlkPSJodG1sX2NiM2U4OGRiMGVmNjQ5MDE4NzcwMGMyNmVhNzZjNTUyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdXNpbmVzcyByZXBseSBtYWlsIFByb2Nlc3NpbmcgQ2VudHJlLCBTb3V0aCBDZW50cmFsIExldHRlciBQcm9jZXNzaW5nIFBsYW50IFRvcm9udG8sIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODI1MTg2NjQ4MTQ1NDY1NDgxNzE3ZDI4NmMxOWJmOTYuc2V0Q29udGVudChodG1sX2NiM2U4OGRiMGVmNjQ5MDE4NzcwMGMyNmVhNzZjNTUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2EzNzBkYTlhOTU0YTRjYzM5ZjA3ODcxZDg2YjY3ZmExLmJpbmRQb3B1cChwb3B1cF84MjUxODY2NDgxNDU0NjU0ODE3MTdkMjg2YzE5YmY5Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84YTE1ZGY1YTNjNTc0Y2ZlODM3ZWUxNmEyZjQyMGRhNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwNTY0NjYsLTc5LjUwMTMyMDcwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ExOGVkZGIzNDc1NDQzZmQ5NjkwNjY1OGFjYTg1ZDNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRmM2Q3ZmRjZTMwNDRmOGQ4YzZkYzAyZDU5YjkzMzg0ID0gJCgnPGRpdiBpZD0iaHRtbF80ZjNkN2ZkY2UzMDQ0ZjhkOGM2ZGMwMmQ1OWI5MzM4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmV3IFRvcm9udG8sIE1pbWljbyBTb3V0aCwgSHVtYmVyIEJheSBTaG9yZXMsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTE4ZWRkYjM0NzU0NDNmZDk2OTA2NjU4YWNhODVkM2Yuc2V0Q29udGVudChodG1sXzRmM2Q3ZmRjZTMwNDRmOGQ4YzZkYzAyZDU5YjkzMzg0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhhMTVkZjVhM2M1NzRjZmU4MzdlZTE2YTJmNDIwZGE3LmJpbmRQb3B1cChwb3B1cF9hMThlZGRiMzQ3NTQ0M2ZkOTY5MDY2NThhY2E4NWQzZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lZTcxZmVkNzZiODQ0ZjYyODkyY2ZmNTdhYzBjZmNmNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMjQxMzcwMDAwMDAxLC03OS41NDM0ODQwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMmE0M2UwZTJjZGQ0NTgxYjliYWZmNzFmZjBmZmJjNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ZDBhMjkwYTRmZGY0M2U0YjY1Y2I3NjE0NTI5ZjJjZSA9ICQoJzxkaXYgaWQ9Imh0bWxfN2QwYTI5MGE0ZmRmNDNlNGI2NWNiNzYxNDUyOWYyY2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsZGVyd29vZCwgTG9uZyBCcmFuY2gsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTJhNDNlMGUyY2RkNDU4MWI5YmFmZjcxZmYwZmZiYzcuc2V0Q29udGVudChodG1sXzdkMGEyOTBhNGZkZjQzZTRiNjVjYjc2MTQ1MjlmMmNlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VlNzFmZWQ3NmI4NDRmNjI4OTJjZmY1N2FjMGNmY2Y2LmJpbmRQb3B1cChwb3B1cF9lMmE0M2UwZTJjZGQ0NTgxYjliYWZmNzFmZjBmZmJjNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNzIyZDA0MTUyZjI0NTEwYjk2ZTdlNDVkMGQwNjU0YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzY1MzYwMDAwMDAwNSwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NzYxZDJlMzA5YzI0YTkyYjAyMzViZGZiNDA2MzcxMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NDUxYzk1ZDFlNjA0ODMxYmVmZTY2NWYyYjE1ODY1ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzQ1MWM5NWQxZTYwNDgzMWJlZmU2NjVmMmIxNTg2NWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBLaW5nc3dheSwgTW9udGdvbWVyeSBSb2FkLCBPbGQgTWlsbCBOb3J0aCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NzYxZDJlMzA5YzI0YTkyYjAyMzViZGZiNDA2MzcxMC5zZXRDb250ZW50KGh0bWxfNzQ1MWM5NWQxZTYwNDgzMWJlZmU2NjVmMmIxNTg2NWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTcyMmQwNDE1MmYyNDUxMGI5NmU3ZTQ1ZDBkMDY1NGMuYmluZFBvcHVwKHBvcHVwXzU3NjFkMmUzMDljMjRhOTJiMDIzNWJkZmI0MDYzNzEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2YyN2RjODBhYTRmNDQ3OGVhYWUwMmFlZGU0ZWQwY2JkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2MjU3OSwtNzkuNDk4NTA5MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWI5MmNiZTc2OGUxNGYyYjllNzJmYmE5Y2JjNDJkODMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDExNjQwN2JiYjJlNDc4ZmE0NzVjNmNiMTAxOGUxMjAgPSAkKCc8ZGl2IGlkPSJodG1sX2QxMTY0MDdiYmIyZTQ3OGZhNDc1YzZjYjEwMThlMTIwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5PbGQgTWlsbCBTb3V0aCwgS2luZyYjMzk7cyBNaWxsIFBhcmssIFN1bm55bGVhLCBIdW1iZXIgQmF5LCBNaW1pY28gTkUsIFRoZSBRdWVlbnN3YXkgRWFzdCwgUm95YWwgWW9yayBTb3V0aCBFYXN0LCBLaW5nc3dheSBQYXJrIFNvdXRoIEVhc3QsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWI5MmNiZTc2OGUxNGYyYjllNzJmYmE5Y2JjNDJkODMuc2V0Q29udGVudChodG1sX2QxMTY0MDdiYmIyZTQ3OGZhNDc1YzZjYjEwMThlMTIwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YyN2RjODBhYTRmNDQ3OGVhYWUwMmFlZGU0ZWQwY2JkLmJpbmRQb3B1cChwb3B1cF8xYjkyY2JlNzY4ZTE0ZjJiOWU3MmZiYTljYmM0MmQ4Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNTMwOWQxOWFkNTY0NWNkOTRjNTg5ZWEwMzViMmUxYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODg0MDgsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3MzhkY2M5OWQwODRjYjM5NWI4MmE5MzdiMGZhOGI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I4MjBlMTdhMWI2YjQ3NDhhYjM2MTAxZTIwZTg0Nzg0ID0gJCgnPGRpdiBpZD0iaHRtbF9iODIwZTE3YTFiNmI0NzQ4YWIzNjEwMWUyMGU4NDc4NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWltaWNvIE5XLCBUaGUgUXVlZW5zd2F5IFdlc3QsIFNvdXRoIG9mIEJsb29yLCBLaW5nc3dheSBQYXJrIFNvdXRoIFdlc3QsIFJveWFsIFlvcmsgU291dGggV2VzdCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NzM4ZGNjOTlkMDg0Y2IzOTViODJhOTM3YjBmYThiOC5zZXRDb250ZW50KGh0bWxfYjgyMGUxN2ExYjZiNDc0OGFiMzYxMDFlMjBlODQ3ODQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjUzMDlkMTlhZDU2NDVjZDk0YzU4OWVhMDM1YjJlMWMuYmluZFBvcHVwKHBvcHVwXzQ3MzhkY2M5OWQwODRjYjM5NWI4MmE5MzdiMGZhOGI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVhZTYzNWQ1YmRkNzQ1YmI5MjRlMWVmM2ZhOTc5NzhmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3ODU1NiwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2RkY2Q3OGRlMDVjNDExZDhiYTY3MDA5YTVkNjY2ZDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTA2ZjM0M2QwMTZjNDZjYTg5ODVhNWM4YmQzOGFlOGEgPSAkKCc8ZGl2IGlkPSJodG1sXzkwNmYzNDNkMDE2YzQ2Y2E4OTg1YTVjOGJkMzhhZThhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Jc2xpbmd0b24gQXZlbnVlLCBIdW1iZXIgVmFsbGV5IFZpbGxhZ2UsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2RkY2Q3OGRlMDVjNDExZDhiYTY3MDA5YTVkNjY2ZDUuc2V0Q29udGVudChodG1sXzkwNmYzNDNkMDE2YzQ2Y2E4OTg1YTVjOGJkMzhhZThhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVhZTYzNWQ1YmRkNzQ1YmI5MjRlMWVmM2ZhOTc5NzhmLmJpbmRQb3B1cChwb3B1cF83ZGRjZDc4ZGUwNWM0MTFkOGJhNjcwMDlhNWQ2NjZkNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZWEwNDM1MjcwZjI0ZmYyOGM1MTczMTg1YmNmY2RhOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDk0MzIsLTc5LjU1NDcyNDQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QxNDA0OGQzNTNmNzQ2NzU4ZDEzNzgyZWIxMzg1YzZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU5NTIxY2U0NmUyMDQ1MjM4NDhmYWRhZDRhZDc1ODM3ID0gJCgnPGRpdiBpZD0iaHRtbF81OTUyMWNlNDZlMjA0NTIzODQ4ZmFkYWQ0YWQ3NTgzNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdCBEZWFuZSBQYXJrLCBQcmluY2VzcyBHYXJkZW5zLCBNYXJ0aW4gR3JvdmUsIElzbGluZ3RvbiwgQ2xvdmVyZGFsZSwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kMTQwNDhkMzUzZjc0Njc1OGQxMzc4MmViMTM4NWM2ZS5zZXRDb250ZW50KGh0bWxfNTk1MjFjZTQ2ZTIwNDUyMzg0OGZhZGFkNGFkNzU4MzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGVhMDQzNTI3MGYyNGZmMjhjNTE3MzE4NWJjZmNkYTguYmluZFBvcHVwKHBvcHVwX2QxNDA0OGQzNTNmNzQ2NzU4ZDEzNzgyZWIxMzg1YzZlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVhNzM0YjA5MWRlYjQ0NDQ5YzNiNDU5MzRjMWU5YzI5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQzNTE1MiwtNzkuNTc3MjAwNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDYzZmIxMGMwYjg5NDliYTljYjg4NWZlNTk3NDdmODUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTA0MGE1MzIwM2EwNDFmYjg2NDIyMDM1MWQ0ZGFmODMgPSAkKCc8ZGl2IGlkPSJodG1sX2UwNDBhNTMyMDNhMDQxZmI4NjQyMjAzNTFkNGRhZjgzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FcmluZ2F0ZSwgQmxvb3JkYWxlIEdhcmRlbnMsIE9sZCBCdXJuaGFtdGhvcnBlLCBNYXJrbGFuZCBXb29kLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q2M2ZiMTBjMGI4OTQ5YmE5Y2I4ODVmZTU5NzQ3Zjg1LnNldENvbnRlbnQoaHRtbF9lMDQwYTUzMjAzYTA0MWZiODY0MjIwMzUxZDRkYWY4Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YTczNGIwOTFkZWI0NDQ0OWMzYjQ1OTM0YzFlOWMyOS5iaW5kUG9wdXAocG9wdXBfZDYzZmIxMGMwYjg5NDliYTljYjg4NWZlNTk3NDdmODUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzk5ZTdlM2FhY2U3NDM1MzliN2IyYTk5YWJmNjE1ZjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYzMDMzLC03OS41NjU5NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZGM4ZTEyN2QyYjQ0MTkwYTNjYTM3NjdmNmIzMDgwMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OGM3NDhiY2E4YjM0MTUzYTM4YjY3MzQ2ZWQ1YzVkYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDhjNzQ4YmNhOGIzNDE1M2EzOGI2NzM0NmVkNWM1ZGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJkYzhlMTI3ZDJiNDQxOTBhM2NhMzc2N2Y2YjMwODAzLnNldENvbnRlbnQoaHRtbF80OGM3NDhiY2E4YjM0MTUzYTM4YjY3MzQ2ZWQ1YzVkYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jOTllN2UzYWFjZTc0MzUzOWI3YjJhOTlhYmY2MTVmMy5iaW5kUG9wdXAocG9wdXBfMmRjOGUxMjdkMmI0NDE5MGEzY2EzNzY3ZjZiMzA4MDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjY0OWVkNmY1ZmY1NGNkN2FhYjVhYjE0ODU0ZWYxODggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjQ3NjU5LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYjRlNjA4YjNkYzA0ZjhhYWI2ZWE3YzIwNWE1Mjc4ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNmM5N2NlYzMwODE0MzYzOTYzYzNkODg5MTNmZGFjNiA9ICQoJzxkaXYgaWQ9Imh0bWxfMjZjOTdjZWMzMDgxNDM2Mzk2M2MzZDg4OTEzZmRhYzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlcmxlYSwgRW1lcnksIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJiNGU2MDhiM2RjMDRmOGFhYjZlYTdjMjA1YTUyNzhkLnNldENvbnRlbnQoaHRtbF8yNmM5N2NlYzMwODE0MzYzOTYzYzNkODg5MTNmZGFjNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNjQ5ZWQ2ZjVmZjU0Y2Q3YWFiNWFiMTQ4NTRlZjE4OC5iaW5kUG9wdXAocG9wdXBfMmI0ZTYwOGIzZGMwNGY4YWFiNmVhN2MyMDVhNTI3OGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmNkMmEyMzRhZDBhNGQ1ZmJiNjFkMmI2MDRjYzExZmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY4NzYsLTc5LjUxODE4ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ5NWY5Y2Y2ZGZjNDQ0MTE5MGU0M2Y4ZjU4ZWJiYjljID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE4YzQwNDcwN2JkZTQwOTJiYWRiMDhjYTBmYjYxN2I0ID0gJCgnPGRpdiBpZD0iaHRtbF8xOGM0MDQ3MDdiZGU0MDkyYmFkYjA4Y2EwZmI2MTdiNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG9uLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80OTVmOWNmNmRmYzQ0NDExOTBlNDNmOGY1OGViYmI5Yy5zZXRDb250ZW50KGh0bWxfMThjNDA0NzA3YmRlNDA5MmJhZGIwOGNhMGZiNjE3YjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmNkMmEyMzRhZDBhNGQ1ZmJiNjFkMmI2MDRjYzExZmIuYmluZFBvcHVwKHBvcHVwXzQ5NWY5Y2Y2ZGZjNDQ0MTE5MGU0M2Y4ZjU4ZWJiYjljKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIwYTNkNzUyN2U4OTRiMjY5MzMwMmZmZDdiY2NiNzEwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjk2MzE5LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xMmM4OGE0YTEyYzE0YjBlOWU0NmZmNTlhNDgxNTVjNik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MTdlOTMzNzY2OGI0NzQ5YmMyYTFiM2NmZTc5ZmRhNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMzM4OTBlOTIxZjY0M2JjOTEwOTY3NjYzZjY5Mjc4YSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDMzODkwZTkyMWY2NDNiYzkxMDk2NzY2M2Y2OTI3OGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3Rtb3VudCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MTdlOTMzNzY2OGI0NzQ5YmMyYTFiM2NmZTc5ZmRhNi5zZXRDb250ZW50KGh0bWxfZDMzODkwZTkyMWY2NDNiYzkxMDk2NzY2M2Y2OTI3OGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjBhM2Q3NTI3ZTg5NGIyNjkzMzAyZmZkN2JjY2I3MTAuYmluZFBvcHVwKHBvcHVwXzQxN2U5MzM3NjY4YjQ3NDliYzJhMWIzY2ZlNzlmZGE2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc5NmNjZDNkZmExMTQ2NTZhZmUzNTcxMDMzMDg4M2RlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg4OTA1NCwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTJjODhhNGExMmMxNGIwZTllNDZmZjU5YTQ4MTU1YzYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTlkZjNlMzYyYjhlNDk5Zjk1MzBmMzg0MjdiMzI4NDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzMxYTJlYzc2M2RjNDA3NWEwNjZhODcyZmFiNDU3MDYgPSAkKCc8ZGl2IGlkPSJodG1sXzczMWEyZWM3NjNkYzQwNzVhMDY2YTg3MmZhYjQ1NzA2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LaW5nc3ZpZXcgVmlsbGFnZSwgU3QuIFBoaWxsaXBzLCBNYXJ0aW4gR3JvdmUgR2FyZGVucywgUmljaHZpZXcgR2FyZGVucywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xOWRmM2UzNjJiOGU0OTlmOTUzMGYzODQyN2IzMjg0Ny5zZXRDb250ZW50KGh0bWxfNzMxYTJlYzc2M2RjNDA3NWEwNjZhODcyZmFiNDU3MDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzk2Y2NkM2RmYTExNDY1NmFmZTM1NzEwMzMwODgzZGUuYmluZFBvcHVwKHBvcHVwXzE5ZGYzZTM2MmI4ZTQ5OWY5NTMwZjM4NDI3YjMyODQ3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgwOWU4NDg5MzgzNjQ4YzVhNDNlMzdkYWUyOTY5Yzk1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5NDE2Mzk5OTk5OTk2LC03OS41ODg0MzY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA3ODhhOWZmMzdkMjQxNThhNzA0NGVkOGMxODk2N2FmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM2YzZiMTdjZTJhZDQ5YzNiYWFlZDUyNTE2NDNhODA2ID0gJCgnPGRpdiBpZD0iaHRtbF8zNmM2YjE3Y2UyYWQ0OWMzYmFhZWQ1MjUxNjQzYTgwNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggU3RlZWxlcywgU2lsdmVyc3RvbmUsIEh1bWJlcmdhdGUsIEphbWVzdG93biwgTW91bnQgT2xpdmUsIEJlYXVtb25kIEhlaWdodHMsIFRoaXN0bGV0b3duLCBBbGJpb24gR2FyZGVucywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNzg4YTlmZjM3ZDI0MTU4YTcwNDRlZDhjMTg5NjdhZi5zZXRDb250ZW50KGh0bWxfMzZjNmIxN2NlMmFkNDljM2JhYWVkNTI1MTY0M2E4MDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODA5ZTg0ODkzODM2NDhjNWE0M2UzN2RhZTI5NjljOTUuYmluZFBvcHVwKHBvcHVwXzA3ODhhOWZmMzdkMjQxNThhNzA0NGVkOGMxODk2N2FmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMwYjIyYjIxNzM1YTRhNmE4ZjE5NzI5MGZlZGIwMjRmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2NzQ4Mjk5OTk5OTk0LC03OS41OTQwNTQ0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzEyYzg4YTRhMTJjMTRiMGU5ZTQ2ZmY1OWE0ODE1NWM2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkzZjZhNTJkNzJkNzRkYTk5YjNkMjlhYzg2ZDZjOTEwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM4N2VhNzZmYTU0YTRiNjNhNGNhNGRiZTlkMmZkNmU0ID0gJCgnPGRpdiBpZD0iaHRtbF8zODdlYTc2ZmE1NGE0YjYzYTRjYTRkYmU5ZDJmZDZlNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3ZXN0LCBXZXN0IEh1bWJlciAtIENsYWlydmlsbGUsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTNmNmE1MmQ3MmQ3NGRhOTliM2QyOWFjODZkNmM5MTAuc2V0Q29udGVudChodG1sXzM4N2VhNzZmYTU0YTRiNjNhNGNhNGRiZTlkMmZkNmU0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMwYjIyYjIxNzM1YTRhNmE4ZjE5NzI5MGZlZGIwMjRmLmJpbmRQb3B1cChwb3B1cF85M2Y2YTUyZDcyZDc0ZGE5OWIzZDI5YWM4NmQ2YzkxMCk7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7f6f295940b8>"
                    },
                    "execution_count": 26,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "import folium\n\n# create map of Toronto using latitude and longitude values\nmap_Toronto = folium.Map(location=[latitude, longitude], zoom_start=10)\n\n# add markers to map\nfor lat, lng, borough, neighborhood in zip(df_toronto['Latitude'], df_toronto['Longitude'], df_toronto['Borough'], df_toronto['Neighborhood']):\n    label = '{}, {}'.format(neighborhood, borough)\n    label = folium.Popup(label, parse_html=True)\n    folium.CircleMarker(\n        [lat, lng],\n        radius=5,\n        popup=label,\n        color='blue',\n        fill=True,\n        fill_color='#3186cc',\n        fill_opacity=0.7,\n        ).add_to(map_Toronto)  \n    \nmap_Toronto"
        },
        {
            "cell_type": "code",
            "execution_count": 29,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Your credentails:\nCLIENT_ID: 1IZOAVFNOZGZW0HCHAXBK3Y5XVZAAYZJW4HEEQ1TBUWH4GIG\nCLIENT_SECRET:F5MOAX5B1YFPH42N3NNT01AXAH5IQB3A5QEADTB3KZZRB1P5\n"
                }
            ],
            "source": "CLIENT_ID = '1IZOAVFNOZGZW0HCHAXBK3Y5XVZAAYZJW4HEEQ1TBUWH4GIG' # your Foursquare ID\nCLIENT_SECRET = 'F5MOAX5B1YFPH42N3NNT01AXAH5IQB3A5QEADTB3KZZRB1P5' # your Foursquare Secret\n\n\nVERSION = '20180604' # Foursquare API version\n\nprint('Your credentails:')\nprint('CLIENT_ID: ' + CLIENT_ID)\nprint('CLIENT_SECRET:' + CLIENT_SECRET)"
        },
        {
            "cell_type": "code",
            "execution_count": 30,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Latitude and longitude values of Malvern, Rouge are 43.806686299999996, -79.19435340000001.\n"
                }
            ],
            "source": "neighborhood_latitude = df_toronto.loc[0, 'Latitude'] # neighborhood latitude value\nneighborhood_longitude = df_toronto.loc[0, 'Longitude'] # neighborhood longitude value\n\nneighborhood_name = df_toronto.loc[0, 'Neighborhood'] # neighborhood name\n\nprint('Latitude and longitude values of {} are {}, {}.'.format(neighborhood_name, \n                                                               neighborhood_latitude, \n                                                               neighborhood_longitude))"
        },
        {
            "cell_type": "code",
            "execution_count": 31,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "'https://api.foursquare.com/v2/venues/explore?&client_id=1IZOAVFNOZGZW0HCHAXBK3Y5XVZAAYZJW4HEEQ1TBUWH4GIG&client_secret=F5MOAX5B1YFPH42N3NNT01AXAH5IQB3A5QEADTB3KZZRB1P5&v=20180604&ll=43.806686299999996,-79.19435340000001&radius=500&limit=100'"
                    },
                    "execution_count": 31,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "LIMIT = 100\nradius = 500\nurl = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n    CLIENT_ID, \n    CLIENT_SECRET, \n    VERSION, \n    neighborhood_latitude, \n    neighborhood_longitude, \n    radius, \n    LIMIT)\nurl"
        },
        {
            "cell_type": "code",
            "execution_count": 32,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "{'meta': {'code': 200, 'requestId': '5ee7eb52c1ce500e4e3f87ec'},\n 'response': {'warning': {'text': \"There aren't a lot of results near you. Try something more general, reset your filters, or expand the search area.\"},\n  'headerLocation': 'Malvern',\n  'headerFullLocation': 'Malvern, Toronto',\n  'headerLocationGranularity': 'neighborhood',\n  'totalResults': 1,\n  'suggestedBounds': {'ne': {'lat': 43.8111863045, 'lng': -79.18812958073042},\n   'sw': {'lat': 43.80218629549999, 'lng': -79.2005772192696}},\n  'groups': [{'type': 'Recommended Places',\n    'name': 'recommended',\n    'items': [{'reasons': {'count': 0,\n       'items': [{'summary': 'This spot is popular',\n         'type': 'general',\n         'reasonName': 'globalInteractionReason'}]},\n      'venue': {'id': '4bb6b9446edc76b0d771311c',\n       'name': 'Wendy\u2019s',\n       'location': {'crossStreet': 'Morningside & Sheppard',\n        'lat': 43.80744841934756,\n        'lng': -79.19905558052072,\n        'labeledLatLngs': [{'label': 'display',\n          'lat': 43.80744841934756,\n          'lng': -79.19905558052072}],\n        'distance': 387,\n        'cc': 'CA',\n        'city': 'Toronto',\n        'state': 'ON',\n        'country': 'Canada',\n        'formattedAddress': ['Toronto ON', 'Canada']},\n       'categories': [{'id': '4bf58dd8d48988d16e941735',\n         'name': 'Fast Food Restaurant',\n         'pluralName': 'Fast Food Restaurants',\n         'shortName': 'Fast Food',\n         'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/food/fastfood_',\n          'suffix': '.png'},\n         'primary': True}],\n       'photos': {'count': 0, 'groups': []}},\n      'referralId': 'e-0-4bb6b9446edc76b0d771311c-0'}]}]}}"
                    },
                    "execution_count": 32,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "results = requests.get(url).json()\nresults"
        },
        {
            "cell_type": "code",
            "execution_count": 33,
            "metadata": {},
            "outputs": [],
            "source": "# function that extracts the category of the venue\ndef get_category_type(row):\n    try:\n        categories_list = row['categories']\n    except:\n        categories_list = row['venue.categories']\n        \n    if len(categories_list) == 0:\n        return None\n    else:\n        return categories_list[0]['name']"
        },
        {
            "cell_type": "code",
            "execution_count": 34,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>categories</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Wendy\u2019s</td>\n      <td>Fast Food Restaurant</td>\n      <td>43.807448</td>\n      <td>-79.199056</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "      name            categories        lat        lng\n0  Wendy\u2019s  Fast Food Restaurant  43.807448 -79.199056"
                    },
                    "execution_count": 34,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "import json\nfrom pandas.io.json import json_normalize\n\nvenues = results['response']['groups'][0]['items']\n    \nnearby_venues = json_normalize(venues) # flatten JSON\n\n# filter columns\nfiltered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']\nnearby_venues =nearby_venues.loc[:, filtered_columns]\n\n# filter the category for each row\nnearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)\n\n# clean columns\nnearby_venues.columns = [col.split(\".\")[-1] for col in nearby_venues.columns]\n\nnearby_venues.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 35,
            "metadata": {},
            "outputs": [],
            "source": "def getNearbyVenues(names, latitudes, longitudes, radius=500):\n    \n    venues_list=[]\n    for name, lat, lng in zip(names, latitudes, longitudes):\n        print(name)\n            \n        # create the API request URL\n        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(\n            CLIENT_ID, \n            CLIENT_SECRET, \n            VERSION, \n            lat, \n            lng, \n            radius, \n            LIMIT)\n            \n        # make the GET request\n        results = requests.get(url).json()[\"response\"]['groups'][0]['items']\n        \n        # return only relevant information for each nearby venue\n        venues_list.append([(\n            name, \n            lat, \n            lng, \n            v['venue']['name'], \n            v['venue']['location']['lat'], \n            v['venue']['location']['lng'],  \n            v['venue']['categories'][0]['name']) for v in results])\n\n    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])\n    nearby_venues.columns = ['Neighbourhood', \n                  'Neighborhood Latitude', \n                  'Neighborhood Longitude', \n                  'Venue', \n                  'Venue Latitude', \n                  'Venue Longitude', \n                  'Venue Category']\n    \n    return(nearby_venues)"
        },
        {
            "cell_type": "code",
            "execution_count": 36,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Malvern, Rouge\nRouge Hill, Port Union, Highland Creek\nGuildwood, Morningside, West Hill\nWoburn\nCedarbrae\nScarborough Village\nKennedy Park, Ionview, East Birchmount Park\nGolden Mile, Clairlea, Oakridge\nCliffside, Cliffcrest, Scarborough Village West\nBirch Cliff, Cliffside West\nDorset Park, Wexford Heights, Scarborough Town Centre\nWexford, Maryvale\nAgincourt\nClarks Corners, Tam O'Shanter, Sullivan\nMilliken, Agincourt North, Steeles East, L'Amoreaux East\nSteeles West, L'Amoreaux West\nUpper Rouge\nHillcrest Village\nFairview, Henry Farm, Oriole\nBayview Village\nYork Mills, Silver Hills\nWillowdale, Newtonbrook\nWillowdale, Willowdale East\nYork Mills West\nWillowdale, Willowdale West\nParkwoods\nDon Mills\nDon Mills\nBathurst Manor, Wilson Heights, Downsview North\nNorthwood Park, York University\nDownsview\nDownsview\nDownsview\nDownsview\nVictoria Village\nParkview Hill, Woodbine Gardens\nWoodbine Heights\nThe Beaches\nLeaside\nThorncliffe Park\nEast Toronto, Broadview North (Old East York)\nThe Danforth West, Riverdale\nIndia Bazaar, The Beaches West\nStudio District\nLawrence Park\nDavisville North\nNorth Toronto West, Lawrence Park\nDavisville\nMoore Park, Summerhill East\nSummerhill West, Rathnelly, South Hill, Forest Hill SE, Deer Park\nRosedale\nSt. James Town, Cabbagetown\nChurch and Wellesley\nRegent Park, Harbourfront\nGarden District, Ryerson\nSt. James Town\nBerczy Park\nCentral Bay Street\nRichmond, Adelaide, King\nHarbourfront East, Union Station, Toronto Islands\nToronto Dominion Centre, Design Exchange\nCommerce Court, Victoria Hotel\nBedford Park, Lawrence Manor East\nRoselawn\nForest Hill North & West, Forest Hill Road Park\nThe Annex, North Midtown, Yorkville\nUniversity of Toronto, Harbord\nKensington Market, Chinatown, Grange Park\nCN Tower, King and Spadina, Railway Lands, Harbourfront West, Bathurst Quay, South Niagara, Island airport\nStn A PO Boxes\nFirst Canadian Place, Underground city\nLawrence Manor, Lawrence Heights\nGlencairn\nHumewood-Cedarvale\nCaledonia-Fairbanks\nChristie\nDufferin, Dovercourt Village\nLittle Portugal, Trinity\nBrockton, Parkdale Village, Exhibition Place\nNorth Park, Maple Leaf Park, Upwood Park\nDel Ray, Mount Dennis, Keelsdale and Silverthorn\nRunnymede, The Junction North\nHigh Park, The Junction South\nParkdale, Roncesvalles\nRunnymede, Swansea\nQueen's Park, Ontario Provincial Government\nCanada Post Gateway Processing Centre\nBusiness reply mail Processing Centre, South Central Letter Processing Plant Toronto\nNew Toronto, Mimico South, Humber Bay Shores\nAlderwood, Long Branch\nThe Kingsway, Montgomery Road, Old Mill North\nOld Mill South, King's Mill Park, Sunnylea, Humber Bay, Mimico NE, The Queensway East, Royal York South East, Kingsway Park South East\nMimico NW, The Queensway West, South of Bloor, Kingsway Park South West, Royal York South West\nIslington Avenue, Humber Valley Village\nWest Deane Park, Princess Gardens, Martin Grove, Islington, Cloverdale\nEringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood\nHumber Summit\nHumberlea, Emery\nWeston\nWestmount\nKingsview Village, St. Phillips, Martin Grove Gardens, Richview Gardens\nSouth Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens\nNorthwest, West Humber - Clairville\n"
                }
            ],
            "source": "toronto_venues = getNearbyVenues(names=df_toronto['Neighborhood'],\n                                   latitudes=df_toronto['Latitude'],\n                                   longitudes=df_toronto['Longitude']\n                                  )"
        },
        {
            "cell_type": "code",
            "execution_count": 37,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "(2132, 7)\n"
                },
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Neighborhood Latitude</th>\n      <th>Neighborhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Malvern, Rouge</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n      <td>Wendy\u2019s</td>\n      <td>43.807448</td>\n      <td>-79.199056</td>\n      <td>Fast Food Restaurant</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n      <td>Chris Effects Painting</td>\n      <td>43.784343</td>\n      <td>-79.163742</td>\n      <td>Construction &amp; Landscaping</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n      <td>Royal Canadian Legion</td>\n      <td>43.782533</td>\n      <td>-79.163085</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n      <td>RBC Royal Bank</td>\n      <td>43.766790</td>\n      <td>-79.191151</td>\n      <td>Bank</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n      <td>G &amp; G Electronics</td>\n      <td>43.765309</td>\n      <td>-79.191537</td>\n      <td>Electronics Store</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "                            Neighbourhood  Neighborhood Latitude  \\\n0                          Malvern, Rouge              43.806686   \n1  Rouge Hill, Port Union, Highland Creek              43.784535   \n2  Rouge Hill, Port Union, Highland Creek              43.784535   \n3       Guildwood, Morningside, West Hill              43.763573   \n4       Guildwood, Morningside, West Hill              43.763573   \n\n   Neighborhood Longitude                   Venue  Venue Latitude  \\\n0              -79.194353                 Wendy\u2019s       43.807448   \n1              -79.160497  Chris Effects Painting       43.784343   \n2              -79.160497   Royal Canadian Legion       43.782533   \n3              -79.188711          RBC Royal Bank       43.766790   \n4              -79.188711       G & G Electronics       43.765309   \n\n   Venue Longitude              Venue Category  \n0       -79.199056        Fast Food Restaurant  \n1       -79.163742  Construction & Landscaping  \n2       -79.163085                         Bar  \n3       -79.191151                        Bank  \n4       -79.191537           Electronics Store  "
                    },
                    "execution_count": 37,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "print(toronto_venues.shape)\ntoronto_venues.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 38,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighborhood Latitude</th>\n      <th>Neighborhood Longitude</th>\n      <th>Venue</th>\n      <th>Venue Latitude</th>\n      <th>Venue Longitude</th>\n      <th>Venue Category</th>\n    </tr>\n    <tr>\n      <th>Neighbourhood</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>Agincourt</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Alderwood, Long Branch</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>Bathurst Manor, Wilson Heights, Downsview North</th>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n      <td>20</td>\n    </tr>\n    <tr>\n      <th>Bayview Village</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Bedford Park, Lawrence Manor East</th>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n      <td>24</td>\n    </tr>\n    <tr>\n      <th>Berczy Park</th>\n      <td>56</td>\n      <td>56</td>\n      <td>56</td>\n      <td>56</td>\n      <td>56</td>\n      <td>56</td>\n    </tr>\n    <tr>\n      <th>Birch Cliff, Cliffside West</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Brockton, Parkdale Village, Exhibition Place</th>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n      <td>23</td>\n    </tr>\n    <tr>\n      <th>Business reply mail Processing Centre, South Central Letter Processing Plant Toronto</th>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n    </tr>\n    <tr>\n      <th>CN Tower, King and Spadina, Railway Lands, Harbourfront West, Bathurst Quay, South Niagara, Island airport</th>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n      <td>18</td>\n    </tr>\n    <tr>\n      <th>Caledonia-Fairbanks</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Canada Post Gateway Processing Centre</th>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n      <td>13</td>\n    </tr>\n    <tr>\n      <th>Cedarbrae</th>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>Central Bay Street</th>\n      <td>65</td>\n      <td>65</td>\n      <td>65</td>\n      <td>65</td>\n      <td>65</td>\n      <td>65</td>\n    </tr>\n    <tr>\n      <th>Christie</th>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n    </tr>\n    <tr>\n      <th>Church and Wellesley</th>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n    </tr>\n    <tr>\n      <th>Clarks Corners, Tam O'Shanter, Sullivan</th>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n      <td>12</td>\n    </tr>\n    <tr>\n      <th>Cliffside, Cliffcrest, Scarborough Village West</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Commerce Court, Victoria Hotel</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>Davisville</th>\n      <td>31</td>\n      <td>31</td>\n      <td>31</td>\n      <td>31</td>\n      <td>31</td>\n      <td>31</td>\n    </tr>\n    <tr>\n      <th>Davisville North</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>Del Ray, Mount Dennis, Keelsdale and Silverthorn</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Don Mills</th>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n      <td>28</td>\n    </tr>\n    <tr>\n      <th>Dorset Park, Wexford Heights, Scarborough Town Centre</th>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n    </tr>\n    <tr>\n      <th>Downsview</th>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n    </tr>\n    <tr>\n      <th>Dufferin, Dovercourt Village</th>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n      <td>15</td>\n    </tr>\n    <tr>\n      <th>East Toronto, Broadview North (Old East York)</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Eringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood</th>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>Fairview, Henry Farm, Oriole</th>\n      <td>62</td>\n      <td>62</td>\n      <td>62</td>\n      <td>62</td>\n      <td>62</td>\n      <td>62</td>\n    </tr>\n    <tr>\n      <th>First Canadian Place, Underground city</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>Rosedale</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Roselawn</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>Rouge Hill, Port Union, Highland Creek</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Runnymede, Swansea</th>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n      <td>38</td>\n    </tr>\n    <tr>\n      <th>Runnymede, The Junction North</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>Scarborough Village</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>South Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens</th>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n      <td>9</td>\n    </tr>\n    <tr>\n      <th>St. James Town</th>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n      <td>78</td>\n    </tr>\n    <tr>\n      <th>St. James Town, Cabbagetown</th>\n      <td>48</td>\n      <td>48</td>\n      <td>48</td>\n      <td>48</td>\n      <td>48</td>\n      <td>48</td>\n    </tr>\n    <tr>\n      <th>Steeles West, L'Amoreaux West</th>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n      <td>16</td>\n    </tr>\n    <tr>\n      <th>Stn A PO Boxes</th>\n      <td>94</td>\n      <td>94</td>\n      <td>94</td>\n      <td>94</td>\n      <td>94</td>\n      <td>94</td>\n    </tr>\n    <tr>\n      <th>Studio District</th>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n      <td>41</td>\n    </tr>\n    <tr>\n      <th>Summerhill West, Rathnelly, South Hill, Forest Hill SE, Deer Park</th>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n      <td>17</td>\n    </tr>\n    <tr>\n      <th>The Annex, North Midtown, Yorkville</th>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n    </tr>\n    <tr>\n      <th>The Beaches</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>The Danforth West, Riverdale</th>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n      <td>43</td>\n    </tr>\n    <tr>\n      <th>The Kingsway, Montgomery Road, Old Mill North</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>Thorncliffe Park</th>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n      <td>22</td>\n    </tr>\n    <tr>\n      <th>Toronto Dominion Centre, Design Exchange</th>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n      <td>100</td>\n    </tr>\n    <tr>\n      <th>University of Toronto, Harbord</th>\n      <td>35</td>\n      <td>35</td>\n      <td>35</td>\n      <td>35</td>\n      <td>35</td>\n      <td>35</td>\n    </tr>\n    <tr>\n      <th>Victoria Village</th>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n    </tr>\n    <tr>\n      <th>Westmount</th>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>Weston</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>Wexford, Maryvale</th>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>Willowdale, Willowdale East</th>\n      <td>33</td>\n      <td>33</td>\n      <td>33</td>\n      <td>33</td>\n      <td>33</td>\n      <td>33</td>\n    </tr>\n    <tr>\n      <th>Willowdale, Willowdale West</th>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n      <td>6</td>\n    </tr>\n    <tr>\n      <th>Woburn</th>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>Woodbine Heights</th>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n      <td>8</td>\n    </tr>\n    <tr>\n      <th>York Mills West</th>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>York Mills, Silver Hills</th>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n<p>95 rows \u00d7 6 columns</p>\n</div>",
                        "text/plain": "                                                    Neighborhood Latitude  \\\nNeighbourhood                                                               \nAgincourt                                                               5   \nAlderwood, Long Branch                                                  9   \nBathurst Manor, Wilson Heights, Downsview North                        20   \nBayview Village                                                         4   \nBedford Park, Lawrence Manor East                                      24   \nBerczy Park                                                            56   \nBirch Cliff, Cliffside West                                             4   \nBrockton, Parkdale Village, Exhibition Place                           23   \nBusiness reply mail Processing Centre, South Ce...                     16   \nCN Tower, King and Spadina, Railway Lands, Harb...                     18   \nCaledonia-Fairbanks                                                     4   \nCanada Post Gateway Processing Centre                                  13   \nCedarbrae                                                               8   \nCentral Bay Street                                                     65   \nChristie                                                               16   \nChurch and Wellesley                                                   78   \nClarks Corners, Tam O'Shanter, Sullivan                                12   \nCliffside, Cliffcrest, Scarborough Village West                         2   \nCommerce Court, Victoria Hotel                                        100   \nDavisville                                                             31   \nDavisville North                                                        9   \nDel Ray, Mount Dennis, Keelsdale and Silverthorn                        5   \nDon Mills                                                              28   \nDorset Park, Wexford Heights, Scarborough Town ...                      5   \nDownsview                                                              17   \nDufferin, Dovercourt Village                                           15   \nEast Toronto, Broadview North (Old East York)                           4   \nEringate, Bloordale Gardens, Old Burnhamthorpe,...                      8   \nFairview, Henry Farm, Oriole                                           62   \nFirst Canadian Place, Underground city                                100   \n...                                                                   ...   \nRosedale                                                                4   \nRoselawn                                                                3   \nRouge Hill, Port Union, Highland Creek                                  2   \nRunnymede, Swansea                                                     38   \nRunnymede, The Junction North                                           3   \nScarborough Village                                                     2   \nSouth Steeles, Silverstone, Humbergate, Jamesto...                      9   \nSt. James Town                                                         78   \nSt. James Town, Cabbagetown                                            48   \nSteeles West, L'Amoreaux West                                          16   \nStn A PO Boxes                                                         94   \nStudio District                                                        41   \nSummerhill West, Rathnelly, South Hill, Forest ...                     17   \nThe Annex, North Midtown, Yorkville                                    22   \nThe Beaches                                                             4   \nThe Danforth West, Riverdale                                           43   \nThe Kingsway, Montgomery Road, Old Mill North                           2   \nThorncliffe Park                                                       22   \nToronto Dominion Centre, Design Exchange                              100   \nUniversity of Toronto, Harbord                                         35   \nVictoria Village                                                        4   \nWestmount                                                               8   \nWeston                                                                  3   \nWexford, Maryvale                                                       6   \nWillowdale, Willowdale East                                            33   \nWillowdale, Willowdale West                                             6   \nWoburn                                                                  3   \nWoodbine Heights                                                        8   \nYork Mills West                                                         2   \nYork Mills, Silver Hills                                                1   \n\n                                                    Neighborhood Longitude  \\\nNeighbourhood                                                                \nAgincourt                                                                5   \nAlderwood, Long Branch                                                   9   \nBathurst Manor, Wilson Heights, Downsview North                         20   \nBayview Village                                                          4   \nBedford Park, Lawrence Manor East                                       24   \nBerczy Park                                                             56   \nBirch Cliff, Cliffside West                                              4   \nBrockton, Parkdale Village, Exhibition Place                            23   \nBusiness reply mail Processing Centre, South Ce...                      16   \nCN Tower, King and Spadina, Railway Lands, Harb...                      18   \nCaledonia-Fairbanks                                                      4   \nCanada Post Gateway Processing Centre                                   13   \nCedarbrae                                                                8   \nCentral Bay Street                                                      65   \nChristie                                                                16   \nChurch and Wellesley                                                    78   \nClarks Corners, Tam O'Shanter, Sullivan                                 12   \nCliffside, Cliffcrest, Scarborough Village West                          2   \nCommerce Court, Victoria Hotel                                         100   \nDavisville                                                              31   \nDavisville North                                                         9   \nDel Ray, Mount Dennis, Keelsdale and Silverthorn                         5   \nDon Mills                                                               28   \nDorset Park, Wexford Heights, Scarborough Town ...                       5   \nDownsview                                                               17   \nDufferin, Dovercourt Village                                            15   \nEast Toronto, Broadview North (Old East York)                            4   \nEringate, Bloordale Gardens, Old Burnhamthorpe,...                       8   \nFairview, Henry Farm, Oriole                                            62   \nFirst Canadian Place, Underground city                                 100   \n...                                                                    ...   \nRosedale                                                                 4   \nRoselawn                                                                 3   \nRouge Hill, Port Union, Highland Creek                                   2   \nRunnymede, Swansea                                                      38   \nRunnymede, The Junction North                                            3   \nScarborough Village                                                      2   \nSouth Steeles, Silverstone, Humbergate, Jamesto...                       9   \nSt. James Town                                                          78   \nSt. James Town, Cabbagetown                                             48   \nSteeles West, L'Amoreaux West                                           16   \nStn A PO Boxes                                                          94   \nStudio District                                                         41   \nSummerhill West, Rathnelly, South Hill, Forest ...                      17   \nThe Annex, North Midtown, Yorkville                                     22   \nThe Beaches                                                              4   \nThe Danforth West, Riverdale                                            43   \nThe Kingsway, Montgomery Road, Old Mill North                            2   \nThorncliffe Park                                                        22   \nToronto Dominion Centre, Design Exchange                               100   \nUniversity of Toronto, Harbord                                          35   \nVictoria Village                                                         4   \nWestmount                                                                8   \nWeston                                                                   3   \nWexford, Maryvale                                                        6   \nWillowdale, Willowdale East                                             33   \nWillowdale, Willowdale West                                              6   \nWoburn                                                                   3   \nWoodbine Heights                                                         8   \nYork Mills West                                                          2   \nYork Mills, Silver Hills                                                 1   \n\n                                                    Venue  Venue Latitude  \\\nNeighbourhood                                                               \nAgincourt                                               5               5   \nAlderwood, Long Branch                                  9               9   \nBathurst Manor, Wilson Heights, Downsview North        20              20   \nBayview Village                                         4               4   \nBedford Park, Lawrence Manor East                      24              24   \nBerczy Park                                            56              56   \nBirch Cliff, Cliffside West                             4               4   \nBrockton, Parkdale Village, Exhibition Place           23              23   \nBusiness reply mail Processing Centre, South Ce...     16              16   \nCN Tower, King and Spadina, Railway Lands, Harb...     18              18   \nCaledonia-Fairbanks                                     4               4   \nCanada Post Gateway Processing Centre                  13              13   \nCedarbrae                                               8               8   \nCentral Bay Street                                     65              65   \nChristie                                               16              16   \nChurch and Wellesley                                   78              78   \nClarks Corners, Tam O'Shanter, Sullivan                12              12   \nCliffside, Cliffcrest, Scarborough Village West         2               2   \nCommerce Court, Victoria Hotel                        100             100   \nDavisville                                             31              31   \nDavisville North                                        9               9   \nDel Ray, Mount Dennis, Keelsdale and Silverthorn        5               5   \nDon Mills                                              28              28   \nDorset Park, Wexford Heights, Scarborough Town ...      5               5   \nDownsview                                              17              17   \nDufferin, Dovercourt Village                           15              15   \nEast Toronto, Broadview North (Old East York)           4               4   \nEringate, Bloordale Gardens, Old Burnhamthorpe,...      8               8   \nFairview, Henry Farm, Oriole                           62              62   \nFirst Canadian Place, Underground city                100             100   \n...                                                   ...             ...   \nRosedale                                                4               4   \nRoselawn                                                3               3   \nRouge Hill, Port Union, Highland Creek                  2               2   \nRunnymede, Swansea                                     38              38   \nRunnymede, The Junction North                           3               3   \nScarborough Village                                     2               2   \nSouth Steeles, Silverstone, Humbergate, Jamesto...      9               9   \nSt. James Town                                         78              78   \nSt. James Town, Cabbagetown                            48              48   \nSteeles West, L'Amoreaux West                          16              16   \nStn A PO Boxes                                         94              94   \nStudio District                                        41              41   \nSummerhill West, Rathnelly, South Hill, Forest ...     17              17   \nThe Annex, North Midtown, Yorkville                    22              22   \nThe Beaches                                             4               4   \nThe Danforth West, Riverdale                           43              43   \nThe Kingsway, Montgomery Road, Old Mill North           2               2   \nThorncliffe Park                                       22              22   \nToronto Dominion Centre, Design Exchange              100             100   \nUniversity of Toronto, Harbord                         35              35   \nVictoria Village                                        4               4   \nWestmount                                               8               8   \nWeston                                                  3               3   \nWexford, Maryvale                                       6               6   \nWillowdale, Willowdale East                            33              33   \nWillowdale, Willowdale West                             6               6   \nWoburn                                                  3               3   \nWoodbine Heights                                        8               8   \nYork Mills West                                         2               2   \nYork Mills, Silver Hills                                1               1   \n\n                                                    Venue Longitude  \\\nNeighbourhood                                                         \nAgincourt                                                         5   \nAlderwood, Long Branch                                            9   \nBathurst Manor, Wilson Heights, Downsview North                  20   \nBayview Village                                                   4   \nBedford Park, Lawrence Manor East                                24   \nBerczy Park                                                      56   \nBirch Cliff, Cliffside West                                       4   \nBrockton, Parkdale Village, Exhibition Place                     23   \nBusiness reply mail Processing Centre, South Ce...               16   \nCN Tower, King and Spadina, Railway Lands, Harb...               18   \nCaledonia-Fairbanks                                               4   \nCanada Post Gateway Processing Centre                            13   \nCedarbrae                                                         8   \nCentral Bay Street                                               65   \nChristie                                                         16   \nChurch and Wellesley                                             78   \nClarks Corners, Tam O'Shanter, Sullivan                          12   \nCliffside, Cliffcrest, Scarborough Village West                   2   \nCommerce Court, Victoria Hotel                                  100   \nDavisville                                                       31   \nDavisville North                                                  9   \nDel Ray, Mount Dennis, Keelsdale and Silverthorn                  5   \nDon Mills                                                        28   \nDorset Park, Wexford Heights, Scarborough Town ...                5   \nDownsview                                                        17   \nDufferin, Dovercourt Village                                     15   \nEast Toronto, Broadview North (Old East York)                     4   \nEringate, Bloordale Gardens, Old Burnhamthorpe,...                8   \nFairview, Henry Farm, Oriole                                     62   \nFirst Canadian Place, Underground city                          100   \n...                                                             ...   \nRosedale                                                          4   \nRoselawn                                                          3   \nRouge Hill, Port Union, Highland Creek                            2   \nRunnymede, Swansea                                               38   \nRunnymede, The Junction North                                     3   \nScarborough Village                                               2   \nSouth Steeles, Silverstone, Humbergate, Jamesto...                9   \nSt. James Town                                                   78   \nSt. James Town, Cabbagetown                                      48   \nSteeles West, L'Amoreaux West                                    16   \nStn A PO Boxes                                                   94   \nStudio District                                                  41   \nSummerhill West, Rathnelly, South Hill, Forest ...               17   \nThe Annex, North Midtown, Yorkville                              22   \nThe Beaches                                                       4   \nThe Danforth West, Riverdale                                     43   \nThe Kingsway, Montgomery Road, Old Mill North                     2   \nThorncliffe Park                                                 22   \nToronto Dominion Centre, Design Exchange                        100   \nUniversity of Toronto, Harbord                                   35   \nVictoria Village                                                  4   \nWestmount                                                         8   \nWeston                                                            3   \nWexford, Maryvale                                                 6   \nWillowdale, Willowdale East                                      33   \nWillowdale, Willowdale West                                       6   \nWoburn                                                            3   \nWoodbine Heights                                                  8   \nYork Mills West                                                   2   \nYork Mills, Silver Hills                                          1   \n\n                                                    Venue Category  \nNeighbourhood                                                       \nAgincourt                                                        5  \nAlderwood, Long Branch                                           9  \nBathurst Manor, Wilson Heights, Downsview North                 20  \nBayview Village                                                  4  \nBedford Park, Lawrence Manor East                               24  \nBerczy Park                                                     56  \nBirch Cliff, Cliffside West                                      4  \nBrockton, Parkdale Village, Exhibition Place                    23  \nBusiness reply mail Processing Centre, South Ce...              16  \nCN Tower, King and Spadina, Railway Lands, Harb...              18  \nCaledonia-Fairbanks                                              4  \nCanada Post Gateway Processing Centre                           13  \nCedarbrae                                                        8  \nCentral Bay Street                                              65  \nChristie                                                        16  \nChurch and Wellesley                                            78  \nClarks Corners, Tam O'Shanter, Sullivan                         12  \nCliffside, Cliffcrest, Scarborough Village West                  2  \nCommerce Court, Victoria Hotel                                 100  \nDavisville                                                      31  \nDavisville North                                                 9  \nDel Ray, Mount Dennis, Keelsdale and Silverthorn                 5  \nDon Mills                                                       28  \nDorset Park, Wexford Heights, Scarborough Town ...               5  \nDownsview                                                       17  \nDufferin, Dovercourt Village                                    15  \nEast Toronto, Broadview North (Old East York)                    4  \nEringate, Bloordale Gardens, Old Burnhamthorpe,...               8  \nFairview, Henry Farm, Oriole                                    62  \nFirst Canadian Place, Underground city                         100  \n...                                                            ...  \nRosedale                                                         4  \nRoselawn                                                         3  \nRouge Hill, Port Union, Highland Creek                           2  \nRunnymede, Swansea                                              38  \nRunnymede, The Junction North                                    3  \nScarborough Village                                              2  \nSouth Steeles, Silverstone, Humbergate, Jamesto...               9  \nSt. James Town                                                  78  \nSt. James Town, Cabbagetown                                     48  \nSteeles West, L'Amoreaux West                                   16  \nStn A PO Boxes                                                  94  \nStudio District                                                 41  \nSummerhill West, Rathnelly, South Hill, Forest ...              17  \nThe Annex, North Midtown, Yorkville                             22  \nThe Beaches                                                      4  \nThe Danforth West, Riverdale                                    43  \nThe Kingsway, Montgomery Road, Old Mill North                    2  \nThorncliffe Park                                                22  \nToronto Dominion Centre, Design Exchange                       100  \nUniversity of Toronto, Harbord                                  35  \nVictoria Village                                                 4  \nWestmount                                                        8  \nWeston                                                           3  \nWexford, Maryvale                                                6  \nWillowdale, Willowdale East                                     33  \nWillowdale, Willowdale West                                      6  \nWoburn                                                           3  \nWoodbine Heights                                                 8  \nYork Mills West                                                  2  \nYork Mills, Silver Hills                                         1  \n\n[95 rows x 6 columns]"
                    },
                    "execution_count": 38,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_venues.groupby('Neighbourhood').count()"
        },
        {
            "cell_type": "code",
            "execution_count": 39,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Afghan Restaurant</th>\n      <th>Airport</th>\n      <th>Airport Food Court</th>\n      <th>Airport Gate</th>\n      <th>Airport Lounge</th>\n      <th>Airport Service</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>...</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Video Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Warehouse Store</th>\n      <th>Wine Bar</th>\n      <th>Wine Shop</th>\n      <th>Wings Joint</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Malvern, Rouge</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>...</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows \u00d7 281 columns</p>\n</div>",
                        "text/plain": "                            Neighbourhood  Accessories Store  \\\n0                          Malvern, Rouge                  0   \n1  Rouge Hill, Port Union, Highland Creek                  0   \n2  Rouge Hill, Port Union, Highland Creek                  0   \n3       Guildwood, Morningside, West Hill                  0   \n4       Guildwood, Morningside, West Hill                  0   \n\n   Afghan Restaurant  Airport  Airport Food Court  Airport Gate  \\\n0                  0        0                   0             0   \n1                  0        0                   0             0   \n2                  0        0                   0             0   \n3                  0        0                   0             0   \n4                  0        0                   0             0   \n\n   Airport Lounge  Airport Service  Airport Terminal  American Restaurant  \\\n0               0                0                 0                    0   \n1               0                0                 0                    0   \n2               0                0                 0                    0   \n3               0                0                 0                    0   \n4               0                0                 0                    0   \n\n   ...  Vegetarian / Vegan Restaurant  Video Game Store  Video Store  \\\n0  ...                              0                 0            0   \n1  ...                              0                 0            0   \n2  ...                              0                 0            0   \n3  ...                              0                 0            0   \n4  ...                              0                 0            0   \n\n   Vietnamese Restaurant  Warehouse Store  Wine Bar  Wine Shop  Wings Joint  \\\n0                      0                0         0          0            0   \n1                      0                0         0          0            0   \n2                      0                0         0          0            0   \n3                      0                0         0          0            0   \n4                      0                0         0          0            0   \n\n   Women's Store  Yoga Studio  \n0              0            0  \n1              0            0  \n2              0            0  \n3              0            0  \n4              0            0  \n\n[5 rows x 281 columns]"
                    },
                    "execution_count": 39,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_onehot = pd.get_dummies(toronto_venues[['Venue Category']], prefix=\"\", prefix_sep=\"\")\n\n# add neighborhood column back to dataframe\ntoronto_onehot['Neighbourhood'] = toronto_venues['Neighbourhood'] \n\n# move neighborhood column to the first column\nfixed_columns = [toronto_onehot.columns[-1]] + list(toronto_onehot.columns[:-1])\ntoronto_onehot = toronto_onehot[fixed_columns]\n\ntoronto_onehot.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 40,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(2132, 281)"
                    },
                    "execution_count": 40,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_onehot.shape"
        },
        {
            "cell_type": "code",
            "execution_count": 41,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>Accessories Store</th>\n      <th>Afghan Restaurant</th>\n      <th>Airport</th>\n      <th>Airport Food Court</th>\n      <th>Airport Gate</th>\n      <th>Airport Lounge</th>\n      <th>Airport Service</th>\n      <th>Airport Terminal</th>\n      <th>American Restaurant</th>\n      <th>...</th>\n      <th>Vegetarian / Vegan Restaurant</th>\n      <th>Video Game Store</th>\n      <th>Video Store</th>\n      <th>Vietnamese Restaurant</th>\n      <th>Warehouse Store</th>\n      <th>Wine Bar</th>\n      <th>Wine Shop</th>\n      <th>Wings Joint</th>\n      <th>Women's Store</th>\n      <th>Yoga Studio</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Agincourt</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Alderwood, Long Branch</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bathurst Manor, Wilson Heights, Downsview North</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Bayview Village</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.000000</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Bedford Park, Lawrence Manor East</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.041667</td>\n      <td>...</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows \u00d7 281 columns</p>\n</div>",
                        "text/plain": "                                     Neighbourhood  Accessories Store  \\\n0                                        Agincourt                0.0   \n1                           Alderwood, Long Branch                0.0   \n2  Bathurst Manor, Wilson Heights, Downsview North                0.0   \n3                                  Bayview Village                0.0   \n4                Bedford Park, Lawrence Manor East                0.0   \n\n   Afghan Restaurant  Airport  Airport Food Court  Airport Gate  \\\n0                0.0      0.0                 0.0           0.0   \n1                0.0      0.0                 0.0           0.0   \n2                0.0      0.0                 0.0           0.0   \n3                0.0      0.0                 0.0           0.0   \n4                0.0      0.0                 0.0           0.0   \n\n   Airport Lounge  Airport Service  Airport Terminal  American Restaurant  \\\n0             0.0              0.0               0.0             0.000000   \n1             0.0              0.0               0.0             0.000000   \n2             0.0              0.0               0.0             0.000000   \n3             0.0              0.0               0.0             0.000000   \n4             0.0              0.0               0.0             0.041667   \n\n   ...  Vegetarian / Vegan Restaurant  Video Game Store  Video Store  \\\n0  ...                            0.0               0.0          0.0   \n1  ...                            0.0               0.0          0.0   \n2  ...                            0.0               0.0          0.0   \n3  ...                            0.0               0.0          0.0   \n4  ...                            0.0               0.0          0.0   \n\n   Vietnamese Restaurant  Warehouse Store  Wine Bar  Wine Shop  Wings Joint  \\\n0                    0.0              0.0       0.0        0.0          0.0   \n1                    0.0              0.0       0.0        0.0          0.0   \n2                    0.0              0.0       0.0        0.0          0.0   \n3                    0.0              0.0       0.0        0.0          0.0   \n4                    0.0              0.0       0.0        0.0          0.0   \n\n   Women's Store  Yoga Studio  \n0            0.0          0.0  \n1            0.0          0.0  \n2            0.0          0.0  \n3            0.0          0.0  \n4            0.0          0.0  \n\n[5 rows x 281 columns]"
                    },
                    "execution_count": 41,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_grouped = toronto_onehot.groupby('Neighbourhood').mean().reset_index()\ntoronto_grouped.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 42,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(95, 281)"
                    },
                    "execution_count": 42,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_grouped.shape\n"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Top 10 for each neighbourhood"
        },
        {
            "cell_type": "code",
            "execution_count": 43,
            "metadata": {},
            "outputs": [],
            "source": "def return_most_common_venues(row, num_top_venues):\n    row_categories = row.iloc[1:]\n    row_categories_sorted = row_categories.sort_values(ascending=False)\n    \n    return row_categories_sorted.index.values[0:num_top_venues]"
        },
        {
            "cell_type": "code",
            "execution_count": 44,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Neighbourhood</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Agincourt</td>\n      <td>Clothing Store</td>\n      <td>Lounge</td>\n      <td>Breakfast Spot</td>\n      <td>Latin American Restaurant</td>\n      <td>Skating Rink</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Alderwood, Long Branch</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>Gym</td>\n      <td>Sandwich Place</td>\n      <td>Pharmacy</td>\n      <td>Coffee Shop</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Pub</td>\n      <td>Doner Restaurant</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Bathurst Manor, Wilson Heights, Downsview North</td>\n      <td>Bank</td>\n      <td>Coffee Shop</td>\n      <td>Ice Cream Shop</td>\n      <td>Supermarket</td>\n      <td>Sushi Restaurant</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Mobile Phone Shop</td>\n      <td>Deli / Bodega</td>\n      <td>Fried Chicken Joint</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Bayview Village</td>\n      <td>Caf\u00e9</td>\n      <td>Bank</td>\n      <td>Chinese Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Bedford Park, Lawrence Manor East</td>\n      <td>Coffee Shop</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>Greek Restaurant</td>\n      <td>Thai Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Pub</td>\n      <td>Caf\u00e9</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "                                     Neighbourhood 1st Most Common Venue  \\\n0                                        Agincourt        Clothing Store   \n1                           Alderwood, Long Branch           Pizza Place   \n2  Bathurst Manor, Wilson Heights, Downsview North                  Bank   \n3                                  Bayview Village                  Caf\u00e9   \n4                Bedford Park, Lawrence Manor East           Coffee Shop   \n\n  2nd Most Common Venue 3rd Most Common Venue      4th Most Common Venue  \\\n0                Lounge        Breakfast Spot  Latin American Restaurant   \n1          Dance Studio                   Gym             Sandwich Place   \n2           Coffee Shop        Ice Cream Shop                Supermarket   \n3                  Bank    Chinese Restaurant        Japanese Restaurant   \n4            Restaurant        Sandwich Place         Italian Restaurant   \n\n  5th Most Common Venue        6th Most Common Venue 7th Most Common Venue  \\\n0          Skating Rink  Eastern European Restaurant               Dog Run   \n1              Pharmacy                  Coffee Shop    Athletics & Sports   \n2      Sushi Restaurant    Middle Eastern Restaurant     Mobile Phone Shop   \n3           Yoga Studio                      Dog Run      Doner Restaurant   \n4      Greek Restaurant              Thai Restaurant              Pharmacy   \n\n  8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n0      Doner Restaurant            Donut Shop              Drugstore  \n1                   Pub      Doner Restaurant                  Diner  \n2         Deli / Bodega   Fried Chicken Joint                  Diner  \n3            Donut Shop             Drugstore    Dumpling Restaurant  \n4           Pizza Place                   Pub                   Caf\u00e9  "
                    },
                    "execution_count": 44,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "import numpy as np\nnum_top_venues = 10\n\nindicators = ['st', 'nd', 'rd']\n\n# create columns according to number of top venues\ncolumns = ['Neighbourhood']\nfor ind in np.arange(num_top_venues):\n    try:\n        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))\n    except:\n        columns.append('{}th Most Common Venue'.format(ind+1))\n\n# create a new dataframe\nneighborhoods_venues_sorted = pd.DataFrame(columns=columns)\nneighborhoods_venues_sorted['Neighbourhood'] = toronto_grouped['Neighbourhood']\n\nfor ind in np.arange(toronto_grouped.shape[0]):\n    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(toronto_grouped.iloc[ind, :], num_top_venues)\n\nneighborhoods_venues_sorted.head()"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Cluster the neighborhoods in Toronto"
        },
        {
            "cell_type": "code",
            "execution_count": 45,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "array([1, 0, 1, 1, 1, 1, 1, 1, 1, 1], dtype=int32)"
                    },
                    "execution_count": 45,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "# import k-means from clustering stage\nfrom sklearn.cluster import KMeans\n\n# set number of clusters\nkclusters = 5\n\ntoronto_grouped_clustering = toronto_grouped.drop('Neighbourhood', 1)\n\n# run k-means clustering\nkmeans = KMeans(n_clusters=kclusters, random_state=0).fit(toronto_grouped_clustering)\n\n# check cluster labels generated for each row in the dataframe\nkmeans.labels_[0:10]"
        },
        {
            "cell_type": "code",
            "execution_count": 48,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M1B</td>\n      <td>Scarborough</td>\n      <td>Malvern, Rouge</td>\n      <td>43.806686</td>\n      <td>-79.194353</td>\n      <td>1.0</td>\n      <td>Fast Food Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M1C</td>\n      <td>Scarborough</td>\n      <td>Rouge Hill, Port Union, Highland Creek</td>\n      <td>43.784535</td>\n      <td>-79.160497</td>\n      <td>1.0</td>\n      <td>Construction &amp; Landscaping</td>\n      <td>Bar</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M1E</td>\n      <td>Scarborough</td>\n      <td>Guildwood, Morningside, West Hill</td>\n      <td>43.763573</td>\n      <td>-79.188711</td>\n      <td>1.0</td>\n      <td>Breakfast Spot</td>\n      <td>Intersection</td>\n      <td>Bank</td>\n      <td>Rental Car Location</td>\n      <td>Electronics Store</td>\n      <td>Medical Center</td>\n      <td>Mexican Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M1G</td>\n      <td>Scarborough</td>\n      <td>Woburn</td>\n      <td>43.770992</td>\n      <td>-79.216917</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Korean Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M1H</td>\n      <td>Scarborough</td>\n      <td>Cedarbrae</td>\n      <td>43.773136</td>\n      <td>-79.239476</td>\n      <td>1.0</td>\n      <td>Caribbean Restaurant</td>\n      <td>Fried Chicken Joint</td>\n      <td>Bank</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Thai Restaurant</td>\n      <td>Gas Station</td>\n      <td>Bakery</td>\n      <td>Hakka Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "  Postal Code      Borough                            Neighborhood   Latitude  \\\n0         M1B  Scarborough                          Malvern, Rouge  43.806686   \n1         M1C  Scarborough  Rouge Hill, Port Union, Highland Creek  43.784535   \n2         M1E  Scarborough       Guildwood, Morningside, West Hill  43.763573   \n3         M1G  Scarborough                                  Woburn  43.770992   \n4         M1H  Scarborough                               Cedarbrae  43.773136   \n\n   Longitude  Cluster Labels       1st Most Common Venue  \\\n0 -79.194353             1.0        Fast Food Restaurant   \n1 -79.160497             1.0  Construction & Landscaping   \n2 -79.188711             1.0              Breakfast Spot   \n3 -79.216917             1.0                 Coffee Shop   \n4 -79.239476             1.0        Caribbean Restaurant   \n\n  2nd Most Common Venue        3rd Most Common Venue  \\\n0           Yoga Studio  Eastern European Restaurant   \n1                   Bar                  Yoga Studio   \n2          Intersection                         Bank   \n3     Korean Restaurant                  Yoga Studio   \n4   Fried Chicken Joint                         Bank   \n\n         4th Most Common Venue 5th Most Common Venue 6th Most Common Venue  \\\n0          Distribution Center               Dog Run      Doner Restaurant   \n1  Eastern European Restaurant               Dog Run      Doner Restaurant   \n2          Rental Car Location     Electronics Store        Medical Center   \n3  Eastern European Restaurant   Distribution Center               Dog Run   \n4           Athletics & Sports       Thai Restaurant           Gas Station   \n\n  7th Most Common Venue 8th Most Common Venue 9th Most Common Venue  \\\n0            Donut Shop             Drugstore   Dumpling Restaurant   \n1            Donut Shop             Drugstore   Dumpling Restaurant   \n2    Mexican Restaurant           Yoga Studio             Drugstore   \n3      Doner Restaurant            Donut Shop             Drugstore   \n4                Bakery      Hakka Restaurant     Electronics Store   \n\n        10th Most Common Venue  \n0            Electronics Store  \n1            Electronics Store  \n2             Doner Restaurant  \n3          Dumpling Restaurant  \n4  Eastern European Restaurant  "
                    },
                    "execution_count": 48,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "# add clustering labels\nneighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)\n\ntoronto_merged = df_toronto\n\n# merge toronto_grouped with toronto_data to add latitude/longitude for each neighborhood\ntoronto_merged = toronto_merged.join(neighborhoods_venues_sorted.set_index('Neighbourhood'), on='Neighborhood')\n\ntoronto_merged.head() # check the last columns!"
        },
        {
            "cell_type": "code",
            "execution_count": 49,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postal Code</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>16</th>\n      <td>M1X</td>\n      <td>Scarborough</td>\n      <td>Upper Rouge</td>\n      <td>43.836125</td>\n      <td>-79.205636</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>M2M</td>\n      <td>North York</td>\n      <td>Willowdale, Newtonbrook</td>\n      <td>43.789053</td>\n      <td>-79.408493</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M9A</td>\n      <td>Etobicoke</td>\n      <td>Islington Avenue, Humber Valley Village</td>\n      <td>43.667856</td>\n      <td>-79.532242</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9B</td>\n      <td>Etobicoke</td>\n      <td>West Deane Park, Princess Gardens, Martin Grov...</td>\n      <td>43.650943</td>\n      <td>-79.554724</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "   Postal Code      Borough  \\\n16         M1X  Scarborough   \n21         M2M   North York   \n93         M9A    Etobicoke   \n94         M9B    Etobicoke   \n\n                                         Neighborhood   Latitude  Longitude  \\\n16                                        Upper Rouge  43.836125 -79.205636   \n21                            Willowdale, Newtonbrook  43.789053 -79.408493   \n93            Islington Avenue, Humber Valley Village  43.667856 -79.532242   \n94  West Deane Park, Princess Gardens, Martin Grov...  43.650943 -79.554724   \n\n    Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n16             NaN                   NaN                   NaN   \n21             NaN                   NaN                   NaN   \n93             NaN                   NaN                   NaN   \n94             NaN                   NaN                   NaN   \n\n   3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n16                   NaN                   NaN                   NaN   \n21                   NaN                   NaN                   NaN   \n93                   NaN                   NaN                   NaN   \n94                   NaN                   NaN                   NaN   \n\n   6th Most Common Venue 7th Most Common Venue 8th Most Common Venue  \\\n16                   NaN                   NaN                   NaN   \n21                   NaN                   NaN                   NaN   \n93                   NaN                   NaN                   NaN   \n94                   NaN                   NaN                   NaN   \n\n   9th Most Common Venue 10th Most Common Venue  \n16                   NaN                    NaN  \n21                   NaN                    NaN  \n93                   NaN                    NaN  \n94                   NaN                    NaN  "
                    },
                    "execution_count": 49,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged[toronto_merged['Cluster Labels'].isnull()]"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Plot the clusters"
        },
        {
            "cell_type": "code",
            "execution_count": 50,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTAgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzNDgxNywtNzkuMzgzOTM0N10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfMWEyOThkY2JkOWViNDlhNDllODQ3ZjUyYmUzOTRkYmMgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYwN2E5MjE5YmNkZTRlNjA5MGZjYTUzMGY0MDU4NTA5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA2Njg2Mjk5OTk5OTk2LC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lN2VkNTVjOTkwOWY0M2QyODI1YzVmNDViMWE5YTBjOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNDRhMDNkZTY1MDk0ZTAyODY5NThjYWVkNGE3OTRjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDQ0YTAzZGU2NTA5NGUwMjg2OTU4Y2FlZDRhNzk0YzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hbHZlcm4sIFJvdWdlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lN2VkNTVjOTkwOWY0M2QyODI1YzVmNDViMWE5YTBjOS5zZXRDb250ZW50KGh0bWxfZDQ0YTAzZGU2NTA5NGUwMjg2OTU4Y2FlZDRhNzk0YzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjA3YTkyMTliY2RlNGU2MDkwZmNhNTMwZjQwNTg1MDkuYmluZFBvcHVwKHBvcHVwX2U3ZWQ1NWM5OTA5ZjQzZDI4MjVjNWY0NWIxYTlhMGM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdlMTBhNjc2MTFiOTRiODhhMWJjMjNiNjg2OTBiNTViID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg0NTM1MSwtNzkuMTYwNDk3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTc5NmU4NWExMDA0NGQ2NDkyNjYwZjI4NzI0MmYyZTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDI5OTY2MjU2NWNiNDhiZThmMGViMWMyZmQ1NDEyODkgPSAkKCc8ZGl2IGlkPSJodG1sXzQyOTk2NjI1NjVjYjQ4YmU4ZjBlYjFjMmZkNTQxMjg5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3VnZSBIaWxsLCBQb3J0IFVuaW9uLCBIaWdobGFuZCBDcmVlayBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTc5NmU4NWExMDA0NGQ2NDkyNjYwZjI4NzI0MmYyZTEuc2V0Q29udGVudChodG1sXzQyOTk2NjI1NjVjYjQ4YmU4ZjBlYjFjMmZkNTQxMjg5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdlMTBhNjc2MTFiOTRiODhhMWJjMjNiNjg2OTBiNTViLmJpbmRQb3B1cChwb3B1cF9hNzk2ZTg1YTEwMDQ0ZDY0OTI2NjBmMjg3MjQyZjJlMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZGNkNzQwMDc0NWM0NTFiOTcyMjc4MGQ3NTFjODllMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MzU3MjYsLTc5LjE4ODcxMTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjBmYjVlN2RhZWQyNGQ0NzljN2VlNzkyNjFjYjM2MTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGE5NzQwZWQwNjViNGMzMTg5OWQ3MmUwM2JlNmQ2NTUgPSAkKCc8ZGl2IGlkPSJodG1sXzhhOTc0MGVkMDY1YjRjMzE4OTlkNzJlMDNiZTZkNjU1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HdWlsZHdvb2QsIE1vcm5pbmdzaWRlLCBXZXN0IEhpbGwgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YwZmI1ZTdkYWVkMjRkNDc5YzdlZTc5MjYxY2IzNjEwLnNldENvbnRlbnQoaHRtbF84YTk3NDBlZDA2NWI0YzMxODk5ZDcyZTAzYmU2ZDY1NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZGNkNzQwMDc0NWM0NTFiOTcyMjc4MGQ3NTFjODllMy5iaW5kUG9wdXAocG9wdXBfZjBmYjVlN2RhZWQyNGQ0NzljN2VlNzkyNjFjYjM2MTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjIyMWU4NmQ3NThiNDAxMzg0N2JjZDQzMmUwM2ZmMTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YmUzYzQwN2M4ZjI0YTQxYTJmNTQxNjUzNjVjY2I3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YTU0ZWJjYmRlYTA0ZGYzOGU1YzhhNjM4NGZlZDBjZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNmE1NGViY2JkZWEwNGRmMzhlNWM4YTYzODRmZWQwY2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmJlM2M0MDdjOGYyNGE0MWEyZjU0MTY1MzY1Y2NiNzcuc2V0Q29udGVudChodG1sXzZhNTRlYmNiZGVhMDRkZjM4ZTVjOGE2Mzg0ZmVkMGNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YyMjFlODZkNzU4YjQwMTM4NDdiY2Q0MzJlMDNmZjE5LmJpbmRQb3B1cChwb3B1cF82YmUzYzQwN2M4ZjI0YTQxYTJmNTQxNjUzNjVjY2I3Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NjQ5NWZiYzUxNmQ0ZWYyODhlNTM2MmJmNzk2MWEyYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MzEzNiwtNzkuMjM5NDc2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDc4MjJiMGVlMTJlNGNiY2EwYTIwNjkwNGJkN2E3NDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2E0YzAyZmRjZjMwNDY2NWJmOTgxYzY1OTMyNGQ0MWMgPSAkKCc8ZGl2IGlkPSJodG1sXzdhNGMwMmZkY2YzMDQ2NjViZjk4MWM2NTkzMjRkNDFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZWRhcmJyYWUgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA3ODIyYjBlZTEyZTRjYmNhMGEyMDY5MDRiZDdhNzQ2LnNldENvbnRlbnQoaHRtbF83YTRjMDJmZGNmMzA0NjY1YmY5ODFjNjU5MzI0ZDQxYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NjQ5NWZiYzUxNmQ0ZWYyODhlNTM2MmJmNzk2MWEyYS5iaW5kUG9wdXAocG9wdXBfMDc4MjJiMGVlMTJlNGNiY2EwYTIwNjkwNGJkN2E3NDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWRmNzkxOGVlZmZkNGFlMWIzMjkxZTkzMzI1MTI4ZmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kMWE0N2RkOTQ1OTY0ZDQ1YTM0YWQ3OTA0OGExNmM2ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZTQzNTA3YTY3NWI0OTg2OGI4YzJjODM2YzYxMjhmMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWU0MzUwN2E2NzViNDk4NjhiOGMyYzgzNmM2MTI4ZjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoIFZpbGxhZ2UgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QxYTQ3ZGQ5NDU5NjRkNDVhMzRhZDc5MDQ4YTE2YzZlLnNldENvbnRlbnQoaHRtbF9hZTQzNTA3YTY3NWI0OTg2OGI4YzJjODM2YzYxMjhmMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZGY3OTE4ZWVmZmQ0YWUxYjMyOTFlOTMzMjUxMjhmYS5iaW5kUG9wdXAocG9wdXBfZDFhNDdkZDk0NTk2NGQ0NWEzNGFkNzkwNDhhMTZjNmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjg5M2IwNzg0ZGY1NGI2ZjgzYTIwMTMwNDE2NjA1MDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mjc5MjkyLC03OS4yNjIwMjk0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85M2UxNDU2ODFkY2Q0YzdjODRmN2ZmNzU5ZDcyOTE2YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MGVhNTRkYTUxYzY0YWE2YTJlYTcyYTYyMTM5MDExNCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTBlYTU0ZGE1MWM2NGFhNmEyZWE3MmE2MjEzOTAxMTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktlbm5lZHkgUGFyaywgSW9udmlldywgRWFzdCBCaXJjaG1vdW50IFBhcmsgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzkzZTE0NTY4MWRjZDRjN2M4NGY3ZmY3NTlkNzI5MTZhLnNldENvbnRlbnQoaHRtbF85MGVhNTRkYTUxYzY0YWE2YTJlYTcyYTYyMTM5MDExNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iODkzYjA3ODRkZjU0YjZmODNhMjAxMzA0MTY2MDUwOC5iaW5kUG9wdXAocG9wdXBfOTNlMTQ1NjgxZGNkNGM3Yzg0ZjdmZjc1OWQ3MjkxNmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjNkYzAxYjI0NzY2NDZmNDlhOWVmNDJlYjBjZDg4NmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWY2ODMwNTYyZTVmNDEzZGIzOTFmNzFlMDliMzY3YWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWZiYjc3MjI2MGNkNGM3NGE0NGM3NzJlMmUxMmYwMDAgPSAkKCc8ZGl2IGlkPSJodG1sXzVmYmI3NzIyNjBjZDRjNzRhNDRjNzcyZTJlMTJmMDAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Hb2xkZW4gTWlsZSwgQ2xhaXJsZWEsIE9ha3JpZGdlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZjY4MzA1NjJlNWY0MTNkYjM5MWY3MWUwOWIzNjdhZC5zZXRDb250ZW50KGh0bWxfNWZiYjc3MjI2MGNkNGM3NGE0NGM3NzJlMmUxMmYwMDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjNkYzAxYjI0NzY2NDZmNDlhOWVmNDJlYjBjZDg4NmEuYmluZFBvcHVwKHBvcHVwXzVmNjgzMDU2MmU1ZjQxM2RiMzkxZjcxZTA5YjM2N2FkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkyNDUyMDNmMmRhYzQyYWU4MWI4NzdjMmIyODIxYWYzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE2MzE2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYTk3NDFlZjI0NjQ0NjNiOGUwZDRkM2FjNWYzNTIxMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMTMyZmRiNDU1NDc0NTk5ODdhNDA0ODM4ODc3ZTM1NiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTEzMmZkYjQ1NTQ3NDU5OTg3YTQwNDgzODg3N2UzNTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsaWZmc2lkZSwgQ2xpZmZjcmVzdCwgU2NhcmJvcm91Z2ggVmlsbGFnZSBXZXN0IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lYTk3NDFlZjI0NjQ0NjNiOGUwZDRkM2FjNWYzNTIxMC5zZXRDb250ZW50KGh0bWxfZTEzMmZkYjQ1NTQ3NDU5OTg3YTQwNDgzODg3N2UzNTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTI0NTIwM2YyZGFjNDJhZTgxYjg3N2MyYjI4MjFhZjMuYmluZFBvcHVwKHBvcHVwX2VhOTc0MWVmMjQ2NDQ2M2I4ZTBkNGQzYWM1ZjM1MjEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U4ZWUzYTU4N2VlZDQ5NGZhYTViMzY3ZTAwMmVhZjJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkyNjU3MDAwMDAwMDA0LC03OS4yNjQ4NDgxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFlZjVkMzJiZTQ5YjQ1MTRiMmI3NDRmNTJmNDg3ZjJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUwNjY5OWIwMGVmYzQ2MmFhODlkZGVjM2NkMTBlYjU2ID0gJCgnPGRpdiBpZD0iaHRtbF81MDY2OTliMDBlZmM0NjJhYTg5ZGRlYzNjZDEwZWI1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlyY2ggQ2xpZmYsIENsaWZmc2lkZSBXZXN0IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZWY1ZDMyYmU0OWI0NTE0YjJiNzQ0ZjUyZjQ4N2YyZS5zZXRDb250ZW50KGh0bWxfNTA2Njk5YjAwZWZjNDYyYWE4OWRkZWMzY2QxMGViNTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZThlZTNhNTg3ZWVkNDk0ZmFhNWIzNjdlMDAyZWFmMmQuYmluZFBvcHVwKHBvcHVwXzFlZjVkMzJiZTQ5YjQ1MTRiMmI3NDRmNTJmNDg3ZjJlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA2MzBjODhiMTViYjQyMDBiNzJjZDY1ZjkzNTIyYmJhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU3NDA5NiwtNzkuMjczMzA0MDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzFhYTEwZGUwNTViNDA4Nzg2M2M0ODUxNjk1NTk5YjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjVjZWVmYWIxYTcwNGVhMGJjNzE0NjcyNzQ5MjBlNWMgPSAkKCc8ZGl2IGlkPSJodG1sX2Y1Y2VlZmFiMWE3MDRlYTBiYzcxNDY3Mjc0OTIwZTVjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3JzZXQgUGFyaywgV2V4Zm9yZCBIZWlnaHRzLCBTY2FyYm9yb3VnaCBUb3duIENlbnRyZSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzFhYTEwZGUwNTViNDA4Nzg2M2M0ODUxNjk1NTk5Yjguc2V0Q29udGVudChodG1sX2Y1Y2VlZmFiMWE3MDRlYTBiYzcxNDY3Mjc0OTIwZTVjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA2MzBjODhiMTViYjQyMDBiNzJjZDY1ZjkzNTIyYmJhLmJpbmRQb3B1cChwb3B1cF83MWFhMTBkZTA1NWI0MDg3ODYzYzQ4NTE2OTU1OTliOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMDAxMWUxYTk5ODc0NmM5OWM3MjE4Y2MxNTE4MjlkMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1MDA3MTUwMDAwMDAwNCwtNzkuMjk1ODQ5MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83NTNjNmQ1NDY3YWI0MjNjYTA5ZDcxYmY2MWUwNGMwMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wNmU2YWQwMzBhMmM0ZWUzODI2MTgyYTc4ODBmYTZhNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDZlNmFkMDMwYTJjNGVlMzgyNjE4MmE3ODgwZmE2YTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldleGZvcmQsIE1hcnl2YWxlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NTNjNmQ1NDY3YWI0MjNjYTA5ZDcxYmY2MWUwNGMwMC5zZXRDb250ZW50KGh0bWxfMDZlNmFkMDMwYTJjNGVlMzgyNjE4MmE3ODgwZmE2YTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjAwMTFlMWE5OTg3NDZjOTljNzIxOGNjMTUxODI5ZDAuYmluZFBvcHVwKHBvcHVwXzc1M2M2ZDU0NjdhYjQyM2NhMDlkNzFiZjYxZTA0YzAwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk1NjJhOWExMzMyZTRhYjVhNzZhYzdiYzQ5MjQ5OGU5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk0MjAwMywtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmQ1Mjk3Yzk3ZDUxNDlmOGEzODc4MDkzY2ZlMmM5MzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTIzNmFiMjgzNzM4NGFmZWJmMjE5Yjg5ZTZkMDQ5MTIgPSAkKCc8ZGl2IGlkPSJodG1sX2EyMzZhYjI4MzczODRhZmViZjIxOWI4OWU2ZDA0OTEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JkNTI5N2M5N2Q1MTQ5ZjhhMzg3ODA5M2NmZTJjOTMwLnNldENvbnRlbnQoaHRtbF9hMjM2YWIyODM3Mzg0YWZlYmYyMTliODllNmQwNDkxMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NTYyYTlhMTMzMmU0YWI1YTc2YWM3YmM0OTI0OThlOS5iaW5kUG9wdXAocG9wdXBfYmQ1Mjk3Yzk3ZDUxNDlmOGEzODc4MDkzY2ZlMmM5MzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjA5YzA1Mjg4NTI2NGM0N2E5N2VjMTViM2FkMzNmYjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODE2Mzc1LC03OS4zMDQzMDIxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U5NTU0NmEwYmQ4NzQ4NzdhYzY4OThjNDc4MDNjOGJmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAzODM2OWU1MWZkNDQxZWNhNWI1OWVlZjA2MTUzNGI4ID0gJCgnPGRpdiBpZD0iaHRtbF8wMzgzNjllNTFmZDQ0MWVjYTViNTllZWYwNjE1MzRiOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xhcmtzIENvcm5lcnMsIFRhbSBPJiMzOTtTaGFudGVyLCBTdWxsaXZhbiBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTk1NTQ2YTBiZDg3NDg3N2FjNjg5OGM0NzgwM2M4YmYuc2V0Q29udGVudChodG1sXzAzODM2OWU1MWZkNDQxZWNhNWI1OWVlZjA2MTUzNGI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2IwOWMwNTI4ODUyNjRjNDdhOTdlYzE1YjNhZDMzZmI2LmJpbmRQb3B1cChwb3B1cF9lOTU1NDZhMGJkODc0ODc3YWM2ODk4YzQ3ODAzYzhiZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZjU0ZDU1YmJiMDA0ODg3YTg1ZGVjODlmYTM3MzcwNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgxNTI1MjIsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWRlNmExNTM1NWU3NDI3Zjk4ZWEyZjZlNzBlYTM0MjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzQ5NTJkMGUwYzVlNDdmMDk4MWFlOWMwNDZkZDk5YzcgPSAkKCc8ZGl2IGlkPSJodG1sX2M0OTUyZDBlMGM1ZTQ3ZjA5ODFhZTljMDQ2ZGQ5OWM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaWxsaWtlbiwgQWdpbmNvdXJ0IE5vcnRoLCBTdGVlbGVzIEVhc3QsIEwmIzM5O0Ftb3JlYXV4IEVhc3QgQ2x1c3RlciA0LjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFkZTZhMTUzNTVlNzQyN2Y5OGVhMmY2ZTcwZWEzNDI0LnNldENvbnRlbnQoaHRtbF9jNDk1MmQwZTBjNWU0N2YwOTgxYWU5YzA0NmRkOTljNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZjU0ZDU1YmJiMDA0ODg3YTg1ZGVjODlmYTM3MzcwNC5iaW5kUG9wdXAocG9wdXBfMWRlNmExNTM1NWU3NDI3Zjk4ZWEyZjZlNzBlYTM0MjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWVmM2Q3ZDgyNWVmNDE2MjhkY2EwOWE0NDdhMDc4ZjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTk1MjUyMDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjcxN2Q3YzI0YmY0NDRkMzg0ZGZlOWNlYzdmOTk0ZDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2NjYWFhNGU1NmQ5NDBiZWE3YmE1ZjA1MzMxOWQ3M2YgPSAkKCc8ZGl2IGlkPSJodG1sXzNjY2FhYTRlNTZkOTQwYmVhN2JhNWYwNTMzMTlkNzNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGVlbGVzIFdlc3QsIEwmIzM5O0Ftb3JlYXV4IFdlc3QgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI3MTdkN2MyNGJmNDQ0ZDM4NGRmZTljZWM3Zjk5NGQyLnNldENvbnRlbnQoaHRtbF8zY2NhYWE0ZTU2ZDk0MGJlYTdiYTVmMDUzMzE5ZDczZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZWYzZDdkODI1ZWY0MTYyOGRjYTA5YTQ0N2EwNzhmNi5iaW5kUG9wdXAocG9wdXBfMjcxN2Q3YzI0YmY0NDRkMzg0ZGZlOWNlYzdmOTk0ZDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzEwZTNlZGRhYWQ0NGI1ZjhhYWQwNDMwNTZmZDdkZjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDM3NjIyLC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiNjM0YWZiZjVkNTQyNDU4MmMwMDIyZjMzYWU4MGZmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZlMWVjZTg1MWQwYTQ5OTY5YzE1ODkwNmRiOGI0MjkyID0gJCgnPGRpdiBpZD0iaHRtbF9mZTFlY2U4NTFkMGE0OTk2OWMxNTg5MDZkYjhiNDI5MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlsbGNyZXN0IFZpbGxhZ2UgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiNjM0YWZiZjVkNTQyNDU4MmMwMDIyZjMzYWU4MGZmLnNldENvbnRlbnQoaHRtbF9mZTFlY2U4NTFkMGE0OTk2OWMxNTg5MDZkYjhiNDI5Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jMTBlM2VkZGFhZDQ0YjVmOGFhZDA0MzA1NmZkN2RmMS5iaW5kUG9wdXAocG9wdXBfM2I2MzRhZmJmNWQ1NDI0NTgyYzAwMjJmMzNhZTgwZmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2UwMTcwMjBkOWUxNDhlNmJkNjVlYjAyMmUxNjA5ZDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Nzg1MTc1LC03OS4zNDY1NTU3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZiMmRkYmQ3OTc0MjQwOGE5Y2Y2YjU5ZWU2MWVmMzI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAzMmJhNjAxYWFhYjQ2ZTdiNTkxZTJhNjE1YjJlNTExID0gJCgnPGRpdiBpZD0iaHRtbF8wMzJiYTYwMWFhYWI0NmU3YjU5MWUyYTYxNWIyZTUxMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmFpcnZpZXcsIEhlbnJ5IEZhcm0sIE9yaW9sZSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmIyZGRiZDc5NzQyNDA4YTljZjZiNTllZTYxZWYzMjQuc2V0Q29udGVudChodG1sXzAzMmJhNjAxYWFhYjQ2ZTdiNTkxZTJhNjE1YjJlNTExKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNlMDE3MDIwZDllMTQ4ZTZiZDY1ZWIwMjJlMTYwOWQyLmJpbmRQb3B1cChwb3B1cF9mYjJkZGJkNzk3NDI0MDhhOWNmNmI1OWVlNjFlZjMyNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMDM0NDgzZDE1NDU0YTc0OWEzNWIwMmQ3Njg0NGU4ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YjdiZWIzNTFiY2Y0Y2U0YTU0MDEyOGFmNmY5ZDRjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMTMzYjNkMTY3ZTg0MTExOGQ2MGI3ZGRkOTBjM2FkMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjEzM2IzZDE2N2U4NDExMThkNjBiN2RkZDkwYzNhZDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmI3YmViMzUxYmNmNGNlNGE1NDAxMjhhZjZmOWQ0YzUuc2V0Q29udGVudChodG1sX2IxMzNiM2QxNjdlODQxMTE4ZDYwYjdkZGQ5MGMzYWQxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YwMzQ0ODNkMTU0NTRhNzQ5YTM1YjAyZDc2ODQ0ZThmLmJpbmRQb3B1cChwb3B1cF82YjdiZWIzNTFiY2Y0Y2U0YTU0MDEyOGFmNmY5ZDRjNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMzU0NmNkYmRjNTQ0YjM5OGMyMjhjODExNjhjOGM4ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQ5MDIsLTc5LjM3NDcxNDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhmZGUwOWM0NDU4NDRjYThiNTk2ZmQyODgyNzczNjRlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ3NmU4NTc5MTFjYzQ1Nzk5ZTgyODRkNmE0NjcxN2U1ID0gJCgnPGRpdiBpZD0iaHRtbF80NzZlODU3OTExY2M0NTc5OWU4Mjg0ZDZhNDY3MTdlNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WW9yayBNaWxscywgU2lsdmVyIEhpbGxzIENsdXN0ZXIgMy4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZmRlMDljNDQ1ODQ0Y2E4YjU5NmZkMjg4Mjc3MzY0ZS5zZXRDb250ZW50KGh0bWxfNDc2ZTg1NzkxMWNjNDU3OTllODI4NGQ2YTQ2NzE3ZTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzM1NDZjZGJkYzU0NGIzOThjMjI4YzgxMTY4YzhjOGYuYmluZFBvcHVwKHBvcHVwXzhmZGUwOWM0NDU4NDRjYThiNTk2ZmQyODgyNzczNjRlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI3MTMzOGYwNWFjNzQzMjJiODBlODU3NjhiYWJkMWU4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwtNzkuNDA4NDkyNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTNhZjZkYjU3M2ZlNGQ3ZjhmODkzODI4MDFiNjg1ZDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2ZkMWVmOGQ1MWE4NGI5YWIzMzM4YWYyNDI5YzMzNTEgPSAkKCc8ZGl2IGlkPSJodG1sXzdmZDFlZjhkNTFhODRiOWFiMzMzOGFmMjQyOWMzMzUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlLCBXaWxsb3dkYWxlIEVhc3QgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzYWY2ZGI1NzNmZTRkN2Y4Zjg5MzgyODAxYjY4NWQ0LnNldENvbnRlbnQoaHRtbF83ZmQxZWY4ZDUxYTg0YjlhYjMzMzhhZjI0MjljMzM1MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNzEzMzhmMDVhYzc0MzIyYjgwZTg1NzY4YmFiZDFlOC5iaW5kUG9wdXAocG9wdXBfZTNhZjZkYjU3M2ZlNGQ3ZjhmODkzODI4MDFiNjg1ZDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWNkZmZlOTEwOTBiNDM1Njk5ZjUwNmE2MmQyODE1MGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTI3NTgyOTk5OTk5OTYsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmFkYzViZjNmOWFiNGE1NTgxYzkxOGQ0ZTkyMTZmMTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzg3NjJmYjZmMzdlNDkzYTk2NWFhMTM2NTc1NDg1M2MgPSAkKCc8ZGl2IGlkPSJodG1sXzc4NzYyZmI2ZjM3ZTQ5M2E5NjVhYTEzNjU3NTQ4NTNjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzIFdlc3QgQ2x1c3RlciA0LjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhZGM1YmYzZjlhYjRhNTU4MWM5MThkNGU5MjE2ZjE2LnNldENvbnRlbnQoaHRtbF83ODc2MmZiNmYzN2U0OTNhOTY1YWExMzY1NzU0ODUzYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xY2RmZmU5MTA5MGI0MzU2OTlmNTA2YTYyZDI4MTUwYy5iaW5kUG9wdXAocG9wdXBfZmFkYzViZjNmOWFiNGE1NTgxYzkxOGQ0ZTkyMTZmMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDg0ZDgwZDA2YjU0NDQzMGE3ODgzNzdjYTE3NDdiOGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk5NTA3MDdkZDEyMTRkOWFhYzIyZDhkNDliYzAzMGE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA2YmU0OTliODA3ZTRkOWRhOTQzMmY2MDkxNzc3YWRkID0gJCgnPGRpdiBpZD0iaHRtbF8wNmJlNDk5YjgwN2U0ZDlkYTk0MzJmNjA5MTc3N2FkZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSwgV2lsbG93ZGFsZSBXZXN0IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OTUwNzA3ZGQxMjE0ZDlhYWMyMmQ4ZDQ5YmMwMzBhNS5zZXRDb250ZW50KGh0bWxfMDZiZTQ5OWI4MDdlNGQ5ZGE5NDMyZjYwOTE3NzdhZGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDg0ZDgwZDA2YjU0NDQzMGE3ODgzNzdjYTE3NDdiOGQuYmluZFBvcHVwKHBvcHVwXzk5NTA3MDdkZDEyMTRkOWFhYzIyZDhkNDliYzAzMGE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NhM2QwMzcwMmRiMzQwY2FhODYyNDgxYTRhYTFiYWYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUzMjU4NiwtNzkuMzI5NjU2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNjU3YTMzMzlmODE0NmI1ODY3ZGMyMTY5ODQzZjFjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzM1OGQ0YjA3ZTY0MjhiYWE0ZTY5N2I1ODhjNWI3NSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTMzNThkNGIwN2U2NDI4YmFhNGU2OTdiNTg4YzViNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmt3b29kcyBDbHVzdGVyIDQuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzY1N2EzMzM5ZjgxNDZiNTg2N2RjMjE2OTg0M2YxYzEuc2V0Q29udGVudChodG1sX2UzMzU4ZDRiMDdlNjQyOGJhYTRlNjk3YjU4OGM1Yjc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NhM2QwMzcwMmRiMzQwY2FhODYyNDgxYTRhYTFiYWYxLmJpbmRQb3B1cChwb3B1cF9jNjU3YTMzMzlmODE0NmI1ODY3ZGMyMTY5ODQzZjFjMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82OTRkMDMyY2YxODc0MmI3YThmNjBhMzkyMjZjNTFmYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NTkwNTc5OTk5OTk5NiwtNzkuMzUyMTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y1ZGJiM2M4NWM1MTRkZmVhMmI4MDc0OWQ4ZDdhZWVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEzOTU3OTY2NDJmNjRiYWJhNzA1OGI5YWI4NDI3NmMxID0gJCgnPGRpdiBpZD0iaHRtbF8xMzk1Nzk2NjQyZjY0YmFiYTcwNThiOWFiODQyNzZjMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNWRiYjNjODVjNTE0ZGZlYTJiODA3NDlkOGQ3YWVlYS5zZXRDb250ZW50KGh0bWxfMTM5NTc5NjY0MmY2NGJhYmE3MDU4YjlhYjg0Mjc2YzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjk0ZDAzMmNmMTg3NDJiN2E4ZjYwYTM5MjI2YzUxZmMuYmluZFBvcHVwKHBvcHVwX2Y1ZGJiM2M4NWM1MTRkZmVhMmI4MDc0OWQ4ZDdhZWVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM3YTY4Mjc5YzNhOTQ2ZGY4ZmQzZTU4NDBkYTEzNzk3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kNDA0NWRjMmRmNWQ0ZTJkODNiZmFhZmQ2Y2Y4YzY3MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZWY2NDlhYjE0ZTY0MWUyYjMzYWRkNmY3NjY5OGZlNyA9ICQoJzxkaXYgaWQ9Imh0bWxfOWVmNjQ5YWIxNGU2NDFlMmIzM2FkZDZmNzY2OThmZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDQwNDVkYzJkZjVkNGUyZDgzYmZhYWZkNmNmOGM2NzMuc2V0Q29udGVudChodG1sXzllZjY0OWFiMTRlNjQxZTJiMzNhZGQ2Zjc2Njk4ZmU3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM3YTY4Mjc5YzNhOTQ2ZGY4ZmQzZTU4NDBkYTEzNzk3LmJpbmRQb3B1cChwb3B1cF9kNDA0NWRjMmRmNWQ0ZTJkODNiZmFhZmQ2Y2Y4YzY3Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNzMxNzdlMGU0NjQ0OGVkYWI3ZWE3NDhlN2QyMGY1MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NDMyODMsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzUxYjNlNjc3YTc3NDU3Zjg3N2ZkNzk4ZGQwMDAxOTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGZjMGU2YjUyN2FkNDA2YWI2MWRmMzQ2YjI3OWJlYmMgPSAkKCc8ZGl2IGlkPSJodG1sXzBmYzBlNmI1MjdhZDQwNmFiNjFkZjM0NmIyNzliZWJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXRodXJzdCBNYW5vciwgV2lsc29uIEhlaWdodHMsIERvd25zdmlldyBOb3J0aCBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzUxYjNlNjc3YTc3NDU3Zjg3N2ZkNzk4ZGQwMDAxOTEuc2V0Q29udGVudChodG1sXzBmYzBlNmI1MjdhZDQwNmFiNjFkZjM0NmIyNzliZWJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI3MzE3N2UwZTQ2NDQ4ZWRhYjdlYTc0OGU3ZDIwZjUwLmJpbmRQb3B1cChwb3B1cF83NTFiM2U2NzdhNzc0NTdmODc3ZmQ3OThkZDAwMDE5MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMzg2MTQzOTgxNzM0ZGY2OTJjZDQ2ZmY2MzU5OWY2YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2Nzk4MDMsLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzViNzFhMjY4OGZiYjQ4YjE4NmZiOWU2ZWIwMzg3NzRkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FmNTBjODc2Mzk3NzQ4YjZhMWU2MzJkMTdhNWU4NmJhID0gJCgnPGRpdiBpZD0iaHRtbF9hZjUwYzg3NjM5Nzc0OGI2YTFlNjMyZDE3YTVlODZiYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGh3b29kIFBhcmssIFlvcmsgVW5pdmVyc2l0eSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWI3MWEyNjg4ZmJiNDhiMTg2ZmI5ZTZlYjAzODc3NGQuc2V0Q29udGVudChodG1sX2FmNTBjODc2Mzk3NzQ4YjZhMWU2MzJkMTdhNWU4NmJhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UzODYxNDM5ODE3MzRkZjY5MmNkNDZmZjYzNTk5ZjZhLmJpbmRQb3B1cChwb3B1cF81YjcxYTI2ODhmYmI0OGIxODZmYjllNmViMDM4Nzc0ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85YTU4MGU4ZmVlZjU0NmRkYWQ4NGIwMzZlN2FiZWM4NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzQ3MzIwMDAwMDAwNCwtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzUzZGYwZDJhYzg3NDA5YzlmZDg1ODgzOGEyNWIzMDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODVmY2Q4ZDFhM2IxNDE5YTkyZWU2YTVjYzM4YTMxZjAgPSAkKCc8ZGl2IGlkPSJodG1sXzg1ZmNkOGQxYTNiMTQxOWE5MmVlNmE1Y2MzOGEzMWYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc1M2RmMGQyYWM4NzQwOWM5ZmQ4NTg4MzhhMjViMzAyLnNldENvbnRlbnQoaHRtbF84NWZjZDhkMWEzYjE0MTlhOTJlZTZhNWNjMzhhMzFmMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YTU4MGU4ZmVlZjU0NmRkYWQ4NGIwMzZlN2FiZWM4Ny5iaW5kUG9wdXAocG9wdXBfNzUzZGYwZDJhYzg3NDA5YzlmZDg1ODgzOGEyNWIzMDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDlmNzZhNTNlMGU0NGM3Njk4OGRlNjVhZWVkNTJkZDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzkwMTQ2LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEyM2FiNjBjNTdmMTRmODE4OTNkYTllMTFiODVkZWY1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzczOWI5OWEzNzU2MzQ3Y2U5NWRmNDlkMTBkODRlNmZkID0gJCgnPGRpdiBpZD0iaHRtbF83MzliOTlhMzc1NjM0N2NlOTVkZjQ5ZDEwZDg0ZTZmZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMjNhYjYwYzU3ZjE0ZjgxODkzZGE5ZTExYjg1ZGVmNS5zZXRDb250ZW50KGh0bWxfNzM5Yjk5YTM3NTYzNDdjZTk1ZGY0OWQxMGQ4NGU2ZmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDlmNzZhNTNlMGU0NGM3Njk4OGRlNjVhZWVkNTJkZDcuYmluZFBvcHVwKHBvcHVwXzEyM2FiNjBjNTdmMTRmODE4OTNkYTllMTFiODVkZWY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y2NmQxZmM5MTczYjQxNDM5MzA4MWZmZjc2ZTE2YzIxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4NDk2NCwtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2QxMmVlZWYxNDZlNGMyMGE0Y2FmODAwYmU0OWU4ZTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmYwYTdkOGFjZjY3NDc2MDlmYWY5MTllOGM1ZDM1YWIgPSAkKCc8ZGl2IGlkPSJodG1sXzZmMGE3ZDhhY2Y2NzQ3NjA5ZmFmOTE5ZThjNWQzNWFiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdkMTJlZWVmMTQ2ZTRjMjBhNGNhZjgwMGJlNDllOGU2LnNldENvbnRlbnQoaHRtbF82ZjBhN2Q4YWNmNjc0NzYwOWZhZjkxOWU4YzVkMzVhYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNjZkMWZjOTE3M2I0MTQzOTMwODFmZmY3NmUxNmMyMS5iaW5kUG9wdXAocG9wdXBfN2QxMmVlZWYxNDZlNGMyMGE0Y2FmODAwYmU0OWU4ZTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjI4MGUwOGVhMjIzNDI3YTkzZDdjODNiOWY2ODg0ZTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NjE2MzEzLC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jM2M4ZjdkNmZkNGE0ZTJkOTZhZmJmM2ZjZDEyMjgwOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZDMxNmU1NmJkODI0OWZkYjAzNzE3ZjNkZGE5MDc4YiA9ICQoJzxkaXYgaWQ9Imh0bWxfZWQzMTZlNTZiZDgyNDlmZGIwMzcxN2YzZGRhOTA3OGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzNjOGY3ZDZmZDRhNGUyZDk2YWZiZjNmY2QxMjI4MDkuc2V0Q29udGVudChodG1sX2VkMzE2ZTU2YmQ4MjQ5ZmRiMDM3MTdmM2RkYTkwNzhiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIyODBlMDhlYTIyMzQyN2E5M2Q3YzgzYjlmNjg4NGUzLmJpbmRQb3B1cChwb3B1cF9jM2M4ZjdkNmZkNGE0ZTJkOTZhZmJmM2ZjZDEyMjgwOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZmQ1NWEwYzc0NTQ0MDk1OGRkM2RiZjJiNjg5ZDEwMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg4MjI5OTk5OTk5NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTViNjMwNWQxN2MzNGFhODkwNDg5YmUwYzQxNjA2ODMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmNhMTc4ZmNhZDhjNDk1MGFjZjg5YzcwMjk4ZGIwOGQgPSAkKCc8ZGl2IGlkPSJodG1sX2JjYTE3OGZjYWQ4YzQ5NTBhY2Y4OWM3MDI5OGRiMDhkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNWI2MzA1ZDE3YzM0YWE4OTA0ODliZTBjNDE2MDY4My5zZXRDb250ZW50KGh0bWxfYmNhMTc4ZmNhZDhjNDk1MGFjZjg5YzcwMjk4ZGIwOGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2ZkNTVhMGM3NDU0NDA5NThkZDNkYmYyYjY4OWQxMDAuYmluZFBvcHVwKHBvcHVwXzE1YjYzMDVkMTdjMzRhYTg5MDQ4OWJlMGM0MTYwNjgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZjYmE1NmFkY2I1ODRhMTA4Yjk3ZmRkNjg3ZGIyY2RjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2Mzk3MiwtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg4NmJjODE2M2Q0OTQ5YWI4YmZjYjBjMjdiNTFkNjI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgyYTk3NWQxMTkwMjRkMmY5YjZiNWY0Zjg0N2M0ODBjID0gJCgnPGRpdiBpZD0iaHRtbF84MmE5NzVkMTE5MDI0ZDJmOWI2YjVmNGY4NDdjNDgwYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3ZpZXcgSGlsbCwgV29vZGJpbmUgR2FyZGVucyBDbHVzdGVyIDAuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODg2YmM4MTYzZDQ5NDlhYjhiZmNiMGMyN2I1MWQ2MjUuc2V0Q29udGVudChodG1sXzgyYTk3NWQxMTkwMjRkMmY5YjZiNWY0Zjg0N2M0ODBjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZjYmE1NmFkY2I1ODRhMTA4Yjk3ZmRkNjg3ZGIyY2RjLmJpbmRQb3B1cChwb3B1cF84ODZiYzgxNjNkNDk0OWFiOGJmY2IwYzI3YjUxZDYyNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ODVkN2Q2NTIwNjI0NmM4OTU2YjFjZDFkOWY3N2I3ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NTM0MzkwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZTM0Y2JjY2QwZjU0MDIzOWE1YWIyNWEyMGNhOTdhZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OGFmNzYyMTkyMjI0ZTBmODBkY2RjMTNiYWEwMDk2YiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzhhZjc2MjE5MjIyNGUwZjgwZGNkYzEzYmFhMDA5NmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvb2RiaW5lIEhlaWdodHMgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhlMzRjYmNjZDBmNTQwMjM5YTVhYjI1YTIwY2E5N2FkLnNldENvbnRlbnQoaHRtbF83OGFmNzYyMTkyMjI0ZTBmODBkY2RjMTNiYWEwMDk2Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ODVkN2Q2NTIwNjI0NmM4OTU2YjFjZDFkOWY3N2I3ZS5iaW5kUG9wdXAocG9wdXBfOGUzNGNiY2NkMGY1NDAyMzlhNWFiMjVhMjBjYTk3YWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDVlZGMwM2RiNWUxNGE5ZGI5YmY4Nzc1OGQzN2JlMjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NmNkMTc0ZmU4ODY0YzU0YTNkZWZlNjdkZjE0MGExZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZjZhZGE0Nzk2ZjI0ZTNlYjgwZWJjNTk0NzYyM2RkNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNmY2YWRhNDc5NmYyNGUzZWI4MGViYzU5NDc2MjNkZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NmNkMTc0ZmU4ODY0YzU0YTNkZWZlNjdkZjE0MGExZS5zZXRDb250ZW50KGh0bWxfNmY2YWRhNDc5NmYyNGUzZWI4MGViYzU5NDc2MjNkZDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDVlZGMwM2RiNWUxNGE5ZGI5YmY4Nzc1OGQzN2JlMjMuYmluZFBvcHVwKHBvcHVwXzQ2Y2QxNzRmZTg4NjRjNTRhM2RlZmU2N2RmMTQwYTFlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzZGQ5NjMyYjZmNzRiNzhhMmY3NzlmNDAxODk5YjA4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA5MDYwNCwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MzIzY2M5MWIwMzk0ZjhiYTcwOWI3YTg0NGJmNzQ0NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYWNlY2FmMWY3OTU0NjY2YWFiNzMxOGMzNDRkZDM0ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfMGFjZWNhZjFmNzk1NDY2NmFhYjczMThjMzQ0ZGQzNGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxlYXNpZGUgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgzMjNjYzkxYjAzOTRmOGJhNzA5YjdhODQ0YmY3NDQ1LnNldENvbnRlbnQoaHRtbF8wYWNlY2FmMWY3OTU0NjY2YWFiNzMxOGMzNDRkZDM0Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81M2RkOTYzMmI2Zjc0Yjc4YTJmNzc5ZjQwMTg5OWIwOC5iaW5kUG9wdXAocG9wdXBfODMyM2NjOTFiMDM5NGY4YmE3MDliN2E4NDRiZjc0NDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGY0YjU0YjZmNTEzNDU0YzljMTRhYTdiMjZmY2VlODcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNTc0ZjNiM2RhZWQ0ZmRkYmRjMWM5YzNiOTRlYmIyZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYTYwYmZkYmY5M2Q0NzYxOWM2ZTJkNjNlZjNlMjAxZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMGE2MGJmZGJmOTNkNDc2MTljNmUyZDYzZWYzZTIwMWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRob3JuY2xpZmZlIFBhcmsgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U1NzRmM2IzZGFlZDRmZGRiZGMxYzljM2I5NGViYjJkLnNldENvbnRlbnQoaHRtbF8wYTYwYmZkYmY5M2Q0NzYxOWM2ZTJkNjNlZjNlMjAxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZjRiNTRiNmY1MTM0NTRjOWMxNGFhN2IyNmZjZWU4Ny5iaW5kUG9wdXAocG9wdXBfZTU3NGYzYjNkYWVkNGZkZGJkYzFjOWMzYjk0ZWJiMmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTkyNDliMjkxOWU5NDBlOTg1M2JmZGY0NWZlNTA0OGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2Q5NWQyMDkxZGViNGUzZjg0OTVmMDQxZjdjNTMzNzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmQwYzZkZDhlMDljNDAzMjlmMDhiYWQ4YTk3YWYzMDMgPSAkKCc8ZGl2IGlkPSJodG1sX2JkMGM2ZGQ4ZTA5YzQwMzI5ZjA4YmFkOGE5N2FmMzAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG8sIEJyb2FkdmlldyBOb3J0aCAoT2xkIEVhc3QgWW9yaykgQ2x1c3RlciA0LjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NkOTVkMjA5MWRlYjRlM2Y4NDk1ZjA0MWY3YzUzMzcyLnNldENvbnRlbnQoaHRtbF9iZDBjNmRkOGUwOWM0MDMyOWYwOGJhZDhhOTdhZjMwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xOTI0OWIyOTE5ZTk0MGU5ODUzYmZkZjQ1ZmU1MDQ4ZS5iaW5kUG9wdXAocG9wdXBfY2Q5NWQyMDkxZGViNGUzZjg0OTVmMDQxZjdjNTMzNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2IzNWQxYjA5ZjQ5NDRhZjhkOGU3ZGRhMTQ1NTIxMDQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDZmN2NhYjk5MDQ3NGM0NWEwZGIxYjQ0ZDEwMmZlZDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjZhMGE5Zjg5MzJmNGYxNmI1YWIwOTk3NDkxZTY5MzkgPSAkKCc8ZGl2IGlkPSJodG1sX2I2YTBhOWY4OTMyZjRmMTZiNWFiMDk5NzQ5MWU2OTM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCwgUml2ZXJkYWxlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNmY3Y2FiOTkwNDc0YzQ1YTBkYjFiNDRkMTAyZmVkMS5zZXRDb250ZW50KGh0bWxfYjZhMGE5Zjg5MzJmNGYxNmI1YWIwOTk3NDkxZTY5MzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2IzNWQxYjA5ZjQ5NDRhZjhkOGU3ZGRhMTQ1NTIxMDQuYmluZFBvcHVwKHBvcHVwX2Q2ZjdjYWI5OTA0NzRjNDVhMGRiMWI0NGQxMDJmZWQxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M5OGNhMzliMGNkNTQ2OWVhM2NmMzk3NGJlMmZjNWY0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY4OTk4NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGRlNGEwMzVlYWExNDVjM2JmYmM3MGU0YzBkMDAzZGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzZhYWI5ZmZiNmJlNDE1NjkwYTNlMDg4NjBiYTk5OWYgPSAkKCc8ZGl2IGlkPSJodG1sXzM2YWFiOWZmYjZiZTQxNTY5MGEzZTA4ODYwYmE5OTlmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5JbmRpYSBCYXphYXIsIFRoZSBCZWFjaGVzIFdlc3QgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRkZTRhMDM1ZWFhMTQ1YzNiZmJjNzBlNGMwZDAwM2RlLnNldENvbnRlbnQoaHRtbF8zNmFhYjlmZmI2YmU0MTU2OTBhM2UwODg2MGJhOTk5Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jOThjYTM5YjBjZDU0NjllYTNjZjM5NzRiZTJmYzVmNC5iaW5kUG9wdXAocG9wdXBfNGRlNGEwMzVlYWExNDVjM2JmYmM3MGU0YzBkMDAzZGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmZkMTk3ZDcyZGYyNDRhM2EyMTIzYjE2NWM2MzFjNjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzA5OGMyMTJlMDRiNDFmODgyMGNiYzg0NzIwODgyMDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjljZmZiYzVmZWEyNDNlMmI2Nzg2NGJlODlkZmNmMmIgPSAkKCc8ZGl2IGlkPSJodG1sXzI5Y2ZmYmM1ZmVhMjQzZTJiNjc4NjRiZTg5ZGZjZjJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdHVkaW8gRGlzdHJpY3QgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwOThjMjEyZTA0YjQxZjg4MjBjYmM4NDcyMDg4MjA0LnNldENvbnRlbnQoaHRtbF8yOWNmZmJjNWZlYTI0M2UyYjY3ODY0YmU4OWRmY2YyYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZmQxOTdkNzJkZjI0NGEzYTIxMjNiMTY1YzYzMWM2Mi5iaW5kUG9wdXAocG9wdXBfMzA5OGMyMTJlMDRiNDFmODgyMGNiYzg0NzIwODgyMDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDVhNGUyZWVkODAxNGJlN2FiMTc4ZDQwYTBjNjM4ZWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjgwMjA1LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFiYjY1MjQwNTNlNTQxZTFhMDcyMjRiOTFkNzk5NWUxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNiM2ZmOTE1M2Y0ODQzYWQ5MTBiNmUxNWZiOTMxY2Y0ID0gJCgnPGRpdiBpZD0iaHRtbF8zYjNmZjkxNTNmNDg0M2FkOTEwYjZlMTVmYjkzMWNmNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgUGFyayBDbHVzdGVyIDQuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWJiNjUyNDA1M2U1NDFlMWEwNzIyNGI5MWQ3OTk1ZTEuc2V0Q29udGVudChodG1sXzNiM2ZmOTE1M2Y0ODQzYWQ5MTBiNmUxNWZiOTMxY2Y0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA1YTRlMmVlZDgwMTRiZTdhYjE3OGQ0MGEwYzYzOGViLmJpbmRQb3B1cChwb3B1cF8xYmI2NTI0MDUzZTU0MWUxYTA3MjI0YjkxZDc5OTVlMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NWZlOTY4Nzg5MWI0NTI0ODc4NTRkMjE4YWE4OGU3OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjc1MTEsLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmYwNWZjZDEyZTU5NDY3OGIxZTZlYWZiNmM3MTM1MDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2YzMTExZjVlYzkyNGU5Y2FmYWRhMzk3MDkxYmM3NzAgPSAkKCc8ZGl2IGlkPSJodG1sXzdmMzExMWY1ZWM5MjRlOWNhZmFkYTM5NzA5MWJjNzcwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlIE5vcnRoIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZjA1ZmNkMTJlNTk0Njc4YjFlNmVhZmI2YzcxMzUwMS5zZXRDb250ZW50KGh0bWxfN2YzMTExZjVlYzkyNGU5Y2FmYWRhMzk3MDkxYmM3NzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODVmZTk2ODc4OTFiNDUyNDg3ODU0ZDIxOGFhODhlNzguYmluZFBvcHVwKHBvcHVwX2JmMDVmY2QxMmU1OTQ2NzhiMWU2ZWFmYjZjNzEzNTAxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VhMDc5YjI4OWZkYTRmZTViYjQ3OGM4MjgyZmQ3YjMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjE0ZTIzNGYzMWEyNDQ3MDhkMDE2ZDZhMDViOTEyYjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjM1YzIyY2I3MzExNGRkOThlNWM0NjRhMTgwZmFjZjcgPSAkKCc8ZGl2IGlkPSJodG1sX2IzNWMyMmNiNzMxMTRkZDk4ZTVjNDY0YTE4MGZhY2Y3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QsIExhd3JlbmNlIFBhcmsgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxNGUyMzRmMzFhMjQ0NzA4ZDAxNmQ2YTA1YjkxMmI1LnNldENvbnRlbnQoaHRtbF9iMzVjMjJjYjczMTE0ZGQ5OGU1YzQ2NGExODBmYWNmNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYTA3OWIyODlmZGE0ZmU1YmI0NzhjODI4MmZkN2IzMi5iaW5kUG9wdXAocG9wdXBfNjE0ZTIzNGYzMWEyNDQ3MDhkMDE2ZDZhMDViOTEyYjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWFlMjI3MTY0ZmUyNGU5NzliNTY2MjI4YWFhMmQxOWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQzMjQ0LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIyMjUxZmI0ODEwNjRmODk4ZDFkOTQ1NzU1YTU2NzkzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IwMjc4ZTQ3ZGYyZTQxMTZhOWZkZTUyNzc3ZjI1OGE5ID0gJCgnPGRpdiBpZD0iaHRtbF9iMDI3OGU0N2RmMmU0MTE2YTlmZGU1Mjc3N2YyNThhOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGF2aXN2aWxsZSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjIyNTFmYjQ4MTA2NGY4OThkMWQ5NDU3NTVhNTY3OTMuc2V0Q29udGVudChodG1sX2IwMjc4ZTQ3ZGYyZTQxMTZhOWZkZTUyNzc3ZjI1OGE5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFhZTIyNzE2NGZlMjRlOTc5YjU2NjIyOGFhYTJkMTlkLmJpbmRQb3B1cChwb3B1cF8yMjI1MWZiNDgxMDY0Zjg5OGQxZDk0NTc1NWE1Njc5Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MjU4MTgwNTNhOTM0MjIwOTZjZjU0NjJhN2NjM2FhZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MzNTIxZmI3YjhmMjRiZWRhMjY4MWIyMmZlYjI5NTE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMxZDBmY2U2MTg5ZjQ2M2E4ZTQ1MTM1YzkyMWE2MjY3ID0gJCgnPGRpdiBpZD0iaHRtbF8zMWQwZmNlNjE4OWY0NjNhOGU0NTEzNWM5MjFhNjI2NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgUGFyaywgU3VtbWVyaGlsbCBFYXN0IENsdXN0ZXIgNC4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMzUyMWZiN2I4ZjI0YmVkYTI2ODFiMjJmZWIyOTUxNS5zZXRDb250ZW50KGh0bWxfMzFkMGZjZTYxODlmNDYzYThlNDUxMzVjOTIxYTYyNjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODI1ODE4MDUzYTkzNDIyMDk2Y2Y1NDYyYTdjYzNhYWUuYmluZFBvcHVwKHBvcHVwX2MzNTIxZmI3YjhmMjRiZWRhMjY4MWIyMmZlYjI5NTE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJiY2JiN2UxYjE4MTQzZTU5OTk4YTk2ZjVlNDQxZWEwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg2NDEyMjk5OTk5OTksLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDZkMGY5MWUzMTBmNDQ2MzlmYjAzZThjOTg0ZGVlMjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGNiNjE5ZDE2NzQyNDI2NDlmMGM0MzdkNzE2MTYxM2YgPSAkKCc8ZGl2IGlkPSJodG1sXzBjYjYxOWQxNjc0MjQyNjQ5ZjBjNDM3ZDcxNjE2MTNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdW1tZXJoaWxsIFdlc3QsIFJhdGhuZWxseSwgU291dGggSGlsbCwgRm9yZXN0IEhpbGwgU0UsIERlZXIgUGFyayBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDZkMGY5MWUzMTBmNDQ2MzlmYjAzZThjOTg0ZGVlMjcuc2V0Q29udGVudChodG1sXzBjYjYxOWQxNjc0MjQyNjQ5ZjBjNDM3ZDcxNjE2MTNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJiY2JiN2UxYjE4MTQzZTU5OTk4YTk2ZjVlNDQxZWEwLmJpbmRQb3B1cChwb3B1cF80NmQwZjkxZTMxMGY0NDYzOWZiMDNlOGM5ODRkZWUyNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMmI1NzAzMzAxNTY0MzQyODMxYjVlNTNiNGE0NjhhYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsLTc5LjM3NzUyOTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZhMGZlYWIxNjZmNDRjNDJhYjYzZWY0ZmRkNjMzNDdjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IxY2NlNjY5ZWM2ZTQ1OGJiZWZlNTQwMjlmODBjYzhhID0gJCgnPGRpdiBpZD0iaHRtbF9iMWNjZTY2OWVjNmU0NThiYmVmZTU0MDI5ZjgwY2M4YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWRhbGUgQ2x1c3RlciA0LjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhMGZlYWIxNjZmNDRjNDJhYjYzZWY0ZmRkNjMzNDdjLnNldENvbnRlbnQoaHRtbF9iMWNjZTY2OWVjNmU0NThiYmVmZTU0MDI5ZjgwY2M4YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMmI1NzAzMzAxNTY0MzQyODMxYjVlNTNiNGE0NjhhYS5iaW5kUG9wdXAocG9wdXBfZmEwZmVhYjE2NmY0NGM0MmFiNjNlZjRmZGQ2MzM0N2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTdkYjQ1ODhjNTBiNDkwNDgwZWJmNTcyOGVhZjhmZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc5NjcsLTc5LjM2NzY3NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTcwODAwOTlmM2FkNDE1M2ExYmNlYTRjYjY3YTc1ZTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTViZTg5OTM4MDI2NGQ4ZjgxYjE3NzY1OTE1MWMyOGEgPSAkKCc8ZGl2IGlkPSJodG1sXzk1YmU4OTkzODAyNjRkOGY4MWIxNzc2NTkxNTFjMjhhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdC4gSmFtZXMgVG93biwgQ2FiYmFnZXRvd24gQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E3MDgwMDk5ZjNhZDQxNTNhMWJjZWE0Y2I2N2E3NWUwLnNldENvbnRlbnQoaHRtbF85NWJlODk5MzgwMjY0ZDhmODFiMTc3NjU5MTUxYzI4YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xN2RiNDU4OGM1MGI0OTA0ODBlYmY1NzI4ZWFmOGZkNi5iaW5kUG9wdXAocG9wdXBfYTcwODAwOTlmM2FkNDE1M2ExYmNlYTRjYjY3YTc1ZTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWI2YTkwODMwZmVhNDYyZWJhZDk1OWUwZDU4OGZiNzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU4NTk5LC03OS4zODMxNTk5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNGYwNDAwYjcyODY0NGU5YTU1YWNiZGQzYTFjZDRmMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMTJiODlkNmZmYzk0ODFmYTIyY2VjZGY1NzIxYjY5MCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTEyYjg5ZDZmZmM5NDgxZmEyMmNlY2RmNTcyMWI2OTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNGYwNDAwYjcyODY0NGU5YTU1YWNiZGQzYTFjZDRmMi5zZXRDb250ZW50KGh0bWxfYTEyYjg5ZDZmZmM5NDgxZmEyMmNlY2RmNTcyMWI2OTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWI2YTkwODMwZmVhNDYyZWJhZDk1OWUwZDU4OGZiNzcuYmluZFBvcHVwKHBvcHVwXzA0ZjA0MDBiNzI4NjQ0ZTlhNTVhY2JkZDNhMWNkNGYyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2NGI1NGE5YWNiNzQ4NmRhZWQ3NDg2YWRkMmM5NzI1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU0MjU5OSwtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NTE2NGM5MjRjZDM0ZTNiOWFhOTgzYTQ1YmVkNDYxNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NzUzNGViOWM5ZTk0YzM1ODM4OTkxZmRmY2QxYTRjYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjc1MzRlYjljOWU5NGMzNTgzODk5MWZkZmNkMWE0Y2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJlZ2VudCBQYXJrLCBIYXJib3VyZnJvbnQgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ1MTY0YzkyNGNkMzRlM2I5YWE5ODNhNDViZWQ0NjE0LnNldENvbnRlbnQoaHRtbF82NzUzNGViOWM5ZTk0YzM1ODM4OTkxZmRmY2QxYTRjYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kNjRiNTRhOWFjYjc0ODZkYWVkNzQ4NmFkZDJjOTcyNS5iaW5kUG9wdXAocG9wdXBfNDUxNjRjOTI0Y2QzNGUzYjlhYTk4M2E0NWJlZDQ2MTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDY2Yzg4NzAxODhkNGQxMGI1ODMwZGFiNzhlNWFkNDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTcxNjE4LC03OS4zNzg5MzcwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYThhMzU4OGI0ZTM0YzRhODYyMWMzYjU5NzUxMzk1ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mMGJkYjFhY2IwZjc0MmY5OGQwZjkzOGU3Yjg1NTcwMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZjBiZGIxYWNiMGY3NDJmOThkMGY5MzhlN2I4NTU3MDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdhcmRlbiBEaXN0cmljdCwgUnllcnNvbiBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmE4YTM1ODhiNGUzNGM0YTg2MjFjM2I1OTc1MTM5NWQuc2V0Q29udGVudChodG1sX2YwYmRiMWFjYjBmNzQyZjk4ZDBmOTM4ZTdiODU1NzAxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA2NmM4ODcwMTg4ZDRkMTBiNTgzMGRhYjc4ZTVhZDQyLmJpbmRQb3B1cChwb3B1cF8yYThhMzU4OGI0ZTM0YzRhODYyMWMzYjU5NzUxMzk1ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzIwNGQxZTBhMWQ0ZGU4OGI3MzQzOWM0MDE1ZjVhMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTQ5MzksLTc5LjM3NTQxNzldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDBlMGRlZWM5OTZiNDVhZDhiYzdiMzcyNDQ4MzZjZDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2MzMzE4ZGQ2Mjk5NDFlMzk1ODMzNjU5OGQxMmM1YTEgPSAkKCc8ZGl2IGlkPSJodG1sXzNjMzMxOGRkNjI5OTQxZTM5NTgzMzY1OThkMTJjNWExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdC4gSmFtZXMgVG93biBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDBlMGRlZWM5OTZiNDVhZDhiYzdiMzcyNDQ4MzZjZDYuc2V0Q29udGVudChodG1sXzNjMzMxOGRkNjI5OTQxZTM5NTgzMzY1OThkMTJjNWExKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMzMjA0ZDFlMGExZDRkZTg4YjczNDM5YzQwMTVmNWEwLmJpbmRQb3B1cChwb3B1cF80MGUwZGVlYzk5NmI0NWFkOGJjN2IzNzI0NDgzNmNkNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kYzZhOTYzMTUwNTk0YTExYTU2NGU2OTY0NGRhZmEwNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwtNzkuMzczMzA2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YjRlNjk2YjRiYTE0MjlmODE5MmExMDA0MjIyZDZkNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNWY4M2RlZTUxMTc0Y2RkYWZhM2VhMzliZjZkZThkNiA9ICQoJzxkaXYgaWQ9Imh0bWxfZDVmODNkZWU1MTE3NGNkZGFmYTNlYTM5YmY2ZGU4ZDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlcmN6eSBQYXJrIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82YjRlNjk2YjRiYTE0MjlmODE5MmExMDA0MjIyZDZkNi5zZXRDb250ZW50KGh0bWxfZDVmODNkZWU1MTE3NGNkZGFmYTNlYTM5YmY2ZGU4ZDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGM2YTk2MzE1MDU5NGExMWE1NjRlNjk2NDRkYWZhMDYuYmluZFBvcHVwKHBvcHVwXzZiNGU2OTZiNGJhMTQyOWY4MTkyYTEwMDQyMjJkNmQ2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzIwOGYzNTU0OWM3NDQ5Y2M4ODRhM2RkZmY2MDlmYWVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNDNkOWEzMmI3ZjM0NzhjODE0NDc4MDYzMWQ5OGY5MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xODFlYTc5Y2Y5NDI0MzU0YTA1NTE2NTIyZTQ5ZDU3MyA9ICQoJzxkaXYgaWQ9Imh0bWxfMTgxZWE3OWNmOTQyNDM1NGEwNTUxNjUyMmU0OWQ1NzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjQzZDlhMzJiN2YzNDc4YzgxNDQ3ODA2MzFkOThmOTIuc2V0Q29udGVudChodG1sXzE4MWVhNzljZjk0MjQzNTRhMDU1MTY1MjJlNDlkNTczKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwOGYzNTU0OWM3NDQ5Y2M4ODRhM2RkZmY2MDlmYWVlLmJpbmRQb3B1cChwb3B1cF9mNDNkOWEzMmI3ZjM0NzhjODE0NDc4MDYzMWQ5OGY5Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NjQxZmZjM2I4OTI0ZjQ4YTc2OGY5MGZjNWYxYjhmNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRjZDYwNjUyYjVlMDRiMzE4ZWU4MzlkMTE5ZWE2NjM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EyMDYxMmQ0YzUxYTQ1OGViMDZjMDUxYmZmZDQ2ZmQzID0gJCgnPGRpdiBpZD0iaHRtbF9hMjA2MTJkNGM1MWE0NThlYjA2YzA1MWJmZmQ0NmZkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmljaG1vbmQsIEFkZWxhaWRlLCBLaW5nIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80Y2Q2MDY1MmI1ZTA0YjMxOGVlODM5ZDExOWVhNjYzOC5zZXRDb250ZW50KGh0bWxfYTIwNjEyZDRjNTFhNDU4ZWIwNmMwNTFiZmZkNDZmZDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDY0MWZmYzNiODkyNGY0OGE3NjhmOTBmYzVmMWI4ZjcuYmluZFBvcHVwKHBvcHVwXzRjZDYwNjUyYjVlMDRiMzE4ZWU4MzlkMTE5ZWE2NjM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzliZjc1NTZiZjFkNDQwODk4NjlhMzY3YTUxMjIwOTRjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQwODE1NywtNzkuMzgxNzUyMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDgwMzI1NDA4N2EwNDAxZDgxNzlkN2UxMjY2ZGVjNDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzc3MzkxMmVmYWZkNDdkNDliMzZiZTQyZjU3NmM1NTMgPSAkKCc8ZGl2IGlkPSJodG1sXzc3NzM5MTJlZmFmZDQ3ZDQ5YjM2YmU0MmY1NzZjNTUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYXJib3VyZnJvbnQgRWFzdCwgVW5pb24gU3RhdGlvbiwgVG9yb250byBJc2xhbmRzIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wODAzMjU0MDg3YTA0MDFkODE3OWQ3ZTEyNjZkZWM0My5zZXRDb250ZW50KGh0bWxfNzc3MzkxMmVmYWZkNDdkNDliMzZiZTQyZjU3NmM1NTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWJmNzU1NmJmMWQ0NDA4OTg2OWEzNjdhNTEyMjA5NGMuYmluZFBvcHVwKHBvcHVwXzA4MDMyNTQwODdhMDQwMWQ4MTc5ZDdlMTI2NmRlYzQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFhMjIzNTk5MGY2MjRiZjhiY2M0NDdlYTIzYjA1MTU0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3MTc2OCwtNzkuMzgxNTc2NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTY5OTUwMzg3MGRjNGI4NzlhOGYxMDc1ZGI0MjZhYzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDc0MmZhZGJlMDYwNGJlMmEwMjcxMmRkOTQ1MDBjYmUgPSAkKCc8ZGl2IGlkPSJodG1sXzA3NDJmYWRiZTA2MDRiZTJhMDI3MTJkZDk0NTAwY2JlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ub3JvbnRvIERvbWluaW9uIENlbnRyZSwgRGVzaWduIEV4Y2hhbmdlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNjk5NTAzODcwZGM0Yjg3OWE4ZjEwNzVkYjQyNmFjOC5zZXRDb250ZW50KGh0bWxfMDc0MmZhZGJlMDYwNGJlMmEwMjcxMmRkOTQ1MDBjYmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWEyMjM1OTkwZjYyNGJmOGJjYzQ0N2VhMjNiMDUxNTQuYmluZFBvcHVwKHBvcHVwXzE2OTk1MDM4NzBkYzRiODc5YThmMTA3NWRiNDI2YWM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M2NDgzMzE4ZjViYTRmNjdhYjg3NDM5YzdkMzdjOGVlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MTk4NSwtNzkuMzc5ODE2OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzk3YmFiMjk2ZjRjNDAwMmFhNzViZWJkNDFhMTI2NmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmRlNDg5ODNmM2VjNGNjZTkyYzZlMDFkMGYwMTM2ZjQgPSAkKCc8ZGl2IGlkPSJodG1sX2JkZTQ4OTgzZjNlYzRjY2U5MmM2ZTAxZDBmMDEzNmY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tZXJjZSBDb3VydCwgVmljdG9yaWEgSG90ZWwgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc5N2JhYjI5NmY0YzQwMDJhYTc1YmViZDQxYTEyNjZkLnNldENvbnRlbnQoaHRtbF9iZGU0ODk4M2YzZWM0Y2NlOTJjNmUwMWQwZjAxMzZmNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jNjQ4MzMxOGY1YmE0ZjY3YWI4NzQzOWM3ZDM3YzhlZS5iaW5kUG9wdXAocG9wdXBfNzk3YmFiMjk2ZjRjNDAwMmFhNzViZWJkNDFhMTI2NmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmQ4NmRhZDcyYzAzNDA2NmJjYzE5YzZmOGM1NGI1YmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc0ZjVlYzlhOWY3NjQ5ODY4MzJmMGE4NGUzODczOGI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E2MmNmY2NjNzM1NTQ5NWVhYjdlOWVhZTk0ZjU3OTE0ID0gJCgnPGRpdiBpZD0iaHRtbF9hNjJjZmNjYzczNTU0OTVlYWI3ZTllYWU5NGY1NzkxNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLCBMYXdyZW5jZSBNYW5vciBFYXN0IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NGY1ZWM5YTlmNzY0OTg2ODMyZjBhODRlMzg3MzhiNS5zZXRDb250ZW50KGh0bWxfYTYyY2ZjY2M3MzU1NDk1ZWFiN2U5ZWFlOTRmNTc5MTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmQ4NmRhZDcyYzAzNDA2NmJjYzE5YzZmOGM1NGI1YmUuYmluZFBvcHVwKHBvcHVwXzc0ZjVlYzlhOWY3NjQ5ODY4MzJmMGE4NGUzODczOGI1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFkZTM4NGFiM2FhMjQ1MTFiYTViZDEwN2QwOTI0YjJjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExNjk0OCwtNzkuNDE2OTM1NTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjVkMDg5NzYyMzZiNDliZDkyMDdjNjRiM2Y5YjMwNjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzJkNjRiNmQwNzU2NGJmNTg3ZGMzYjM5OGJjYTgyMzMgPSAkKCc8ZGl2IGlkPSJodG1sXzMyZDY0YjZkMDc1NjRiZjU4N2RjM2IzOThiY2E4MjMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3NlbGF3biBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjVkMDg5NzYyMzZiNDliZDkyMDdjNjRiM2Y5YjMwNjguc2V0Q29udGVudChodG1sXzMyZDY0YjZkMDc1NjRiZjU4N2RjM2IzOThiY2E4MjMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFkZTM4NGFiM2FhMjQ1MTFiYTViZDEwN2QwOTI0YjJjLmJpbmRQb3B1cChwb3B1cF9iNWQwODk3NjIzNmI0OWJkOTIwN2M2NGIzZjliMzA2OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZTFjYTM5ODNmNGY0ODczYWM4NWE3NTA2MGM4ZjBmMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsLTc5LjQxMTMwNzIwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FmMWVlNTBhMzFlZDQzMThiZjQwYmJjOGRlNDhjZTQyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1MzcwYzY2YjJmMTRiNTc5MTU3NTEyYTYzZWFiMTI0ID0gJCgnPGRpdiBpZD0iaHRtbF9iNTM3MGM2NmIyZjE0YjU3OTE1NzUxMmE2M2VhYjEyNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rm9yZXN0IEhpbGwgTm9ydGggJmFtcDsgV2VzdCwgRm9yZXN0IEhpbGwgUm9hZCBQYXJrIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZjFlZTUwYTMxZWQ0MzE4YmY0MGJiYzhkZTQ4Y2U0Mi5zZXRDb250ZW50KGh0bWxfYjUzNzBjNjZiMmYxNGI1NzkxNTc1MTJhNjNlYWIxMjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2UxY2EzOTgzZjRmNDg3M2FjODVhNzUwNjBjOGYwZjEuYmluZFBvcHVwKHBvcHVwX2FmMWVlNTBhMzFlZDQzMThiZjQwYmJjOGRlNDhjZTQyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I3MWFjYmM3NTYyMzRmMDViNTM3ZTM5NTMzMjkxM2ZjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjcyNzA5NywtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTgwYmI1OWRiMTQxNDJkMDllZDM0MTc0ZTFmMmRlMWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjBhOGMxZDY1MWQ1NDdkMmExZDJhMzhkMjkyZjYwMGIgPSAkKCc8ZGl2IGlkPSJodG1sX2IwYThjMWQ2NTFkNTQ3ZDJhMWQyYTM4ZDI5MmY2MDBiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQW5uZXgsIE5vcnRoIE1pZHRvd24sIFlvcmt2aWxsZSBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTgwYmI1OWRiMTQxNDJkMDllZDM0MTc0ZTFmMmRlMWQuc2V0Q29udGVudChodG1sX2IwYThjMWQ2NTFkNTQ3ZDJhMWQyYTM4ZDI5MmY2MDBiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I3MWFjYmM3NTYyMzRmMDViNTM3ZTM5NTMzMjkxM2ZjLmJpbmRQb3B1cChwb3B1cF8xODBiYjU5ZGIxNDE0MmQwOWVkMzQxNzRlMWYyZGUxZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mM2ViZDBjMWNhNmE0YmI3ODkwYWFkYmU1NWEyMDNjZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjY5NTYsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTcyYzcwM2RhM2ZkNGMwZjhjN2U4NmYxMWMzNTZkOWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTkyYmEzNWVjYjkxNGE5YmIxMzI2NDljMGEwMGE0MjEgPSAkKCc8ZGl2IGlkPSJodG1sXzk5MmJhMzVlY2I5MTRhOWJiMTMyNjQ5YzBhMDBhNDIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Vbml2ZXJzaXR5IG9mIFRvcm9udG8sIEhhcmJvcmQgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk3MmM3MDNkYTNmZDRjMGY4YzdlODZmMTFjMzU2ZDljLnNldENvbnRlbnQoaHRtbF85OTJiYTM1ZWNiOTE0YTliYjEzMjY0OWMwYTAwYTQyMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mM2ViZDBjMWNhNmE0YmI3ODkwYWFkYmU1NWEyMDNjZC5iaW5kUG9wdXAocG9wdXBfOTcyYzcwM2RhM2ZkNGMwZjhjN2U4NmYxMWMzNTZkOWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjQ4Y2NkM2E0OThkNDI0NmEyOTQxYjFhMDIwN2E1NTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTMyMDU3LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IzYWFkOGZkNzEyMDQ2MmViNWY3ZTIwNzkyZjAwMzkyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU4YmVjOThmMDc4YjQxODViNGZmM2FmZWNkZTIxODMzID0gJCgnPGRpdiBpZD0iaHRtbF81OGJlYzk4ZjA3OGI0MTg1YjRmZjNhZmVjZGUyMTgzMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2Vuc2luZ3RvbiBNYXJrZXQsIENoaW5hdG93biwgR3JhbmdlIFBhcmsgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IzYWFkOGZkNzEyMDQ2MmViNWY3ZTIwNzkyZjAwMzkyLnNldENvbnRlbnQoaHRtbF81OGJlYzk4ZjA3OGI0MTg1YjRmZjNhZmVjZGUyMTgzMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNDhjY2QzYTQ5OGQ0MjQ2YTI5NDFiMWEwMjA3YTU1OS5iaW5kUG9wdXAocG9wdXBfYjNhYWQ4ZmQ3MTIwNDYyZWI1ZjdlMjA3OTJmMDAzOTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2E5ZTczNGY2ZDIzNDE4OGFjM2ExYzc4NTUwZmQ0N2IgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Mjg5NDY3LC03OS4zOTQ0MTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU4YmVkYmYwZmY0NzQ4YzY5Mjc2NDRjYWQxN2U2YmVjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE5MDU4Y2I5OTIwODRkZDVhMjcwYmJkZWIyOTNhMDEyID0gJCgnPGRpdiBpZD0iaHRtbF8xOTA1OGNiOTkyMDg0ZGQ1YTI3MGJiZGViMjkzYTAxMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q04gVG93ZXIsIEtpbmcgYW5kIFNwYWRpbmEsIFJhaWx3YXkgTGFuZHMsIEhhcmJvdXJmcm9udCBXZXN0LCBCYXRodXJzdCBRdWF5LCBTb3V0aCBOaWFnYXJhLCBJc2xhbmQgYWlycG9ydCBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNThiZWRiZjBmZjQ3NDhjNjkyNzY0NGNhZDE3ZTZiZWMuc2V0Q29udGVudChodG1sXzE5MDU4Y2I5OTIwODRkZDVhMjcwYmJkZWIyOTNhMDEyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdhOWU3MzRmNmQyMzQxODhhYzNhMWM3ODU1MGZkNDdiLmJpbmRQb3B1cChwb3B1cF81OGJlZGJmMGZmNDc0OGM2OTI3NjQ0Y2FkMTdlNmJlYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iZWE3NTJmZGE5ZmM0N2ZkYjFmNGFlZDVlYzk2Yzk1ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjQzNTIsLTc5LjM3NDg0NTk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U3NDJiNDk4NWQ0MjQ2YzM5NWUzMGExNTQ4YmEyM2NmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE0YTExMTdlNTdkYzQ5NGU5YzQ2ZmNmMzhmYzk5NTdkID0gJCgnPGRpdiBpZD0iaHRtbF8xNGExMTE3ZTU3ZGM0OTRlOWM0NmZjZjM4ZmM5OTU3ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RuIEEgUE8gQm94ZXMgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U3NDJiNDk4NWQ0MjQ2YzM5NWUzMGExNTQ4YmEyM2NmLnNldENvbnRlbnQoaHRtbF8xNGExMTE3ZTU3ZGM0OTRlOWM0NmZjZjM4ZmM5OTU3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZWE3NTJmZGE5ZmM0N2ZkYjFmNGFlZDVlYzk2Yzk1ZC5iaW5kUG9wdXAocG9wdXBfZTc0MmI0OTg1ZDQyNDZjMzk1ZTMwYTE1NDhiYTIzY2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzY5ZDQ1OWM3OGU3NGJmNWFiNWUyNGYzMzlhNmRiY2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg0MjkyLC03OS4zODIyODAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ5ZjQ5ZDkzMGNjZTRjNTZhZWQ2N2YyMjY1NzY0M2U0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRkN2EwYzUzYTRiMTRmYWFhZmU0ZmEwZDM5MzRjMDMwID0gJCgnPGRpdiBpZD0iaHRtbF80ZDdhMGM1M2E0YjE0ZmFhYWZlNGZhMGQzOTM0YzAzMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rmlyc3QgQ2FuYWRpYW4gUGxhY2UsIFVuZGVyZ3JvdW5kIGNpdHkgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ5ZjQ5ZDkzMGNjZTRjNTZhZWQ2N2YyMjY1NzY0M2U0LnNldENvbnRlbnQoaHRtbF80ZDdhMGM1M2E0YjE0ZmFhYWZlNGZhMGQzOTM0YzAzMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NjlkNDU5Yzc4ZTc0YmY1YWI1ZTI0ZjMzOWE2ZGJjZC5iaW5kUG9wdXAocG9wdXBfNDlmNDlkOTMwY2NlNGM1NmFlZDY3ZjIyNjU3NjQzZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDNkNjRhOTJiZjYyNDc5YWFkMjYwZmUxYzEyZjdkMTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y2MmZhZjcxNzM4MjQwYTFhZWVjNzEwYWZlZmE2ZWRjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBmMzY0NGI3MzJlNjQ3Y2M4YzY1YzQwNjVlN2M3MTQwID0gJCgnPGRpdiBpZD0iaHRtbF8wZjM2NDRiNzMyZTY0N2NjOGM2NWM0MDY1ZTdjNzE0MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgTWFub3IsIExhd3JlbmNlIEhlaWdodHMgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y2MmZhZjcxNzM4MjQwYTFhZWVjNzEwYWZlZmE2ZWRjLnNldENvbnRlbnQoaHRtbF8wZjM2NDRiNzMyZTY0N2NjOGM2NWM0MDY1ZTdjNzE0MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kM2Q2NGE5MmJmNjI0NzlhYWQyNjBmZTFjMTJmN2QxNi5iaW5kUG9wdXAocG9wdXBfZjYyZmFmNzE3MzgyNDBhMWFlZWM3MTBhZmVmYTZlZGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmYxZTcyNTlkMWZiNDQ4Zjk1ZWVmM2ZkZGY0YTY3ZmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDk1NzcsLTc5LjQ0NTA3MjU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBmOGY3YmM3OWVjZjQwYzk4MmI1OWY4ZTQzZGVkZTMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQwOWRiYWM5ZDQwZjRmZTY4NTQwMTYxNmRiYzgzNzcwID0gJCgnPGRpdiBpZD0iaHRtbF80MDlkYmFjOWQ0MGY0ZmU2ODU0MDE2MTZkYmM4Mzc3MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuIENsdXN0ZXIgMC4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZjhmN2JjNzllY2Y0MGM5ODJiNTlmOGU0M2RlZGUzMC5zZXRDb250ZW50KGh0bWxfNDA5ZGJhYzlkNDBmNGZlNjg1NDAxNjE2ZGJjODM3NzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmYxZTcyNTlkMWZiNDQ4Zjk1ZWVmM2ZkZGY0YTY3ZmQuYmluZFBvcHVwKHBvcHVwXzBmOGY3YmM3OWVjZjQwYzk4MmI1OWY4ZTQzZGVkZTMwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdmZGZmODk0NTk4MzRkNzA5OGQzMTU0YjViNjg0ZDg1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjkzNzgxMywtNzkuNDI4MTkxNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2FjYmJlOWRkNDhlNDk3Nzg4Yjk3ODc4ZmZjNDljNWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjA5Y2MzODkxMmI2NGRiMjkxOTM1OWYwMDgxN2Y3NzAgPSAkKCc8ZGl2IGlkPSJodG1sXzIwOWNjMzg5MTJiNjRkYjI5MTkzNTlmMDA4MTdmNzcwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1ld29vZC1DZWRhcnZhbGUgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNhY2JiZTlkZDQ4ZTQ5Nzc4OGI5Nzg3OGZmYzQ5YzVlLnNldENvbnRlbnQoaHRtbF8yMDljYzM4OTEyYjY0ZGIyOTE5MzU5ZjAwODE3Zjc3MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZmRmZjg5NDU5ODM0ZDcwOThkMzE1NGI1YjY4NGQ4NS5iaW5kUG9wdXAocG9wdXBfM2FjYmJlOWRkNDhlNDk3Nzg4Yjk3ODc4ZmZjNDljNWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjJkNmI1ZWVlMTAzNGFiN2JlOWU3OWRhYWNjNmFkY2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODkwMjU2LC03OS40NTM1MTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmYjM2MCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZmIzNjAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjAyMzVlZDJlMGNkNGI3NmFlMjE4NTI4NjNjNWQyOWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTg2YTVjMTE3NTFmNDMxZTgwOWZkZDA5OTczNzFjNmMgPSAkKCc8ZGl2IGlkPSJodG1sX2E4NmE1YzExNzUxZjQzMWU4MDlmZGQwOTk3MzcxYzZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWxlZG9uaWEtRmFpcmJhbmtzIENsdXN0ZXIgNC4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MDIzNWVkMmUwY2Q0Yjc2YWUyMTg1Mjg2M2M1ZDI5ZS5zZXRDb250ZW50KGh0bWxfYTg2YTVjMTE3NTFmNDMxZTgwOWZkZDA5OTczNzFjNmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjJkNmI1ZWVlMTAzNGFiN2JlOWU3OWRhYWNjNmFkY2QuYmluZFBvcHVwKHBvcHVwXzYwMjM1ZWQyZTBjZDRiNzZhZTIxODUyODYzYzVkMjllKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdkOWRkOTk2ZjIyZTRiOTg4YTM1ZjdhNDE4NmM1ZWFhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5NTQyLC03OS40MjI1NjM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUxNGM4M2M0MzE3MDQwMzY4NGNkMjM1MjBmMTI1NmU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhjYjIyYWJkYWJlYzRkNGE5ZTFlZmRkN2FiNzRhYjcyID0gJCgnPGRpdiBpZD0iaHRtbF84Y2IyMmFiZGFiZWM0ZDRhOWUxZWZkZDdhYjc0YWI3MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hyaXN0aWUgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxNGM4M2M0MzE3MDQwMzY4NGNkMjM1MjBmMTI1NmU0LnNldENvbnRlbnQoaHRtbF84Y2IyMmFiZGFiZWM0ZDRhOWUxZWZkZDdhYjc0YWI3Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83ZDlkZDk5NmYyMmU0Yjk4OGEzNWY3YTQxODZjNWVhYS5iaW5kUG9wdXAocG9wdXBfNTE0YzgzYzQzMTcwNDAzNjg0Y2QyMzUyMGYxMjU2ZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmU4ZDJmOGE2YjhmNDQxODhmOGUyMmY0OTQzNWNhNmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjkwMDUxMDAwMDAwMSwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wYjcwZjQ1NjYwMGY0Y2RhOTllMDNmY2E2ZWM0MDBkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MWY2ZTMxMDJkMzQ0ZjQwOGEwYzFiMmVjNmNmMTA4ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzFmNmUzMTAyZDM0NGY0MDhhMGMxYjJlYzZjZjEwOGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkR1ZmZlcmluLCBEb3ZlcmNvdXJ0IFZpbGxhZ2UgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBiNzBmNDU2NjAwZjRjZGE5OWUwM2ZjYTZlYzQwMGQ4LnNldENvbnRlbnQoaHRtbF83MWY2ZTMxMDJkMzQ0ZjQwOGEwYzFiMmVjNmNmMTA4Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZThkMmY4YTZiOGY0NDE4OGY4ZTIyZjQ5NDM1Y2E2Yi5iaW5kUG9wdXAocG9wdXBfMGI3MGY0NTY2MDBmNGNkYTk5ZTAzZmNhNmVjNDAwZDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGEwZGUyOWYzM2M1NDFlNmIzMWUzNjMxZTNlODFkMDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDc5MjY3MDAwMDAwMDYsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjRmMGQ4NmIyZDUzNDBkM2E5MjhmZWFmN2MyMDA5ZDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDNkMjc2NGQ1YTViNDRmZTlhZTQ1NGJjOTIxYWU0MDMgPSAkKCc8ZGl2IGlkPSJodG1sXzQzZDI3NjRkNWE1YjQ0ZmU5YWU0NTRiYzkyMWFlNDAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MaXR0bGUgUG9ydHVnYWwsIFRyaW5pdHkgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I0ZjBkODZiMmQ1MzQwZDNhOTI4ZmVhZjdjMjAwOWQ4LnNldENvbnRlbnQoaHRtbF80M2QyNzY0ZDVhNWI0NGZlOWFlNDU0YmM5MjFhZTQwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YTBkZTI5ZjMzYzU0MWU2YjMxZTM2MzFlM2U4MWQwOC5iaW5kUG9wdXAocG9wdXBfYjRmMGQ4NmIyZDUzNDBkM2E5MjhmZWFmN2MyMDA5ZDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMThjOTAyMjQ0YjFmNGY2YThkMTA4YWM3NTg2NmI1NzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMzcyYWMwNTYwNGY0ZDVhYjg5YWRhMzkxOTNiZjg0NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZjA4MGRkNjE0MWY0MmFhYjU2ZjMyNjI1OGE4OWEwYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZGYwODBkZDYxNDFmNDJhYWI1NmYzMjYyNThhODlhMGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyb2NrdG9uLCBQYXJrZGFsZSBWaWxsYWdlLCBFeGhpYml0aW9uIFBsYWNlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMzcyYWMwNTYwNGY0ZDVhYjg5YWRhMzkxOTNiZjg0Ny5zZXRDb250ZW50KGh0bWxfZGYwODBkZDYxNDFmNDJhYWI1NmYzMjYyNThhODlhMGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMThjOTAyMjQ0YjFmNGY2YThkMTA4YWM3NTg2NmI1NzIuYmluZFBvcHVwKHBvcHVwXzEzNzJhYzA1NjA0ZjRkNWFiODlhZGEzOTE5M2JmODQ3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBiNGY2ZjI3N2NmNjQ3NjhhZjY0YjcyZGRjODVmZjgxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEzNzU2MjAwMDAwMDA2LC03OS40OTAwNzM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2UwMjQ4Y2U0NWJmNDRlZjY5YTdkYTFhMmIxMjVhYjUwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI1ZTU2MjRjM2NkODRiY2Q5MDc2ZGY3ZjBhMmRkZmU2ID0gJCgnPGRpdiBpZD0iaHRtbF8yNWU1NjI0YzNjZDg0YmNkOTA3NmRmN2YwYTJkZGZlNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggUGFyaywgTWFwbGUgTGVhZiBQYXJrLCBVcHdvb2QgUGFyayBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTAyNDhjZTQ1YmY0NGVmNjlhN2RhMWEyYjEyNWFiNTAuc2V0Q29udGVudChodG1sXzI1ZTU2MjRjM2NkODRiY2Q5MDc2ZGY3ZjBhMmRkZmU2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBiNGY2ZjI3N2NmNjQ3NjhhZjY0YjcyZGRjODVmZjgxLmJpbmRQb3B1cChwb3B1cF9lMDI0OGNlNDViZjQ0ZWY2OWE3ZGExYTJiMTI1YWI1MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMjBmYWIxNjM5NDI0YmMxOGViMzVhOTA0NzQ2NTYzYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MTExNTgsLTc5LjQ3NjAxMzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ExMjFjYzNjNWNiMTQwNDg5YjM3YTczZTdiYzViYmQ2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IzMzRlNjljNmE4NjRlOTA5ZjYzYTc0M2E4MTQ2ZjdlID0gJCgnPGRpdiBpZD0iaHRtbF9iMzM0ZTY5YzZhODY0ZTkwOWY2M2E3NDNhODE0NmY3ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVsIFJheSwgTW91bnQgRGVubmlzLCBLZWVsc2RhbGUgYW5kIFNpbHZlcnRob3JuIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMTIxY2MzYzVjYjE0MDQ4OWIzN2E3M2U3YmM1YmJkNi5zZXRDb250ZW50KGh0bWxfYjMzNGU2OWM2YTg2NGU5MDlmNjNhNzQzYTgxNDZmN2UpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzIwZmFiMTYzOTQyNGJjMThlYjM1YTkwNDc0NjU2M2MuYmluZFBvcHVwKHBvcHVwX2ExMjFjYzNjNWNiMTQwNDg5YjM3YTczZTdiYzViYmQ2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJlNDNhNzI2MDI4ZTRkMGQ4Y2VjZWM0MzUyNTdhZTQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjczMTg1Mjk5OTk5OTksLTc5LjQ4NzI2MTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRlMjRkMGQ0MDFmNzRlZDE4YzUyNWQ4M2M1YzQ2ZTk5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EwYTVjN2QxMGI4YzRlYTA5OGMxMTgzMjc3ZWUzZmI0ID0gJCgnPGRpdiBpZD0iaHRtbF9hMGE1YzdkMTBiOGM0ZWEwOThjMTE4MzI3N2VlM2ZiNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLCBUaGUgSnVuY3Rpb24gTm9ydGggQ2x1c3RlciAwLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRlMjRkMGQ0MDFmNzRlZDE4YzUyNWQ4M2M1YzQ2ZTk5LnNldENvbnRlbnQoaHRtbF9hMGE1YzdkMTBiOGM0ZWEwOThjMTE4MzI3N2VlM2ZiNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZTQzYTcyNjAyOGU0ZDBkOGNlY2VjNDM1MjU3YWU0My5iaW5kUG9wdXAocG9wdXBfNGUyNGQwZDQwMWY3NGVkMThjNTI1ZDgzYzVjNDZlOTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2ViOWUyYzA0MzkyNDhmYTllNTRkZjVmY2E4NjI4NjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZDExZmNkZTg4NDU0NmUwOGEzMWFhNzY0YjJhODYyMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85YWMwNGM2ZDIyZTI0NzFjODkxMWI2NzgzZjk3OTA2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfOWFjMDRjNmQyMmUyNDcxYzg5MTFiNjc4M2Y5NzkwNjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2ggUGFyaywgVGhlIEp1bmN0aW9uIFNvdXRoIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hZDExZmNkZTg4NDU0NmUwOGEzMWFhNzY0YjJhODYyMy5zZXRDb250ZW50KGh0bWxfOWFjMDRjNmQyMmUyNDcxYzg5MTFiNjc4M2Y5NzkwNjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2ViOWUyYzA0MzkyNDhmYTllNTRkZjVmY2E4NjI4NjEuYmluZFBvcHVwKHBvcHVwX2FkMTFmY2RlODg0NTQ2ZTA4YTMxYWE3NjRiMmE4NjIzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzcwYTU0ZWEwNmRlZDQwOGZhMTUyM2JkMjYwM2I4Njc5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4OTU5NywtNzkuNDU2MzI1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcyZWI2YTZlNGZlNzRkMGJiODZmNmYxOGIzZmQ5N2U5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JlODk0YzNlMjlhYjQ0NjU5Y2M3Mjk0N2QwOWM5ZmZhID0gJCgnPGRpdiBpZD0iaHRtbF9iZTg5NGMzZTI5YWI0NDY1OWNjNzI5NDdkMDljOWZmYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya2RhbGUsIFJvbmNlc3ZhbGxlcyBDbHVzdGVyIDEuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzJlYjZhNmU0ZmU3NGQwYmI4NmY2ZjE4YjNmZDk3ZTkuc2V0Q29udGVudChodG1sX2JlODk0YzNlMjlhYjQ0NjU5Y2M3Mjk0N2QwOWM5ZmZhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcwYTU0ZWEwNmRlZDQwOGZhMTUyM2JkMjYwM2I4Njc5LmJpbmRQb3B1cChwb3B1cF83MmViNmE2ZTRmZTc0ZDBiYjg2ZjZmMThiM2ZkOTdlOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzMyZTgyODA2ZDg0MGEyYjc1Y2M0YjBiOTU4NjVhYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTU3MDYsLTc5LjQ4NDQ0OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWQ4MGFhNjdkOTM3NDhiZDg5MDY2NjEwODRkOGEyNmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTEwNGRkODM4MDYxNDhkMjhhYWM4MmQ3NTRkYjYyNGQgPSAkKCc8ZGl2IGlkPSJodG1sXzUxMDRkZDgzODA2MTQ4ZDI4YWFjODJkNzU0ZGI2MjRkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SdW5ueW1lZGUsIFN3YW5zZWEgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlkODBhYTY3ZDkzNzQ4YmQ4OTA2NjYxMDg0ZDhhMjZmLnNldENvbnRlbnQoaHRtbF81MTA0ZGQ4MzgwNjE0OGQyOGFhYzgyZDc1NGRiNjI0ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMzMyZTgyODA2ZDg0MGEyYjc1Y2M0YjBiOTU4NjVhYi5iaW5kUG9wdXAocG9wdXBfOWQ4MGFhNjdkOTM3NDhiZDg5MDY2NjEwODRkOGEyNmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTUzODUxYzZkYTdjNDU5Njk0YzgyN2YzNGU3MDU2Y2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjIzMDE1LC03OS4zODk0OTM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FhMDAzNDkxMGIwNTQzNmJiZjBlMGQ0MjE0YzA4MWRiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY0MDAwYTEzMzU0ZTQwMDI5ZmMyMzBlMmU1MDMyNDg1ID0gJCgnPGRpdiBpZD0iaHRtbF82NDAwMGExMzM1NGU0MDAyOWZjMjMwZTJlNTAzMjQ4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UXVlZW4mIzM5O3MgUGFyaywgT250YXJpbyBQcm92aW5jaWFsIEdvdmVybm1lbnQgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FhMDAzNDkxMGIwNTQzNmJiZjBlMGQ0MjE0YzA4MWRiLnNldENvbnRlbnQoaHRtbF82NDAwMGExMzM1NGU0MDAyOWZjMjMwZTJlNTAzMjQ4NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81NTM4NTFjNmRhN2M0NTk2OTRjODI3ZjM0ZTcwNTZjZS5iaW5kUG9wdXAocG9wdXBfYWEwMDM0OTEwYjA1NDM2YmJmMGUwZDQyMTRjMDgxZGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTY3Y2NkODFhZDQyNDQzMzlkODQ2OTRhOWFkMTI0ZTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY5NjU2LC03OS42MTU4MTg5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNDIzZDRlNDI4M2U0OGViOGRjY2UxM2ZjMmViOTlhNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYzIwOTgwYjNiNDg0ZWFkOWZhODc3MjkwMjgwMDIzYyA9ICQoJzxkaXYgaWQ9Imh0bWxfMmMyMDk4MGIzYjQ4NGVhZDlmYTg3NzI5MDI4MDAyM2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmUgQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y0MjNkNGU0MjgzZTQ4ZWI4ZGNjZTEzZmMyZWI5OWE2LnNldENvbnRlbnQoaHRtbF8yYzIwOTgwYjNiNDg0ZWFkOWZhODc3MjkwMjgwMDIzYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81NjdjY2Q4MWFkNDI0NDMzOWQ4NDY5NGE5YWQxMjRlOC5iaW5kUG9wdXAocG9wdXBfZjQyM2Q0ZTQyODNlNDhlYjhkY2NlMTNmYzJlYjk5YTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWY4MzNmYTgzZGZjNGQxMTk1YjU1YzQ1YjljOWMyZjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjQ5YzVmZTFhZDQ3NGNiZjlhMDk3ODUyOWNkOTM5NjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYThjYmI5NDhiNzY2NDg1NTk4MDI2YmQ3MDM0YjNlNmEgPSAkKCc8ZGl2IGlkPSJodG1sX2E4Y2JiOTQ4Yjc2NjQ4NTU5ODAyNmJkNzAzNGIzZTZhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdXNpbmVzcyByZXBseSBtYWlsIFByb2Nlc3NpbmcgQ2VudHJlLCBTb3V0aCBDZW50cmFsIExldHRlciBQcm9jZXNzaW5nIFBsYW50IFRvcm9udG8gQ2x1c3RlciAxLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y0OWM1ZmUxYWQ0NzRjYmY5YTA5Nzg1MjljZDkzOTY5LnNldENvbnRlbnQoaHRtbF9hOGNiYjk0OGI3NjY0ODU1OTgwMjZiZDcwMzRiM2U2YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZjgzM2ZhODNkZmM0ZDExOTViNTVjNDViOWM5YzJmMy5iaW5kUG9wdXAocG9wdXBfZjQ5YzVmZTFhZDQ3NGNiZjlhMDk3ODUyOWNkOTM5NjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmM3NGEyNDQyMDQwNGMxM2JmOGMzZTE2NmYxMDE3ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDU2NDY2LC03OS41MDEzMjA3MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZDEyMDk4M2M0Y2I0ZDkzYjU3YjZlODEyOTgzNWU1YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mM2FiMGE0MGE2MDM0ZjBmYTc1MWM3MDFiN2I5YjAxYyA9ICQoJzxkaXYgaWQ9Imh0bWxfZjNhYjBhNDBhNjAzNGYwZmE3NTFjNzAxYjdiOWIwMWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5ldyBUb3JvbnRvLCBNaW1pY28gU291dGgsIEh1bWJlciBCYXkgU2hvcmVzIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZDEyMDk4M2M0Y2I0ZDkzYjU3YjZlODEyOTgzNWU1YS5zZXRDb250ZW50KGh0bWxfZjNhYjBhNDBhNjAzNGYwZmE3NTFjNzAxYjdiOWIwMWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmM3NGEyNDQyMDQwNGMxM2JmOGMzZTE2NmYxMDE3ZTIuYmluZFBvcHVwKHBvcHVwXzdkMTIwOTgzYzRjYjRkOTNiNTdiNmU4MTI5ODM1ZTVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzZGRhNWZiOWNlMzQwZmVhOWFiZGEyNTA0OTE0MTJlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjAyNDEzNzAwMDAwMDEsLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM5NWI1OGNhNDU1NTQzNDQ5NDk4ZWYyYTcyMzNlMmU2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzliYTY1YTZkYTI0NjQ5YjA5MjU2Y2RjMzY5MWJlYmNiID0gJCgnPGRpdiBpZD0iaHRtbF85YmE2NWE2ZGEyNDY0OWIwOTI1NmNkYzM2OTFiZWJjYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxkZXJ3b29kLCBMb25nIEJyYW5jaCBDbHVzdGVyIDAuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzk1YjU4Y2E0NTU1NDM0NDk0OThlZjJhNzIzM2UyZTYuc2V0Q29udGVudChodG1sXzliYTY1YTZkYTI0NjQ5YjA5MjU2Y2RjMzY5MWJlYmNiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUzZGRhNWZiOWNlMzQwZmVhOWFiZGEyNTA0OTE0MTJlLmJpbmRQb3B1cChwb3B1cF8zOTViNThjYTQ1NTU0MzQ0OTQ5OGVmMmE3MjMzZTJlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNWFjZDY1YzFmOWM0ZGE1YTYxNzc1ZTMwN2E1ZTNlYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzY1MzYwMDAwMDAwNSwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZGI2M2JkOGRjOGY0NzY2OGI5MzcwOGI2OTYyMzdkYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80YjQ4YmY1MzdjMjA0MjI4YWNiMjU4M2YzMjZjODNiOSA9ICQoJzxkaXYgaWQ9Imh0bWxfNGI0OGJmNTM3YzIwNDIyOGFjYjI1ODNmMzI2YzgzYjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBLaW5nc3dheSwgTW9udGdvbWVyeSBSb2FkLCBPbGQgTWlsbCBOb3J0aCBDbHVzdGVyIDQuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWRiNjNiZDhkYzhmNDc2NjhiOTM3MDhiNjk2MjM3ZGEuc2V0Q29udGVudChodG1sXzRiNDhiZjUzN2MyMDQyMjhhY2IyNTgzZjMyNmM4M2I5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M1YWNkNjVjMWY5YzRkYTVhNjE3NzVlMzA3YTVlM2ViLmJpbmRQb3B1cChwb3B1cF81ZGI2M2JkOGRjOGY0NzY2OGI5MzcwOGI2OTYyMzdkYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82Y2ZhMjQxZDBjYTE0NDA2OWUwOGFkZTg5N2JhMGZiNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjI1NzksLTc5LjQ5ODUwOTA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JiNjU4OTJjOGIyNTQ0ZTJiZjlmZmU2MzNjMDU3ZTQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNkMzk5ZjY0NGFlNTRmMTU4ODgzNTUzMmU5MjY5YzA5ID0gJCgnPGRpdiBpZD0iaHRtbF8zZDM5OWY2NDRhZTU0ZjE1ODg4MzU1MzJlOTI2OWMwOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+T2xkIE1pbGwgU291dGgsIEtpbmcmIzM5O3MgTWlsbCBQYXJrLCBTdW5ueWxlYSwgSHVtYmVyIEJheSwgTWltaWNvIE5FLCBUaGUgUXVlZW5zd2F5IEVhc3QsIFJveWFsIFlvcmsgU291dGggRWFzdCwgS2luZ3N3YXkgUGFyayBTb3V0aCBFYXN0IENsdXN0ZXIgMi4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYjY1ODkyYzhiMjU0NGUyYmY5ZmZlNjMzYzA1N2U0My5zZXRDb250ZW50KGh0bWxfM2QzOTlmNjQ0YWU1NGYxNTg4ODM1NTMyZTkyNjljMDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmNmYTI0MWQwY2ExNDQwNjllMDhhZGU4OTdiYTBmYjYuYmluZFBvcHVwKHBvcHVwX2JiNjU4OTJjOGIyNTQ0ZTJiZjlmZmU2MzNjMDU3ZTQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY5OWJkYjBiYmMwMDQ0ZTY4ZjM4ZWIzMDMyNThhNzMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4ODQwOCwtNzkuNTIwOTk5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTNhOWEwN2ZkZWViNDM0NGI2ODg1ZDc3NWMwNDY4ZmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGFiNzg0YzgzMzkwNDQ3NmJmYTA4NDdkZmU0ODlkYWUgPSAkKCc8ZGl2IGlkPSJodG1sXzRhYjc4NGM4MzM5MDQ0NzZiZmEwODQ3ZGZlNDg5ZGFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaW1pY28gTlcsIFRoZSBRdWVlbnN3YXkgV2VzdCwgU291dGggb2YgQmxvb3IsIEtpbmdzd2F5IFBhcmsgU291dGggV2VzdCwgUm95YWwgWW9yayBTb3V0aCBXZXN0IENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hM2E5YTA3ZmRlZWI0MzQ0YjY4ODVkNzc1YzA0NjhmZS5zZXRDb250ZW50KGh0bWxfNGFiNzg0YzgzMzkwNDQ3NmJmYTA4NDdkZmU0ODlkYWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNjk5YmRiMGJiYzAwNDRlNjhmMzhlYjMwMzI1OGE3MzIuYmluZFBvcHVwKHBvcHVwX2EzYTlhMDdmZGVlYjQzNDRiNjg4NWQ3NzVjMDQ2OGZlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZkYjQwYWEzMzBkZTQzMGE5NTViMmZmMDZkYmQ5YmNmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQzNTE1MiwtNzkuNTc3MjAwNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTM4MTU4OWZhODBhNGNmY2FlN2MxMzdiOGU3YjZiNTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDgwNDA5MDQyMDk1NGVlMDhlZmExMzZmMTM4NzViMGQgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4MDQwOTA0MjA5NTRlZTA4ZWZhMTM2ZjEzODc1YjBkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FcmluZ2F0ZSwgQmxvb3JkYWxlIEdhcmRlbnMsIE9sZCBCdXJuaGFtdGhvcnBlLCBNYXJrbGFuZCBXb29kIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMzgxNTg5ZmE4MGE0Y2ZjYWU3YzEzN2I4ZTdiNmI1OC5zZXRDb250ZW50KGh0bWxfZDgwNDA5MDQyMDk1NGVlMDhlZmExMzZmMTM4NzViMGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmRiNDBhYTMzMGRlNDMwYTk1NWIyZmYwNmRiZDliY2YuYmluZFBvcHVwKHBvcHVwX2EzODE1ODlmYTgwYTRjZmNhZTdjMTM3YjhlN2I2YjU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q2ZjU4ZDQ5NGM5ZjRkNDU4OTU2OGIxZjQ5M2U4N2I3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU2MzAzMywtNzkuNTY1OTYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGMxNjZlODFhMTNjNDRiOGFhYmRjYWI3Y2ZmOTNlMWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTAyYTc0NGQ3NjdiNGQyZTk1ZDNjNzVkMjNkN2EzZjUgPSAkKCc8ZGl2IGlkPSJodG1sXzEwMmE3NDRkNzY3YjRkMmU5NWQzYzc1ZDIzZDdhM2Y1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXIgU3VtbWl0IENsdXN0ZXIgMC4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYzE2NmU4MWExM2M0NGI4YWFiZGNhYjdjZmY5M2UxYS5zZXRDb250ZW50KGh0bWxfMTAyYTc0NGQ3NjdiNGQyZTk1ZDNjNzVkMjNkN2EzZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZmNThkNDk0YzlmNGQ0NTg5NTY4YjFmNDkzZTg3YjcuYmluZFBvcHVwKHBvcHVwX2RjMTY2ZTgxYTEzYzQ0YjhhYWJkY2FiN2NmZjkzZTFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2UzNzNkMTQ2MGU3ZTRmMjRiYjFiMGRmYmMwMTUyNjE5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI0NzY1OSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDViMWRhOTIzOGI5NDgzN2FiNDM1OWY1NTcxMGE2ZWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDFiZDJiNTBhZjZhNDFiY2IzZmNkNDE5NDY1ZDQ5MDAgPSAkKCc8ZGl2IGlkPSJodG1sX2QxYmQyYjUwYWY2YTQxYmNiM2ZjZDQxOTQ2NWQ0OTAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IdW1iZXJsZWEsIEVtZXJ5IENsdXN0ZXIgMi4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NWIxZGE5MjM4Yjk0ODM3YWI0MzU5ZjU1NzEwYTZlZi5zZXRDb250ZW50KGh0bWxfZDFiZDJiNTBhZjZhNDFiY2IzZmNkNDE5NDY1ZDQ5MDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTM3M2QxNDYwZTdlNGYyNGJiMWIwZGZiYzAxNTI2MTkuYmluZFBvcHVwKHBvcHVwXzQ1YjFkYTkyMzhiOTQ4MzdhYjQzNTlmNTU3MTBhNmVmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhjYjIwMjk2N2VmYTQ0MmNiNmY3NDdhMjYzMTNkNmNiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2ODc2LC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmZiMzYwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmYjM2MCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YTc5MzI4ZDYxMzI0OTFiODJiOTY5MmZiOTQ3NmMzZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NTU1OTM3NDg1Zjk0NjMyOTkxYTk1YTUzZmRhZGY4YiA9ICQoJzxkaXYgaWQ9Imh0bWxfNDU1NTkzNzQ4NWY5NDYzMjk5MWE5NWE1M2ZkYWRmOGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3RvbiBDbHVzdGVyIDQuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWE3OTMyOGQ2MTMyNDkxYjgyYjk2OTJmYjk0NzZjM2Yuc2V0Q29udGVudChodG1sXzQ1NTU5Mzc0ODVmOTQ2MzI5OTFhOTVhNTNmZGFkZjhiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhjYjIwMjk2N2VmYTQ0MmNiNmY3NDdhMjYzMTNkNmNiLmJpbmRQb3B1cChwb3B1cF81YTc5MzI4ZDYxMzI0OTFiODJiOTY5MmZiOTQ3NmMzZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMzFmMGZhY2MyZTc0NTFhYjliMjI3MjQxOGVjZTgwNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NjMxOSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMDZjYmNiNGUwMTc3NDRiMzk0MDYxMDZmNjYwNDA2MTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjhlYTYwN2RkNWZiNDM1YjhhNWE4ODhkNGVjZjY1ZGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzgzMmFmZjlhZTYwNDMyZDhiMjVlZTcxZWRmYjFlMTEgPSAkKCc8ZGl2IGlkPSJodG1sX2M4MzJhZmY5YWU2MDQzMmQ4YjI1ZWU3MWVkZmIxZTExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0bW91bnQgQ2x1c3RlciAwLjA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI4ZWE2MDdkZDVmYjQzNWI4YTVhODg4ZDRlY2Y2NWRiLnNldENvbnRlbnQoaHRtbF9jODMyYWZmOWFlNjA0MzJkOGIyNWVlNzFlZGZiMWUxMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMzFmMGZhY2MyZTc0NTFhYjliMjI3MjQxOGVjZTgwNC5iaW5kUG9wdXAocG9wdXBfMjhlYTYwN2RkNWZiNDM1YjhhNWE4ODhkNGVjZjY1ZGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzE4MDE0YWEyMjNkNGM0Yzk4MjNlNzhlOWI0ZDEwYjQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODg5MDU0LC03OS41NTQ3MjQ0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MTdlMzkwOTYyZGI0Y2Q3YmE5NmE5OThhOTFlYWIzNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYmRiOGQ0OGY4YmI0MzZmYTdiOGViZWNhMTk0ZjA1YiA9ICQoJzxkaXYgaWQ9Imh0bWxfY2JkYjhkNDhmOGJiNDM2ZmE3YjhlYmVjYTE5NGYwNWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktpbmdzdmlldyBWaWxsYWdlLCBTdC4gUGhpbGxpcHMsIE1hcnRpbiBHcm92ZSBHYXJkZW5zLCBSaWNodmlldyBHYXJkZW5zIENsdXN0ZXIgMC4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MTdlMzkwOTYyZGI0Y2Q3YmE5NmE5OThhOTFlYWIzNC5zZXRDb250ZW50KGh0bWxfY2JkYjhkNDhmOGJiNDM2ZmE3YjhlYmVjYTE5NGYwNWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzE4MDE0YWEyMjNkNGM0Yzk4MjNlNzhlOWI0ZDEwYjQuYmluZFBvcHVwKHBvcHVwXzgxN2UzOTA5NjJkYjRjZDdiYTk2YTk5OGE5MWVhYjM0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQzMjMzZDdjODE4MjQ3ZmY5Zjc5MWE5OTIxNjMwYTgzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5NDE2Mzk5OTk5OTk2LC03OS41ODg0MzY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzA2Y2JjYjRlMDE3NzQ0YjM5NDA2MTA2ZjY2MDQwNjEwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBmODY1NjcwODk5ZDQ0MmM4OGEzODVlMDNjZjliN2Y2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UwNGE3NjhkMjI3YTQ3NDVhMGYyMWQ2NTYwMzRmNzUxID0gJCgnPGRpdiBpZD0iaHRtbF9lMDRhNzY4ZDIyN2E0NzQ1YTBmMjFkNjU2MDM0Zjc1MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U291dGggU3RlZWxlcywgU2lsdmVyc3RvbmUsIEh1bWJlcmdhdGUsIEphbWVzdG93biwgTW91bnQgT2xpdmUsIEJlYXVtb25kIEhlaWdodHMsIFRoaXN0bGV0b3duLCBBbGJpb24gR2FyZGVucyBDbHVzdGVyIDAuMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGY4NjU2NzA4OTlkNDQyYzg4YTM4NWUwM2NmOWI3ZjYuc2V0Q29udGVudChodG1sX2UwNGE3NjhkMjI3YTQ3NDVhMGYyMWQ2NTYwMzRmNzUxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQzMjMzZDdjODE4MjQ3ZmY5Zjc5MWE5OTIxNjMwYTgzLmJpbmRQb3B1cChwb3B1cF8wZjg2NTY3MDg5OWQ0NDJjODhhMzg1ZTAzY2Y5YjdmNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNzg3MDNhYTllM2Y0NDEzOGI3MWMzNWFlZWEzOGYyNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjc0ODI5OTk5OTk5NCwtNzkuNTk0MDU0NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8wNmNiY2I0ZTAxNzc0NGIzOTQwNjEwNmY2NjA0MDYxMCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lN2M4NzM3NDhkZmE0NzM4ODdkN2I2MmYyMjdhYzIxNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82OWNhYWJjMGY4ZTQ0YzBkOTAzYjE2ZTY1Njg2ZjM0MSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjljYWFiYzBmOGU0NGMwZDkwM2IxNmU2NTY4NmYzNDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod2VzdCwgV2VzdCBIdW1iZXIgLSBDbGFpcnZpbGxlIENsdXN0ZXIgMS4wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lN2M4NzM3NDhkZmE0NzM4ODdkN2I2MmYyMjdhYzIxNy5zZXRDb250ZW50KGh0bWxfNjljYWFiYzBmOGU0NGMwZDkwM2IxNmU2NTY4NmYzNDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjc4NzAzYWE5ZTNmNDQxMzhiNzFjMzVhZWVhMzhmMjUuYmluZFBvcHVwKHBvcHVwX2U3Yzg3Mzc0OGRmYTQ3Mzg4N2Q3YjYyZjIyN2FjMjE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7f6f2061dd68>"
                    },
                    "execution_count": 50,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "import matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# create map\nmap_clusters = folium.Map(location=[latitude, longitude], zoom_start=11)\n\n# set color scheme for the clusters\nx = np.arange(kclusters)\nys = [i + x + (i*x)**2 for i in range(kclusters)]\ncolors_array = cm.rainbow(np.linspace(0, 1, len(ys)))\nrainbow = [colors.rgb2hex(i) for i in colors_array]\n\ntoronto_merged_nonan = toronto_merged.dropna(subset=['Cluster Labels'])\n\n# add markers to the map\nmarkers_colors = []\nfor lat, lon, poi, cluster in zip(toronto_merged_nonan['Latitude'], toronto_merged_nonan['Longitude'], toronto_merged_nonan['Neighborhood'], toronto_merged_nonan['Cluster Labels']):\n    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)\n    folium.CircleMarker(\n        [lat, lon],\n        radius=5,\n        popup=label,\n        color=rainbow[int(cluster-1)],\n        fill=True,\n        fill_color=rainbow[int(cluster-1)],\n        fill_opacity=0.7).add_to(map_clusters)\n       \nmap_clusters"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Clusters\n Cluster 1"
        },
        {
            "cell_type": "code",
            "execution_count": 51,
            "metadata": {
                "scrolled": true
            },
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>35</th>\n      <td>East York</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Pet Store</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Gastropub</td>\n      <td>Intersection</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Caf\u00e9</td>\n      <td>Bank</td>\n      <td>Gym / Fitness Center</td>\n    </tr>\n    <tr>\n      <th>72</th>\n      <td>North York</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Sushi Restaurant</td>\n      <td>Asian Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Pub</td>\n      <td>Yoga Studio</td>\n      <td>Donut Shop</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>York</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Caribbean Restaurant</td>\n      <td>Convenience Store</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>Etobicoke</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Dance Studio</td>\n      <td>Gym</td>\n      <td>Sandwich Place</td>\n      <td>Pharmacy</td>\n      <td>Coffee Shop</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Pub</td>\n      <td>Doner Restaurant</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>North York</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Furniture / Home Store</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>Event Space</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>Etobicoke</td>\n      <td>0.0</td>\n      <td>Pizza Place</td>\n      <td>Discount Store</td>\n      <td>Intersection</td>\n      <td>Sandwich Place</td>\n      <td>Chinese Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>Etobicoke</td>\n      <td>0.0</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Mobile Phone Shop</td>\n      <td>Bus Line</td>\n      <td>Yoga Studio</td>\n      <td>Donut Shop</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>Etobicoke</td>\n      <td>0.0</td>\n      <td>Grocery Store</td>\n      <td>Pizza Place</td>\n      <td>Pharmacy</td>\n      <td>Fried Chicken Joint</td>\n      <td>Beer Store</td>\n      <td>Sandwich Place</td>\n      <td>Fast Food Restaurant</td>\n      <td>Construction &amp; Landscaping</td>\n      <td>Comic Shop</td>\n      <td>Falafel Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        Borough  Cluster Labels 1st Most Common Venue   2nd Most Common Venue  \\\n35    East York             0.0           Pizza Place               Pet Store   \n72   North York             0.0           Pizza Place        Sushi Restaurant   \n81         York             0.0           Pizza Place    Caribbean Restaurant   \n89    Etobicoke             0.0           Pizza Place            Dance Studio   \n96   North York             0.0           Pizza Place  Furniture / Home Store   \n99    Etobicoke             0.0           Pizza Place          Discount Store   \n100   Etobicoke             0.0        Sandwich Place             Pizza Place   \n101   Etobicoke             0.0         Grocery Store             Pizza Place   \n\n    3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \\\n35     Athletics & Sports             Gastropub          Intersection   \n72       Asian Restaurant   Japanese Restaurant                   Pub   \n81      Convenience Store           Yoga Studio             Drugstore   \n89                    Gym        Sandwich Place              Pharmacy   \n96         Farmers Market    Falafel Restaurant           Event Space   \n99           Intersection        Sandwich Place    Chinese Restaurant   \n100     Mobile Phone Shop              Bus Line           Yoga Studio   \n101              Pharmacy   Fried Chicken Joint            Beer Store   \n\n    6th Most Common Venue      7th Most Common Venue  \\\n35   Fast Food Restaurant                   Pharmacy   \n72            Yoga Studio                 Donut Shop   \n81         Discount Store        Distribution Center   \n89            Coffee Shop         Athletics & Sports   \n96   Ethiopian Restaurant          Electronics Store   \n99            Coffee Shop  Middle Eastern Restaurant   \n100            Donut Shop        Distribution Center   \n101        Sandwich Place       Fast Food Restaurant   \n\n           8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n35                          Caf\u00e9                  Bank   Gym / Fitness Center  \n72           Distribution Center               Dog Run       Doner Restaurant  \n81                       Dog Run      Doner Restaurant             Donut Shop  \n89                           Pub      Doner Restaurant                  Diner  \n96   Eastern European Restaurant    Dim Sum Restaurant              Drugstore  \n99                    Donut Shop   Distribution Center                Dog Run  \n100                      Dog Run      Doner Restaurant              Drugstore  \n101   Construction & Landscaping            Comic Shop     Falafel Restaurant  "
                    },
                    "execution_count": 51,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged_nonan.loc[toronto_merged_nonan['Cluster Labels'] == 0, toronto_merged_nonan.columns[[1] + list(range(5, toronto_merged_nonan.shape[1]))]]"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": " Cluster 2"
        },
        {
            "cell_type": "code",
            "execution_count": 52,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Fast Food Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Construction &amp; Landscaping</td>\n      <td>Bar</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Breakfast Spot</td>\n      <td>Intersection</td>\n      <td>Bank</td>\n      <td>Rental Car Location</td>\n      <td>Electronics Store</td>\n      <td>Medical Center</td>\n      <td>Mexican Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Korean Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Caribbean Restaurant</td>\n      <td>Fried Chicken Joint</td>\n      <td>Bank</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Thai Restaurant</td>\n      <td>Gas Station</td>\n      <td>Bakery</td>\n      <td>Hakka Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Playground</td>\n      <td>Construction &amp; Landscaping</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Convenience Store</td>\n      <td>Department Store</td>\n      <td>Bus Station</td>\n      <td>Coffee Shop</td>\n      <td>Discount Store</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Bus Line</td>\n      <td>Bakery</td>\n      <td>Bus Station</td>\n      <td>Ice Cream Shop</td>\n      <td>Intersection</td>\n      <td>Metro Station</td>\n      <td>Soccer Field</td>\n      <td>Park</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Motel</td>\n      <td>American Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Farmers Market</td>\n      <td>Falafel Restaurant</td>\n      <td>Event Space</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>College Stadium</td>\n      <td>General Entertainment</td>\n      <td>Skating Rink</td>\n      <td>Caf\u00e9</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Indian Restaurant</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Chinese Restaurant</td>\n      <td>Pet Store</td>\n      <td>Event Space</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Falafel Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Auto Garage</td>\n      <td>Breakfast Spot</td>\n      <td>Bakery</td>\n      <td>Sandwich Place</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Clothing Store</td>\n      <td>Lounge</td>\n      <td>Breakfast Spot</td>\n      <td>Latin American Restaurant</td>\n      <td>Skating Rink</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Pizza Place</td>\n      <td>Chinese Restaurant</td>\n      <td>Fast Food Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Noodle House</td>\n      <td>Fried Chicken Joint</td>\n      <td>Italian Restaurant</td>\n      <td>Rental Car Location</td>\n      <td>Bank</td>\n      <td>Gas Station</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Scarborough</td>\n      <td>1.0</td>\n      <td>Chinese Restaurant</td>\n      <td>Gym Pool</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Nail Salon</td>\n      <td>Coffee Shop</td>\n      <td>Sandwich Place</td>\n      <td>Burger Joint</td>\n      <td>Electronics Store</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Fast Food Restaurant</td>\n      <td>Golf Course</td>\n      <td>Dog Run</td>\n      <td>Pool</td>\n      <td>Mediterranean Restaurant</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Event Space</td>\n      <td>Falafel Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Clothing Store</td>\n      <td>Coffee Shop</td>\n      <td>Fast Food Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Mobile Phone Shop</td>\n      <td>Women's Store</td>\n      <td>Bank</td>\n      <td>Electronics Store</td>\n      <td>Bakery</td>\n      <td>Restaurant</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Caf\u00e9</td>\n      <td>Bank</td>\n      <td>Chinese Restaurant</td>\n      <td>Japanese Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Ramen Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Pizza Place</td>\n      <td>Caf\u00e9</td>\n      <td>Restaurant</td>\n      <td>Ice Cream Shop</td>\n      <td>Steakhouse</td>\n      <td>Indonesian Restaurant</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Grocery Store</td>\n      <td>Bank</td>\n      <td>Butcher</td>\n      <td>Coffee Shop</td>\n      <td>Drugstore</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Gym</td>\n      <td>Sporting Goods Shop</td>\n      <td>Beer Store</td>\n      <td>Japanese Restaurant</td>\n      <td>Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Asian Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bike Shop</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Gym</td>\n      <td>Sporting Goods Shop</td>\n      <td>Beer Store</td>\n      <td>Japanese Restaurant</td>\n      <td>Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Asian Restaurant</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Bike Shop</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Bank</td>\n      <td>Coffee Shop</td>\n      <td>Ice Cream Shop</td>\n      <td>Supermarket</td>\n      <td>Sushi Restaurant</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Mobile Phone Shop</td>\n      <td>Deli / Bodega</td>\n      <td>Fried Chicken Joint</td>\n      <td>Diner</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Metro Station</td>\n      <td>Massage Studio</td>\n      <td>Caribbean Restaurant</td>\n      <td>Bar</td>\n      <td>Coffee Shop</td>\n      <td>Furniture / Home Store</td>\n      <td>Ethiopian Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Event Space</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Business Service</td>\n      <td>Discount Store</td>\n      <td>Shopping Mall</td>\n      <td>Baseball Field</td>\n      <td>Food Truck</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Korean Restaurant</td>\n      <td>Liquor Store</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Business Service</td>\n      <td>Discount Store</td>\n      <td>Shopping Mall</td>\n      <td>Baseball Field</td>\n      <td>Food Truck</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Korean Restaurant</td>\n      <td>Liquor Store</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Business Service</td>\n      <td>Discount Store</td>\n      <td>Shopping Mall</td>\n      <td>Baseball Field</td>\n      <td>Food Truck</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Korean Restaurant</td>\n      <td>Liquor Store</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Park</td>\n      <td>Business Service</td>\n      <td>Discount Store</td>\n      <td>Shopping Mall</td>\n      <td>Baseball Field</td>\n      <td>Food Truck</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Korean Restaurant</td>\n      <td>Liquor Store</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Portuguese Restaurant</td>\n      <td>Grocery Store</td>\n      <td>Coffee Shop</td>\n      <td>Hockey Arena</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>East York</td>\n      <td>1.0</td>\n      <td>Park</td>\n      <td>Spa</td>\n      <td>Pharmacy</td>\n      <td>Skating Rink</td>\n      <td>Video Store</td>\n      <td>Beer Store</td>\n      <td>Athletics &amp; Sports</td>\n      <td>Curling Ice</td>\n      <td>Drugstore</td>\n      <td>Distribution Center</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>59</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Aquarium</td>\n      <td>Caf\u00e9</td>\n      <td>Hotel</td>\n      <td>Sporting Goods Shop</td>\n      <td>Brewery</td>\n      <td>Restaurant</td>\n      <td>Scenic Lookout</td>\n      <td>Italian Restaurant</td>\n      <td>Fried Chicken Joint</td>\n    </tr>\n    <tr>\n      <th>60</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Hotel</td>\n      <td>Caf\u00e9</td>\n      <td>Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>American Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Seafood Restaurant</td>\n      <td>Salad Place</td>\n      <td>Japanese Restaurant</td>\n    </tr>\n    <tr>\n      <th>61</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Restaurant</td>\n      <td>Hotel</td>\n      <td>Gym</td>\n      <td>American Restaurant</td>\n      <td>Deli / Bodega</td>\n      <td>Italian Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Japanese Restaurant</td>\n    </tr>\n    <tr>\n      <th>62</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Restaurant</td>\n      <td>Sandwich Place</td>\n      <td>Italian Restaurant</td>\n      <td>Greek Restaurant</td>\n      <td>Thai Restaurant</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Pub</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>63</th>\n      <td>Central Toronto</td>\n      <td>1.0</td>\n      <td>Home Service</td>\n      <td>Ice Cream Shop</td>\n      <td>Garden</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>64</th>\n      <td>Central Toronto</td>\n      <td>1.0</td>\n      <td>Mexican Restaurant</td>\n      <td>Sushi Restaurant</td>\n      <td>Jewelry Store</td>\n      <td>Trail</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>65</th>\n      <td>Central Toronto</td>\n      <td>1.0</td>\n      <td>Sandwich Place</td>\n      <td>Caf\u00e9</td>\n      <td>Coffee Shop</td>\n      <td>BBQ Joint</td>\n      <td>History Museum</td>\n      <td>Burger Joint</td>\n      <td>Donut Shop</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Indian Restaurant</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>66</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Caf\u00e9</td>\n      <td>Italian Restaurant</td>\n      <td>Restaurant</td>\n      <td>Bar</td>\n      <td>Bakery</td>\n      <td>Japanese Restaurant</td>\n      <td>Bookstore</td>\n      <td>Beer Bar</td>\n      <td>Pub</td>\n      <td>Bank</td>\n    </tr>\n    <tr>\n      <th>67</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Caf\u00e9</td>\n      <td>Coffee Shop</td>\n      <td>Mexican Restaurant</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Bar</td>\n      <td>Grocery Store</td>\n      <td>Bakery</td>\n      <td>Park</td>\n      <td>Pizza Place</td>\n    </tr>\n    <tr>\n      <th>68</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Airport Service</td>\n      <td>Airport Lounge</td>\n      <td>Airport Terminal</td>\n      <td>Harbor / Marina</td>\n      <td>Bar</td>\n      <td>Plane</td>\n      <td>Coffee Shop</td>\n      <td>Rental Car Location</td>\n      <td>Sculpture Garden</td>\n      <td>Boat or Ferry</td>\n    </tr>\n    <tr>\n      <th>69</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Seafood Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Restaurant</td>\n      <td>Beer Bar</td>\n      <td>Cocktail Bar</td>\n      <td>Japanese Restaurant</td>\n      <td>Breakfast Spot</td>\n      <td>Pub</td>\n    </tr>\n    <tr>\n      <th>70</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Japanese Restaurant</td>\n      <td>Gym</td>\n      <td>Hotel</td>\n      <td>Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Salad Place</td>\n      <td>Asian Restaurant</td>\n      <td>Steakhouse</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Furniture / Home Store</td>\n      <td>Clothing Store</td>\n      <td>Accessories Store</td>\n      <td>Coffee Shop</td>\n      <td>Event Space</td>\n      <td>Miscellaneous Shop</td>\n      <td>Gift Shop</td>\n      <td>Boutique</td>\n      <td>Vietnamese Restaurant</td>\n      <td>Coworking Space</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>York</td>\n      <td>1.0</td>\n      <td>Field</td>\n      <td>Trail</td>\n      <td>Tennis Court</td>\n      <td>Hockey Arena</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Caf\u00e9</td>\n      <td>Park</td>\n      <td>Coffee Shop</td>\n      <td>Baby Store</td>\n      <td>Diner</td>\n      <td>Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Candy Store</td>\n      <td>Nightclub</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Bakery</td>\n      <td>Pharmacy</td>\n      <td>Pet Store</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Music Venue</td>\n      <td>Park</td>\n      <td>Caf\u00e9</td>\n      <td>Brewery</td>\n      <td>Supermarket</td>\n      <td>Bar</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Bar</td>\n      <td>Asian Restaurant</td>\n      <td>Restaurant</td>\n      <td>Men's Store</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Vegetarian / Vegan Restaurant</td>\n      <td>Diner</td>\n      <td>Italian Restaurant</td>\n      <td>Ice Cream Shop</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Caf\u00e9</td>\n      <td>Coffee Shop</td>\n      <td>Breakfast Spot</td>\n      <td>Bakery</td>\n      <td>Pet Store</td>\n      <td>Stadium</td>\n      <td>Burrito Place</td>\n      <td>Restaurant</td>\n      <td>Climbing Gym</td>\n      <td>Gym</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>North York</td>\n      <td>1.0</td>\n      <td>Park</td>\n      <td>Basketball Court</td>\n      <td>Bakery</td>\n      <td>Construction &amp; Landscaping</td>\n      <td>Trail</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>York</td>\n      <td>1.0</td>\n      <td>Discount Store</td>\n      <td>Sandwich Place</td>\n      <td>Restaurant</td>\n      <td>Coffee Shop</td>\n      <td>Bar</td>\n      <td>Drugstore</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Caf\u00e9</td>\n      <td>Thai Restaurant</td>\n      <td>Mexican Restaurant</td>\n      <td>Diner</td>\n      <td>Gastropub</td>\n      <td>Italian Restaurant</td>\n      <td>Bar</td>\n      <td>Fried Chicken Joint</td>\n      <td>Bakery</td>\n      <td>Cajun / Creole Restaurant</td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Breakfast Spot</td>\n      <td>Gift Shop</td>\n      <td>Bookstore</td>\n      <td>Cuban Restaurant</td>\n      <td>Bar</td>\n      <td>Dog Run</td>\n      <td>Dessert Shop</td>\n      <td>Restaurant</td>\n      <td>Movie Theater</td>\n      <td>Eastern European Restaurant</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>West Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Sushi Restaurant</td>\n      <td>Italian Restaurant</td>\n      <td>Pub</td>\n      <td>Pizza Place</td>\n      <td>Yoga Studio</td>\n      <td>Bar</td>\n      <td>Spa</td>\n      <td>Smoothie Shop</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>Downtown Toronto</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Sushi Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Park</td>\n      <td>Bar</td>\n      <td>Beer Bar</td>\n      <td>Smoothie Shop</td>\n      <td>Burrito Place</td>\n      <td>Sandwich Place</td>\n      <td>Caf\u00e9</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>Mississauga</td>\n      <td>1.0</td>\n      <td>Coffee Shop</td>\n      <td>Hotel</td>\n      <td>Gym</td>\n      <td>Sandwich Place</td>\n      <td>Gas Station</td>\n      <td>Middle Eastern Restaurant</td>\n      <td>Fried Chicken Joint</td>\n      <td>American Restaurant</td>\n      <td>Intersection</td>\n      <td>Burrito Place</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>East Toronto</td>\n      <td>1.0</td>\n      <td>Yoga Studio</td>\n      <td>Garden</td>\n      <td>Park</td>\n      <td>Gym / Fitness Center</td>\n      <td>Pizza Place</td>\n      <td>Restaurant</td>\n      <td>Butcher</td>\n      <td>Burrito Place</td>\n      <td>Skate Park</td>\n      <td>Brewery</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>Etobicoke</td>\n      <td>1.0</td>\n      <td>Gym</td>\n      <td>Fried Chicken Joint</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Coffee Shop</td>\n      <td>Restaurant</td>\n      <td>Caf\u00e9</td>\n      <td>Mexican Restaurant</td>\n      <td>Seafood Restaurant</td>\n      <td>Liquor Store</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>Etobicoke</td>\n      <td>1.0</td>\n      <td>Grocery Store</td>\n      <td>Thrift / Vintage Store</td>\n      <td>Convenience Store</td>\n      <td>Gym</td>\n      <td>Discount Store</td>\n      <td>Burrito Place</td>\n      <td>Sandwich Place</td>\n      <td>Burger Joint</td>\n      <td>Fast Food Restaurant</td>\n      <td>Kids Store</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>Etobicoke</td>\n      <td>1.0</td>\n      <td>Pet Store</td>\n      <td>Liquor Store</td>\n      <td>Pharmacy</td>\n      <td>Pizza Place</td>\n      <td>Beer Store</td>\n      <td>Coffee Shop</td>\n      <td>Caf\u00e9</td>\n      <td>Shopping Plaza</td>\n      <td>Donut Shop</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>Etobicoke</td>\n      <td>1.0</td>\n      <td>Rental Car Location</td>\n      <td>Drugstore</td>\n      <td>Yoga Studio</td>\n      <td>Dim Sum Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n<p>78 rows \u00d7 12 columns</p>\n</div>",
                        "text/plain": "              Borough  Cluster Labels       1st Most Common Venue  \\\n0         Scarborough             1.0        Fast Food Restaurant   \n1         Scarborough             1.0  Construction & Landscaping   \n2         Scarborough             1.0              Breakfast Spot   \n3         Scarborough             1.0                 Coffee Shop   \n4         Scarborough             1.0        Caribbean Restaurant   \n5         Scarborough             1.0                  Playground   \n6         Scarborough             1.0           Convenience Store   \n7         Scarborough             1.0                    Bus Line   \n8         Scarborough             1.0                       Motel   \n9         Scarborough             1.0             College Stadium   \n10        Scarborough             1.0           Indian Restaurant   \n11        Scarborough             1.0   Middle Eastern Restaurant   \n12        Scarborough             1.0              Clothing Store   \n13        Scarborough             1.0                 Pizza Place   \n15        Scarborough             1.0          Chinese Restaurant   \n17         North York             1.0        Fast Food Restaurant   \n18         North York             1.0              Clothing Store   \n19         North York             1.0                        Caf\u00e9   \n22         North York             1.0            Ramen Restaurant   \n24         North York             1.0                    Pharmacy   \n26         North York             1.0                         Gym   \n27         North York             1.0                         Gym   \n28         North York             1.0                        Bank   \n29         North York             1.0               Metro Station   \n30         North York             1.0               Grocery Store   \n31         North York             1.0               Grocery Store   \n32         North York             1.0               Grocery Store   \n33         North York             1.0               Grocery Store   \n34         North York             1.0       Portuguese Restaurant   \n36          East York             1.0                        Park   \n..                ...             ...                         ...   \n59   Downtown Toronto             1.0                 Coffee Shop   \n60   Downtown Toronto             1.0                 Coffee Shop   \n61   Downtown Toronto             1.0                 Coffee Shop   \n62         North York             1.0                 Coffee Shop   \n63    Central Toronto             1.0                Home Service   \n64    Central Toronto             1.0          Mexican Restaurant   \n65    Central Toronto             1.0              Sandwich Place   \n66   Downtown Toronto             1.0                        Caf\u00e9   \n67   Downtown Toronto             1.0                        Caf\u00e9   \n68   Downtown Toronto             1.0             Airport Service   \n69   Downtown Toronto             1.0                 Coffee Shop   \n70   Downtown Toronto             1.0                 Coffee Shop   \n71         North York             1.0      Furniture / Home Store   \n73               York             1.0                       Field   \n75   Downtown Toronto             1.0               Grocery Store   \n76       West Toronto             1.0                      Bakery   \n77       West Toronto             1.0                         Bar   \n78       West Toronto             1.0                        Caf\u00e9   \n79         North York             1.0                        Park   \n80               York             1.0              Discount Store   \n82       West Toronto             1.0                        Caf\u00e9   \n83       West Toronto             1.0              Breakfast Spot   \n84       West Toronto             1.0                 Coffee Shop   \n85   Downtown Toronto             1.0                 Coffee Shop   \n86        Mississauga             1.0                 Coffee Shop   \n87       East Toronto             1.0                 Yoga Studio   \n88          Etobicoke             1.0                         Gym   \n92          Etobicoke             1.0               Grocery Store   \n95          Etobicoke             1.0                   Pet Store   \n102         Etobicoke             1.0         Rental Car Location   \n\n          2nd Most Common Venue        3rd Most Common Venue  \\\n0                   Yoga Studio  Eastern European Restaurant   \n1                           Bar                  Yoga Studio   \n2                  Intersection                         Bank   \n3             Korean Restaurant                  Yoga Studio   \n4           Fried Chicken Joint                         Bank   \n5    Construction & Landscaping                  Yoga Studio   \n6              Department Store                  Bus Station   \n7                        Bakery                  Bus Station   \n8           American Restaurant         Fast Food Restaurant   \n9         General Entertainment                 Skating Rink   \n10        Vietnamese Restaurant           Chinese Restaurant   \n11                  Auto Garage               Breakfast Spot   \n12                       Lounge               Breakfast Spot   \n13           Chinese Restaurant         Fast Food Restaurant   \n15                     Gym Pool       Thrift / Vintage Store   \n17                  Golf Course                      Dog Run   \n18                  Coffee Shop         Fast Food Restaurant   \n19                         Bank           Chinese Restaurant   \n22                  Coffee Shop             Sushi Restaurant   \n24                  Pizza Place                Grocery Store   \n26          Sporting Goods Shop                   Beer Store   \n27          Sporting Goods Shop                   Beer Store   \n28                  Coffee Shop               Ice Cream Shop   \n29               Massage Studio         Caribbean Restaurant   \n30                         Park             Business Service   \n31                         Park             Business Service   \n32                         Park             Business Service   \n33                         Park             Business Service   \n34                Grocery Store                  Coffee Shop   \n36                          Spa                     Pharmacy   \n..                          ...                          ...   \n59                     Aquarium                         Caf\u00e9   \n60                        Hotel                         Caf\u00e9   \n61                         Caf\u00e9                   Restaurant   \n62                   Restaurant               Sandwich Place   \n63               Ice Cream Shop                       Garden   \n64             Sushi Restaurant                Jewelry Store   \n65                         Caf\u00e9                  Coffee Shop   \n66           Italian Restaurant                   Restaurant   \n67                  Coffee Shop           Mexican Restaurant   \n68               Airport Lounge             Airport Terminal   \n69                         Caf\u00e9           Seafood Restaurant   \n70                         Caf\u00e9          Japanese Restaurant   \n71               Clothing Store            Accessories Store   \n73                        Trail                 Tennis Court   \n75                         Caf\u00e9                         Park   \n76                     Pharmacy                    Pet Store   \n77             Asian Restaurant                   Restaurant   \n78                  Coffee Shop               Breakfast Spot   \n79             Basketball Court                       Bakery   \n80               Sandwich Place                   Restaurant   \n82              Thai Restaurant           Mexican Restaurant   \n83                    Gift Shop                    Bookstore   \n84                         Caf\u00e9             Sushi Restaurant   \n85             Sushi Restaurant                  Yoga Studio   \n86                        Hotel                          Gym   \n87                       Garden                         Park   \n88          Fried Chicken Joint                     Pharmacy   \n92       Thrift / Vintage Store            Convenience Store   \n95                 Liquor Store                     Pharmacy   \n102                   Drugstore                  Yoga Studio   \n\n           4th Most Common Venue          5th Most Common Venue  \\\n0            Distribution Center                        Dog Run   \n1    Eastern European Restaurant                        Dog Run   \n2            Rental Car Location              Electronics Store   \n3    Eastern European Restaurant            Distribution Center   \n4             Athletics & Sports                Thai Restaurant   \n5    Eastern European Restaurant            Distribution Center   \n6                    Coffee Shop                 Discount Store   \n7                 Ice Cream Shop                   Intersection   \n8                 Farmers Market             Falafel Restaurant   \n9                           Caf\u00e9                      Drugstore   \n10                     Pet Store                    Event Space   \n11                        Bakery                 Sandwich Place   \n12     Latin American Restaurant                   Skating Rink   \n13                      Pharmacy                   Noodle House   \n15                      Pharmacy                    Pizza Place   \n17                          Pool       Mediterranean Restaurant   \n18           Japanese Restaurant              Mobile Phone Shop   \n19           Japanese Restaurant                    Yoga Studio   \n22                Sandwich Place                    Pizza Place   \n24                          Bank                        Butcher   \n26           Japanese Restaurant                     Restaurant   \n27           Japanese Restaurant                     Restaurant   \n28                   Supermarket               Sushi Restaurant   \n29                           Bar                    Coffee Shop   \n30                Discount Store                  Shopping Mall   \n31                Discount Store                  Shopping Mall   \n32                Discount Store                  Shopping Mall   \n33                Discount Store                  Shopping Mall   \n34                  Hockey Arena            Dumpling Restaurant   \n36                  Skating Rink                    Video Store   \n..                           ...                            ...   \n59                         Hotel            Sporting Goods Shop   \n60                    Restaurant             Italian Restaurant   \n61                         Hotel                            Gym   \n62            Italian Restaurant               Greek Restaurant   \n63           Dumpling Restaurant                 Discount Store   \n64                         Trail                    Yoga Studio   \n65                     BBQ Joint                 History Museum   \n66                           Bar                         Bakery   \n67         Vietnamese Restaurant  Vegetarian / Vegan Restaurant   \n68               Harbor / Marina                            Bar   \n69            Italian Restaurant                     Restaurant   \n70                           Gym                          Hotel   \n71                   Coffee Shop                    Event Space   \n73                  Hockey Arena                 Discount Store   \n75                   Coffee Shop                     Baby Store   \n76     Middle Eastern Restaurant                    Music Venue   \n77                   Men's Store                    Coffee Shop   \n78                        Bakery                      Pet Store   \n79    Construction & Landscaping                          Trail   \n80                   Coffee Shop                            Bar   \n82                         Diner                      Gastropub   \n83              Cuban Restaurant                            Bar   \n84            Italian Restaurant                            Pub   \n85                          Park                            Bar   \n86                Sandwich Place                    Gas Station   \n87          Gym / Fitness Center                    Pizza Place   \n88                   Pizza Place                    Coffee Shop   \n92                           Gym                 Discount Store   \n95                   Pizza Place                     Beer Store   \n102           Dim Sum Restaurant                 Discount Store   \n\n           6th Most Common Venue          7th Most Common Venue  \\\n0               Doner Restaurant                     Donut Shop   \n1               Doner Restaurant                     Donut Shop   \n2                 Medical Center             Mexican Restaurant   \n3                        Dog Run               Doner Restaurant   \n4                    Gas Station                         Bakery   \n5                        Dog Run               Doner Restaurant   \n6                    Yoga Studio            Dumpling Restaurant   \n7                  Metro Station                   Soccer Field   \n8                    Event Space           Ethiopian Restaurant   \n9                 Discount Store            Distribution Center   \n10          Ethiopian Restaurant             Falafel Restaurant   \n11                   Yoga Studio            Dumpling Restaurant   \n12   Eastern European Restaurant                        Dog Run   \n13           Fried Chicken Joint             Italian Restaurant   \n15                    Nail Salon                    Coffee Shop   \n17          Ethiopian Restaurant              Electronics Store   \n18                 Women's Store                           Bank   \n19                       Dog Run               Doner Restaurant   \n22                          Caf\u00e9                     Restaurant   \n24                   Coffee Shop                      Drugstore   \n26                   Coffee Shop               Asian Restaurant   \n27                   Coffee Shop               Asian Restaurant   \n28     Middle Eastern Restaurant              Mobile Phone Shop   \n29        Furniture / Home Store           Ethiopian Restaurant   \n30                Baseball Field                     Food Truck   \n31                Baseball Field                     Food Truck   \n32                Baseball Field                     Food Truck   \n33                Baseball Field                     Food Truck   \n34                Discount Store            Distribution Center   \n36                    Beer Store             Athletics & Sports   \n..                           ...                            ...   \n59                       Brewery                     Restaurant   \n60           American Restaurant                  Deli / Bodega   \n61           American Restaurant                  Deli / Bodega   \n62               Thai Restaurant                       Pharmacy   \n63           Distribution Center                        Dog Run   \n64                     Drugstore            Distribution Center   \n65                  Burger Joint                     Donut Shop   \n66           Japanese Restaurant                      Bookstore   \n67                           Bar                  Grocery Store   \n68                         Plane                    Coffee Shop   \n69                      Beer Bar                   Cocktail Bar   \n70                    Restaurant             Seafood Restaurant   \n71            Miscellaneous Shop                      Gift Shop   \n73           Distribution Center                        Dog Run   \n75                         Diner                     Restaurant   \n76                          Park                           Caf\u00e9   \n77                          Caf\u00e9  Vegetarian / Vegan Restaurant   \n78                       Stadium                  Burrito Place   \n79                       Dog Run               Doner Restaurant   \n80                     Drugstore            Distribution Center   \n82            Italian Restaurant                            Bar   \n83                       Dog Run                   Dessert Shop   \n84                   Pizza Place                    Yoga Studio   \n85                      Beer Bar                  Smoothie Shop   \n86     Middle Eastern Restaurant            Fried Chicken Joint   \n87                    Restaurant                        Butcher   \n88                    Restaurant                           Caf\u00e9   \n92                 Burrito Place                 Sandwich Place   \n95                   Coffee Shop                           Caf\u00e9   \n102          Distribution Center                        Dog Run   \n\n         8th Most Common Venue        9th Most Common Venue  \\\n0                    Drugstore          Dumpling Restaurant   \n1                    Drugstore          Dumpling Restaurant   \n2                  Yoga Studio                    Drugstore   \n3                   Donut Shop                    Drugstore   \n4             Hakka Restaurant            Electronics Store   \n5                   Donut Shop                    Drugstore   \n6                      Dog Run             Doner Restaurant   \n7                         Park  Eastern European Restaurant   \n8            Electronics Store  Eastern European Restaurant   \n9                      Dog Run             Doner Restaurant   \n10           Electronics Store  Eastern European Restaurant   \n11            Doner Restaurant                   Donut Shop   \n12            Doner Restaurant                   Donut Shop   \n13         Rental Car Location                         Bank   \n15              Sandwich Place                 Burger Joint   \n17                 Event Space           Falafel Restaurant   \n18           Electronics Store                       Bakery   \n19                  Donut Shop                    Drugstore   \n22              Ice Cream Shop                   Steakhouse   \n24         Distribution Center                      Dog Run   \n26          Dim Sum Restaurant               Sandwich Place   \n27          Dim Sum Restaurant               Sandwich Place   \n28               Deli / Bodega          Fried Chicken Joint   \n29           Electronics Store                  Event Space   \n30          Athletics & Sports            Korean Restaurant   \n31          Athletics & Sports            Korean Restaurant   \n32          Athletics & Sports            Korean Restaurant   \n33          Athletics & Sports            Korean Restaurant   \n34                     Dog Run             Doner Restaurant   \n36                 Curling Ice                    Drugstore   \n..                         ...                          ...   \n59              Scenic Lookout           Italian Restaurant   \n60          Seafood Restaurant                  Salad Place   \n61          Italian Restaurant           Seafood Restaurant   \n62                 Pizza Place                          Pub   \n63            Doner Restaurant                   Donut Shop   \n64                     Dog Run             Doner Restaurant   \n65   Middle Eastern Restaurant            Indian Restaurant   \n66                    Beer Bar                          Pub   \n67                      Bakery                         Park   \n68         Rental Car Location             Sculpture Garden   \n69         Japanese Restaurant               Breakfast Spot   \n70                 Salad Place             Asian Restaurant   \n71                    Boutique        Vietnamese Restaurant   \n73            Doner Restaurant                   Donut Shop   \n75          Italian Restaurant                  Candy Store   \n76                     Brewery                  Supermarket   \n77                       Diner           Italian Restaurant   \n78                  Restaurant                 Climbing Gym   \n79                  Donut Shop                    Drugstore   \n80                     Dog Run             Doner Restaurant   \n82         Fried Chicken Joint                       Bakery   \n83                  Restaurant                Movie Theater   \n84                         Bar                          Spa   \n85               Burrito Place               Sandwich Place   \n86         American Restaurant                 Intersection   \n87               Burrito Place                   Skate Park   \n88          Mexican Restaurant           Seafood Restaurant   \n92                Burger Joint         Fast Food Restaurant   \n95              Shopping Plaza                   Donut Shop   \n102           Doner Restaurant                   Donut Shop   \n\n          10th Most Common Venue  \n0              Electronics Store  \n1              Electronics Store  \n2               Doner Restaurant  \n3            Dumpling Restaurant  \n4    Eastern European Restaurant  \n5            Dumpling Restaurant  \n6                     Donut Shop  \n7            Dumpling Restaurant  \n8             Dim Sum Restaurant  \n9                     Donut Shop  \n10           Dumpling Restaurant  \n11                     Drugstore  \n12                     Drugstore  \n13                   Gas Station  \n15             Electronics Store  \n17            Dim Sum Restaurant  \n18                    Restaurant  \n19           Dumpling Restaurant  \n22         Indonesian Restaurant  \n24              Doner Restaurant  \n26                     Bike Shop  \n27                     Bike Shop  \n28                         Diner  \n29   Eastern European Restaurant  \n30                  Liquor Store  \n31                  Liquor Store  \n32                  Liquor Store  \n33                  Liquor Store  \n34                    Donut Shop  \n36           Distribution Center  \n..                           ...  \n59           Fried Chicken Joint  \n60           Japanese Restaurant  \n61           Japanese Restaurant  \n62                          Caf\u00e9  \n63                     Drugstore  \n64                    Donut Shop  \n65                           Pub  \n66                          Bank  \n67                   Pizza Place  \n68                 Boat or Ferry  \n69                           Pub  \n70                    Steakhouse  \n71               Coworking Space  \n73                     Drugstore  \n75                     Nightclub  \n76                           Bar  \n77                Ice Cream Shop  \n78                           Gym  \n79           Dumpling Restaurant  \n80                    Donut Shop  \n82     Cajun / Creole Restaurant  \n83   Eastern European Restaurant  \n84                 Smoothie Shop  \n85                          Caf\u00e9  \n86                 Burrito Place  \n87                       Brewery  \n88                  Liquor Store  \n92                    Kids Store  \n95                Discount Store  \n102          Dumpling Restaurant  \n\n[78 rows x 12 columns]"
                    },
                    "execution_count": 52,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged_nonan.loc[toronto_merged_nonan['Cluster Labels'] == 1, toronto_merged_nonan.columns[[1] + list(range(5, toronto_merged_nonan.shape[1]))]]"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Cluster 3"
        },
        {
            "cell_type": "code",
            "execution_count": 53,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>91</th>\n      <td>Etobicoke</td>\n      <td>2.0</td>\n      <td>Baseball Field</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n      <td>Discount Store</td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>North York</td>\n      <td>2.0</td>\n      <td>Baseball Field</td>\n      <td>Food Service</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Electronics Store</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "       Borough  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \\\n91   Etobicoke             2.0        Baseball Field           Yoga Studio   \n97  North York             2.0        Baseball Field          Food Service   \n\n          3rd Most Common Venue        4th Most Common Venue  \\\n91  Eastern European Restaurant                      Dog Run   \n97                  Yoga Studio  Eastern European Restaurant   \n\n   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n91      Doner Restaurant            Donut Shop             Drugstore   \n97               Dog Run      Doner Restaurant            Donut Shop   \n\n   8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n91   Dumpling Restaurant     Electronics Store         Discount Store  \n97             Drugstore   Dumpling Restaurant      Electronics Store  "
                    },
                    "execution_count": 53,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged_nonan.loc[toronto_merged_nonan['Cluster Labels'] == 2, toronto_merged_nonan.columns[[1] + list(range(5, toronto_merged_nonan.shape[1]))]]"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Cluster 4"
        },
        {
            "cell_type": "code",
            "execution_count": 54,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>20</th>\n      <td>North York</td>\n      <td>3.0</td>\n      <td>Cafeteria</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n      <td>Yoga Studio</td>\n      <td>Discount Store</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "       Borough  Cluster Labels 1st Most Common Venue  \\\n20  North York             3.0             Cafeteria   \n\n          2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \\\n20  Eastern European Restaurant   Distribution Center               Dog Run   \n\n   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n20      Doner Restaurant            Donut Shop             Drugstore   \n\n   8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n20   Dumpling Restaurant           Yoga Studio         Discount Store  "
                    },
                    "execution_count": 54,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged_nonan.loc[toronto_merged_nonan['Cluster Labels'] == 3, toronto_merged_nonan.columns[[1] + list(range(5, toronto_merged_nonan.shape[1]))]]"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Cluster 5"
        },
        {
            "cell_type": "code",
            "execution_count": 55,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Borough</th>\n      <th>Cluster Labels</th>\n      <th>1st Most Common Venue</th>\n      <th>2nd Most Common Venue</th>\n      <th>3rd Most Common Venue</th>\n      <th>4th Most Common Venue</th>\n      <th>5th Most Common Venue</th>\n      <th>6th Most Common Venue</th>\n      <th>7th Most Common Venue</th>\n      <th>8th Most Common Venue</th>\n      <th>9th Most Common Venue</th>\n      <th>10th Most Common Venue</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>14</th>\n      <td>Scarborough</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Playground</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>North York</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Convenience Store</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>North York</td>\n      <td>4.0</td>\n      <td>Food &amp; Drink Shop</td>\n      <td>Fireworks Store</td>\n      <td>Park</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>40</th>\n      <td>East York</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Intersection</td>\n      <td>Convenience Store</td>\n      <td>Metro Station</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>44</th>\n      <td>Central Toronto</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Bus Line</td>\n      <td>Swim School</td>\n      <td>Filipino Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>48</th>\n      <td>Central Toronto</td>\n      <td>4.0</td>\n      <td>Gym</td>\n      <td>Park</td>\n      <td>Yoga Studio</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>50</th>\n      <td>Downtown Toronto</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Playground</td>\n      <td>Trail</td>\n      <td>Drugstore</td>\n      <td>Diner</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>York</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Women's Store</td>\n      <td>Pool</td>\n      <td>Dumpling Restaurant</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>Etobicoke</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>River</td>\n      <td>Yoga Studio</td>\n      <td>Drugstore</td>\n      <td>Discount Store</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>York</td>\n      <td>4.0</td>\n      <td>Park</td>\n      <td>Convenience Store</td>\n      <td>Yoga Studio</td>\n      <td>Eastern European Restaurant</td>\n      <td>Distribution Center</td>\n      <td>Dog Run</td>\n      <td>Doner Restaurant</td>\n      <td>Donut Shop</td>\n      <td>Drugstore</td>\n      <td>Dumpling Restaurant</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "             Borough  Cluster Labels 1st Most Common Venue  \\\n14       Scarborough             4.0                  Park   \n23        North York             4.0                  Park   \n25        North York             4.0     Food & Drink Shop   \n40         East York             4.0                  Park   \n44   Central Toronto             4.0                  Park   \n48   Central Toronto             4.0                   Gym   \n50  Downtown Toronto             4.0                  Park   \n74              York             4.0                  Park   \n90         Etobicoke             4.0                  Park   \n98              York             4.0                  Park   \n\n   2nd Most Common Venue 3rd Most Common Venue        4th Most Common Venue  \\\n14            Playground           Yoga Studio          Dumpling Restaurant   \n23     Convenience Store           Yoga Studio  Eastern European Restaurant   \n25       Fireworks Store                  Park  Eastern European Restaurant   \n40          Intersection     Convenience Store                Metro Station   \n44              Bus Line           Swim School          Filipino Restaurant   \n48                  Park           Yoga Studio          Dumpling Restaurant   \n50            Playground                 Trail                    Drugstore   \n74         Women's Store                  Pool          Dumpling Restaurant   \n90                 River           Yoga Studio                    Drugstore   \n98     Convenience Store           Yoga Studio  Eastern European Restaurant   \n\n   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \\\n14        Discount Store   Distribution Center               Dog Run   \n23   Distribution Center               Dog Run      Doner Restaurant   \n25   Distribution Center               Dog Run      Doner Restaurant   \n40           Yoga Studio   Dumpling Restaurant               Dog Run   \n44   Distribution Center               Dog Run      Doner Restaurant   \n48        Discount Store   Distribution Center               Dog Run   \n50                 Diner        Discount Store   Distribution Center   \n74        Discount Store   Distribution Center               Dog Run   \n90        Discount Store   Distribution Center               Dog Run   \n98   Distribution Center               Dog Run      Doner Restaurant   \n\n   8th Most Common Venue 9th Most Common Venue 10th Most Common Venue  \n14      Doner Restaurant            Donut Shop              Drugstore  \n23            Donut Shop             Drugstore    Dumpling Restaurant  \n25            Donut Shop             Drugstore    Dumpling Restaurant  \n40      Doner Restaurant            Donut Shop              Drugstore  \n44            Donut Shop             Drugstore    Dumpling Restaurant  \n48      Doner Restaurant            Donut Shop              Drugstore  \n50               Dog Run      Doner Restaurant             Donut Shop  \n74      Doner Restaurant            Donut Shop              Drugstore  \n90      Doner Restaurant            Donut Shop    Dumpling Restaurant  \n98            Donut Shop             Drugstore    Dumpling Restaurant  "
                    },
                    "execution_count": 55,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "toronto_merged_nonan.loc[toronto_merged_nonan['Cluster Labels'] == 4, toronto_merged_nonan.columns[[1] + list(range(5, toronto_merged_nonan.shape[1]))]]"
        },
        {
            "cell_type": "code",
            "execution_count": null,
            "metadata": {},
            "outputs": [],
            "source": ""
        }
    ],
    "metadata": {
        "kernelspec": {
            "display_name": "Python 3.6",
            "language": "python",
            "name": "python3"
        },
        "language_info": {
            "codemirror_mode": {
                "name": "ipython",
                "version": 3
            },
            "file_extension": ".py",
            "mimetype": "text/x-python",
            "name": "python",
            "nbconvert_exporter": "python",
            "pygments_lexer": "ipython3",
            "version": "3.6.9"
        }
    },
    "nbformat": 4,
    "nbformat_minor": 1
}